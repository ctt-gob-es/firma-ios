//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/crypto/rainbow/Layer.java
//

#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/security/SecureRandom.h"
#include "org/bouncycastle/pqc/crypto/rainbow/Layer.h"
#include "org/bouncycastle/pqc/crypto/rainbow/util/GF2Field.h"
#include "org/bouncycastle/pqc/crypto/rainbow/util/RainbowUtil.h"
#include "org/bouncycastle/util/Arrays.h"

#if !__has_feature(objc_arc)
#error "org/bouncycastle/pqc/crypto/rainbow/Layer must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgBouncycastlePqcCryptoRainbowLayer () {
 @public
  jint vi_;
  jint viNext_;
  jint oi_;
  IOSObjectArray *coeff_alpha_;
  IOSObjectArray *coeff_beta_;
  IOSObjectArray *coeff_gamma_;
  IOSShortArray *coeff_eta_;
}

@end

J2OBJC_FIELD_SETTER(OrgBouncycastlePqcCryptoRainbowLayer, coeff_alpha_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgBouncycastlePqcCryptoRainbowLayer, coeff_beta_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgBouncycastlePqcCryptoRainbowLayer, coeff_gamma_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgBouncycastlePqcCryptoRainbowLayer, coeff_eta_, IOSShortArray *)

#line 1 "/Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/crypto/rainbow/Layer.java"


#line 25
@implementation OrgBouncycastlePqcCryptoRainbowLayer


#line 52
- (instancetype)initWithByte:(jbyte)vi
                    withByte:(jbyte)viNext
             withShortArray3:(IOSObjectArray *)coeffAlpha
             withShortArray3:(IOSObjectArray *)coeffBeta
             withShortArray2:(IOSObjectArray *)coeffGamma
              withShortArray:(IOSShortArray *)coeffEta {
  OrgBouncycastlePqcCryptoRainbowLayer_initWithByte_withByte_withShortArray3_withShortArray3_withShortArray2_withShortArray_(self, vi, viNext, coeffAlpha, coeffBeta, coeffGamma, coeffEta);
  return self;
}


#line 72
- (instancetype)initWithInt:(jint)vi
                    withInt:(jint)viNext
withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr {
  OrgBouncycastlePqcCryptoRainbowLayer_initWithInt_withInt_withJavaSecuritySecureRandom_(self, vi, viNext, sr);
  return self;
}


#line 135
- (IOSObjectArray *)plugInVinegarsWithShortArray:(IOSShortArray *)x {
  
#line 138
  jshort tmpMult = 0;
  
#line 140
  IOSObjectArray *coeff = [IOSShortArray newArrayWithDimensions:2 lengths:(jint[]){ oi_, oi_ + 1 }];
  
#line 142
  IOSShortArray *sum = [IOSShortArray newArrayWithLength:oi_];
  
#line 148
  for (jint k = 0; k < oi_; k++) {
    
#line 150
    for (jint i = 0; i < vi_; i++) {
      
#line 152
      for (jint j = 0; j < vi_; j++) {
        
#line 155
        tmpMult = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_multElemWithShort_withShort_(IOSShortArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(coeff_beta_), k)), i)), j), IOSShortArray_Get(nil_chk(x), i));
        
#line 157
        tmpMult = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_multElemWithShort_withShort_(tmpMult, IOSShortArray_Get(x, j));
        
#line 159
        *IOSShortArray_GetRef(sum, k) = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_addElemWithShort_withShort_(IOSShortArray_Get(sum, k), tmpMult);
      }
    }
  }
  
#line 165
  for (jint k = 0; k < oi_; k++) {
    
#line 167
    for (jint i = 0; i < oi_; i++) {
      
#line 169
      for (jint j = 0; j < vi_; j++) {
        
#line 172
        tmpMult = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_multElemWithShort_withShort_(IOSShortArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(coeff_alpha_), k)), i)), j), IOSShortArray_Get(nil_chk(x), j));
        
#line 174
        *IOSShortArray_GetRef(nil_chk(IOSObjectArray_Get(coeff, k)), i) = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_addElemWithShort_withShort_(IOSShortArray_Get(nil_chk(IOSObjectArray_Get(coeff, k)), i), tmpMult);
      }
    }
  }
  
#line 179
  for (jint k = 0; k < oi_; k++) {
    
#line 181
    for (jint i = 0; i < vi_; i++) {
      
#line 184
      tmpMult = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_multElemWithShort_withShort_(IOSShortArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(coeff_gamma_), k)), i), IOSShortArray_Get(nil_chk(x), i));
      
#line 187
      *IOSShortArray_GetRef(sum, k) = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_addElemWithShort_withShort_(IOSShortArray_Get(sum, k), tmpMult);
    }
  }
  
#line 191
  for (jint k = 0; k < oi_; k++) {
    
#line 193
    for (jint i = vi_; i < viNext_; i++) {
      
#line 197
      *IOSShortArray_GetRef(nil_chk(IOSObjectArray_Get(coeff, k)), i - vi_) = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_addElemWithShort_withShort_(IOSShortArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(coeff_gamma_), k)), i), IOSShortArray_Get(nil_chk(IOSObjectArray_Get(
#line 198
      coeff, k)), i - vi_));
    }
  }
  
#line 202
  for (jint k = 0; k < oi_; k++) {
    
#line 205
    *IOSShortArray_GetRef(sum, k) = OrgBouncycastlePqcCryptoRainbowUtilGF2Field_addElemWithShort_withShort_(IOSShortArray_Get(sum, k), IOSShortArray_Get(nil_chk(coeff_eta_), k));
  }
  
#line 209
  for (jint k = 0; k < oi_; k++) {
    
#line 211
    *IOSShortArray_GetRef(nil_chk(IOSObjectArray_Get(coeff, k)), oi_) = IOSShortArray_Get(sum, k);
  }
  return coeff;
}


#line 221
- (jint)getVi {
  
#line 223
  return vi_;
}


#line 231
- (jint)getViNext {
  
#line 233
  return viNext_;
}


#line 241
- (jint)getOi {
  
#line 243
  return oi_;
}


#line 251
- (IOSObjectArray *)getCoeffAlpha {
  
#line 253
  return coeff_alpha_;
}


#line 262
- (IOSObjectArray *)getCoeffBeta {
  
#line 264
  return coeff_beta_;
}


#line 272
- (IOSObjectArray *)getCoeffGamma {
  
#line 274
  return coeff_gamma_;
}


#line 282
- (IOSShortArray *)getCoeffEta {
  
#line 284
  return coeff_eta_;
}


#line 293
- (jboolean)isEqual:(id)other {
  
#line 296
  if (other == nil || !([other isKindOfClass:[OrgBouncycastlePqcCryptoRainbowLayer class]])) {
    
#line 298
    return false;
  }
  OrgBouncycastlePqcCryptoRainbowLayer *otherLayer = (OrgBouncycastlePqcCryptoRainbowLayer *) cast_chk(other, [OrgBouncycastlePqcCryptoRainbowLayer class]);
  
#line 302
  return vi_ == [otherLayer getVi] &&
#line 303
  viNext_ == [otherLayer getViNext] &&
#line 304
  oi_ == [otherLayer getOi] && OrgBouncycastlePqcCryptoRainbowUtilRainbowUtil_equalsWithShortArray3_withShortArray3_(
#line 305
  coeff_alpha_, [otherLayer getCoeffAlpha]) && OrgBouncycastlePqcCryptoRainbowUtilRainbowUtil_equalsWithShortArray3_withShortArray3_(
#line 306
  coeff_beta_, [otherLayer getCoeffBeta]) && OrgBouncycastlePqcCryptoRainbowUtilRainbowUtil_equalsWithShortArray2_withShortArray2_(
#line 307
  coeff_gamma_, [otherLayer getCoeffGamma]) && OrgBouncycastlePqcCryptoRainbowUtilRainbowUtil_equalsWithShortArray_withShortArray_(
#line 308
  coeff_eta_, [otherLayer getCoeffEta]);
}


#line 311
- (NSUInteger)hash {
  
#line 314
  jint hash_ = vi_;
  hash_ = hash_ * 37 + viNext_;
  hash_ = hash_ * 37 + oi_;
  hash_ = hash_ * 37 + OrgBouncycastleUtilArrays_hashCodeWithShortArray3_(coeff_alpha_);
  hash_ = hash_ * 37 + OrgBouncycastleUtilArrays_hashCodeWithShortArray3_(coeff_beta_);
  hash_ = hash_ * 37 + OrgBouncycastleUtilArrays_hashCodeWithShortArray2_(coeff_gamma_);
  hash_ = hash_ * 37 + OrgBouncycastleUtilArrays_hashCodeWithShortArray_(coeff_eta_);
  
#line 322
  return hash_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, "[[S", 0x1, 2, 3, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[[[S", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[[[S", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[[S", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[S", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 6, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithByte:withByte:withShortArray3:withShortArray3:withShortArray2:withShortArray:);
  methods[1].selector = @selector(initWithInt:withInt:withJavaSecuritySecureRandom:);
  methods[2].selector = @selector(plugInVinegarsWithShortArray:);
  methods[3].selector = @selector(getVi);
  methods[4].selector = @selector(getViNext);
  methods[5].selector = @selector(getOi);
  methods[6].selector = @selector(getCoeffAlpha);
  methods[7].selector = @selector(getCoeffBeta);
  methods[8].selector = @selector(getCoeffGamma);
  methods[9].selector = @selector(getCoeffEta);
  methods[10].selector = @selector(isEqual:);
  methods[11].selector = @selector(hash);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "vi_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "viNext_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "oi_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "coeff_alpha_", "[[[S", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "coeff_beta_", "[[[S", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "coeff_gamma_", "[[S", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "coeff_eta_", "[S", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "BB[[[S[[[S[[S[S", "IILJavaSecuritySecureRandom;", "plugInVinegars", "[S", "equals", "LNSObject;", "hashCode" };
  static const J2ObjcClassInfo _OrgBouncycastlePqcCryptoRainbowLayer = { "Layer", "org.bouncycastle.pqc.crypto.rainbow", ptrTable, methods, fields, 7, 0x1, 12, 7, -1, -1, -1, -1, -1 };
  return &_OrgBouncycastlePqcCryptoRainbowLayer;
}

@end


#line 52
void OrgBouncycastlePqcCryptoRainbowLayer_initWithByte_withByte_withShortArray3_withShortArray3_withShortArray2_withShortArray_(OrgBouncycastlePqcCryptoRainbowLayer *self, jbyte vi, jbyte viNext, IOSObjectArray *coeffAlpha, IOSObjectArray *coeffBeta, IOSObjectArray *coeffGamma, IOSShortArray *coeffEta) {
  NSObject_init(self);
  
#line 55
  self->vi_ = vi & (jint) 0xff;
  self->viNext_ = viNext & (jint) 0xff;
  self->oi_ = self->viNext_ - self->vi_;
  
#line 60
  self->coeff_alpha_ = coeffAlpha;
  self->coeff_beta_ = coeffBeta;
  self->coeff_gamma_ = coeffGamma;
  self->coeff_eta_ = coeffEta;
}


#line 52
OrgBouncycastlePqcCryptoRainbowLayer *new_OrgBouncycastlePqcCryptoRainbowLayer_initWithByte_withByte_withShortArray3_withShortArray3_withShortArray2_withShortArray_(jbyte vi, jbyte viNext, IOSObjectArray *coeffAlpha, IOSObjectArray *coeffBeta, IOSObjectArray *coeffGamma, IOSShortArray *coeffEta) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcCryptoRainbowLayer, initWithByte_withByte_withShortArray3_withShortArray3_withShortArray2_withShortArray_, vi, viNext, coeffAlpha, coeffBeta, coeffGamma, coeffEta)
}


#line 52
OrgBouncycastlePqcCryptoRainbowLayer *create_OrgBouncycastlePqcCryptoRainbowLayer_initWithByte_withByte_withShortArray3_withShortArray3_withShortArray2_withShortArray_(jbyte vi, jbyte viNext, IOSObjectArray *coeffAlpha, IOSObjectArray *coeffBeta, IOSObjectArray *coeffGamma, IOSShortArray *coeffEta) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcCryptoRainbowLayer, initWithByte_withByte_withShortArray3_withShortArray3_withShortArray2_withShortArray_, vi, viNext, coeffAlpha, coeffBeta, coeffGamma, coeffEta)
}


#line 72
void OrgBouncycastlePqcCryptoRainbowLayer_initWithInt_withInt_withJavaSecuritySecureRandom_(OrgBouncycastlePqcCryptoRainbowLayer *self, jint vi, jint viNext, JavaSecuritySecureRandom *sr) {
  NSObject_init(self);
  self->vi_ = vi;
  self->viNext_ = viNext;
  self->oi_ = viNext - vi;
  
#line 79
  self->coeff_alpha_ = [IOSShortArray newArrayWithDimensions:3 lengths:(jint[]){ self->oi_, self->oi_, self->vi_ }];
  self->coeff_beta_ = [IOSShortArray newArrayWithDimensions:3 lengths:(jint[]){ self->oi_, self->vi_, self->vi_ }];
  self->coeff_gamma_ = [IOSShortArray newArrayWithDimensions:2 lengths:(jint[]){ self->oi_, self->viNext_ }];
  self->coeff_eta_ = [IOSShortArray newArrayWithLength:self->oi_];
  
#line 84
  jint numOfPoly = self->oi_;
  
#line 87
  for (jint k = 0; k < numOfPoly; k++) {
    
#line 89
    for (jint i = 0; i < self->oi_; i++) {
      
#line 91
      for (jint j = 0; j < self->vi_; j++) {
        
#line 93
        *IOSShortArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(self->coeff_alpha_), k)), i)), j) = (jshort) ([((JavaSecuritySecureRandom *) nil_chk(sr)) nextInt] & OrgBouncycastlePqcCryptoRainbowUtilGF2Field_MASK);
      }
    }
  }
  
#line 98
  for (jint k = 0; k < numOfPoly; k++) {
    
#line 100
    for (jint i = 0; i < self->vi_; i++) {
      
#line 102
      for (jint j = 0; j < self->vi_; j++) {
        
#line 104
        *IOSShortArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(self->coeff_beta_), k)), i)), j) = (jshort) ([((JavaSecuritySecureRandom *) nil_chk(sr)) nextInt] & OrgBouncycastlePqcCryptoRainbowUtilGF2Field_MASK);
      }
    }
  }
  
#line 109
  for (jint k = 0; k < numOfPoly; k++) {
    
#line 111
    for (jint i = 0; i < self->viNext_; i++) {
      
#line 113
      *IOSShortArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->coeff_gamma_), k)), i) = (jshort) ([((JavaSecuritySecureRandom *) nil_chk(sr)) nextInt] & OrgBouncycastlePqcCryptoRainbowUtilGF2Field_MASK);
    }
  }
  
#line 117
  for (jint k = 0; k < numOfPoly; k++) {
    
#line 119
    *IOSShortArray_GetRef(nil_chk(self->coeff_eta_), k) = (jshort) ([((JavaSecuritySecureRandom *) nil_chk(sr)) nextInt] & OrgBouncycastlePqcCryptoRainbowUtilGF2Field_MASK);
  }
}


#line 72
OrgBouncycastlePqcCryptoRainbowLayer *new_OrgBouncycastlePqcCryptoRainbowLayer_initWithInt_withInt_withJavaSecuritySecureRandom_(jint vi, jint viNext, JavaSecuritySecureRandom *sr) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcCryptoRainbowLayer, initWithInt_withInt_withJavaSecuritySecureRandom_, vi, viNext, sr)
}


#line 72
OrgBouncycastlePqcCryptoRainbowLayer *create_OrgBouncycastlePqcCryptoRainbowLayer_initWithInt_withInt_withJavaSecuritySecureRandom_(jint vi, jint viNext, JavaSecuritySecureRandom *sr) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcCryptoRainbowLayer, initWithInt_withInt_withJavaSecuritySecureRandom_, vi, viNext, sr)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastlePqcCryptoRainbowLayer)
