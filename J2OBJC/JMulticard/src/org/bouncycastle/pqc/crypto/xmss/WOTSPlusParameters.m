//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/crypto/xmss/WOTSPlusParameters.java
//

#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Math.h"
#include "java/lang/NullPointerException.h"
#include "org/bouncycastle/asn1/ASN1ObjectIdentifier.h"
#include "org/bouncycastle/crypto/Digest.h"
#include "org/bouncycastle/pqc/crypto/xmss/DigestUtil.h"
#include "org/bouncycastle/pqc/crypto/xmss/WOTSPlusOid.h"
#include "org/bouncycastle/pqc/crypto/xmss/WOTSPlusParameters.h"
#include "org/bouncycastle/pqc/crypto/xmss/XMSSOid.h"
#include "org/bouncycastle/pqc/crypto/xmss/XMSSUtil.h"

#if !__has_feature(objc_arc)
#error "org/bouncycastle/pqc/crypto/xmss/WOTSPlusParameters must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgBouncycastlePqcCryptoXmssWOTSPlusParameters () {
 @public
  /*!
   @brief OID.
   */
  id<OrgBouncycastlePqcCryptoXmssXMSSOid> oid_;
  /*!
   @brief The message digest size.
   */
  jint digestSize_;
  /*!
   @brief The Winternitz parameter (currently fixed to 16).
   */
  jint winternitzParameter_;
  /*!
   @brief The number of n-byte string elements in a WOTS+ secret key, public key,
  and signature.
   */
  jint len_;
  /*!
   @brief len1.
   */
  jint len1_;
  /*!
   @brief len2.
   */
  jint len2_;
  OrgBouncycastleAsn1ASN1ObjectIdentifier *treeDigest_;
}

@end

J2OBJC_FIELD_SETTER(OrgBouncycastlePqcCryptoXmssWOTSPlusParameters, oid_, id<OrgBouncycastlePqcCryptoXmssXMSSOid>)
J2OBJC_FIELD_SETTER(OrgBouncycastlePqcCryptoXmssWOTSPlusParameters, treeDigest_, OrgBouncycastleAsn1ASN1ObjectIdentifier *)

#line 1 "/Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/crypto/xmss/WOTSPlusParameters.java"


#line 9
@implementation OrgBouncycastlePqcCryptoXmssWOTSPlusParameters


#line 45
- (instancetype)initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier:(OrgBouncycastleAsn1ASN1ObjectIdentifier *)treeDigest {
  OrgBouncycastlePqcCryptoXmssWOTSPlusParameters_initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier_(self, treeDigest);
  return self;
}


#line 71
- (id<OrgBouncycastlePqcCryptoXmssXMSSOid>)getOid {
  
#line 73
  return oid_;
}


#line 81
- (jint)getTreeDigestSize {
  
#line 83
  return digestSize_;
}


#line 91
- (jint)getWinternitzParameter {
  
#line 93
  return winternitzParameter_;
}


#line 101
- (jint)getLen {
  
#line 103
  return len_;
}


#line 111
- (jint)getLen1 {
  
#line 113
  return len1_;
}


#line 121
- (jint)getLen2 {
  
#line 123
  return len2_;
}


#line 126
- (OrgBouncycastleAsn1ASN1ObjectIdentifier *)getTreeDigest {
  
#line 128
  return treeDigest_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x4, -1, 0, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcCryptoXmssXMSSOid;", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastleAsn1ASN1ObjectIdentifier;", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier:);
  methods[1].selector = @selector(getOid);
  methods[2].selector = @selector(getTreeDigestSize);
  methods[3].selector = @selector(getWinternitzParameter);
  methods[4].selector = @selector(getLen);
  methods[5].selector = @selector(getLen1);
  methods[6].selector = @selector(getLen2);
  methods[7].selector = @selector(getTreeDigest);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "oid_", "LOrgBouncycastlePqcCryptoXmssXMSSOid;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "digestSize_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "winternitzParameter_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "len_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "len1_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "len2_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "treeDigest_", "LOrgBouncycastleAsn1ASN1ObjectIdentifier;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgBouncycastleAsn1ASN1ObjectIdentifier;" };
  static const J2ObjcClassInfo _OrgBouncycastlePqcCryptoXmssWOTSPlusParameters = { "WOTSPlusParameters", "org.bouncycastle.pqc.crypto.xmss", ptrTable, methods, fields, 7, 0x10, 8, 7, -1, -1, -1, -1, -1 };
  return &_OrgBouncycastlePqcCryptoXmssWOTSPlusParameters;
}

@end


#line 45
void OrgBouncycastlePqcCryptoXmssWOTSPlusParameters_initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier_(OrgBouncycastlePqcCryptoXmssWOTSPlusParameters *self, OrgBouncycastleAsn1ASN1ObjectIdentifier *treeDigest) {
  NSObject_init(self);
  
#line 48
  if (treeDigest == nil) {
    
#line 50
    @throw new_JavaLangNullPointerException_initWithNSString_(@"treeDigest == null");
  }
  self->treeDigest_ = treeDigest;
  id<OrgBouncycastleCryptoDigest> digest = OrgBouncycastlePqcCryptoXmssDigestUtil_getDigestWithOrgBouncycastleAsn1ASN1ObjectIdentifier_(treeDigest);
  self->digestSize_ = OrgBouncycastlePqcCryptoXmssXMSSUtil_getDigestSizeWithOrgBouncycastleCryptoDigest_(digest);
  self->winternitzParameter_ = 16;
  self->len1_ = JreFpToInt(JavaLangMath_ceilWithDouble_((jdouble) (8 * self->digestSize_) / OrgBouncycastlePqcCryptoXmssXMSSUtil_log2WithInt_(self->winternitzParameter_)));
  self->len2_ = JreFpToInt(JavaLangMath_floorWithDouble_(JreIntDiv(OrgBouncycastlePqcCryptoXmssXMSSUtil_log2WithInt_(self->len1_ * (self->winternitzParameter_ - 1)), OrgBouncycastlePqcCryptoXmssXMSSUtil_log2WithInt_(self->winternitzParameter_)))) + 1;
  self->len_ = self->len1_ + self->len2_;
  self->oid_ = OrgBouncycastlePqcCryptoXmssWOTSPlusOid_lookupWithNSString_withInt_withInt_withInt_([((id<OrgBouncycastleCryptoDigest>) nil_chk(digest)) getAlgorithmName], self->digestSize_, self->winternitzParameter_, self->len_);
  if (self->oid_ == nil) {
    
#line 62
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$", @"cannot find OID for digest algorithm: ", [digest getAlgorithmName]));
  }
}


#line 45
OrgBouncycastlePqcCryptoXmssWOTSPlusParameters *new_OrgBouncycastlePqcCryptoXmssWOTSPlusParameters_initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier_(OrgBouncycastleAsn1ASN1ObjectIdentifier *treeDigest) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcCryptoXmssWOTSPlusParameters, initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier_, treeDigest)
}


#line 45
OrgBouncycastlePqcCryptoXmssWOTSPlusParameters *create_OrgBouncycastlePqcCryptoXmssWOTSPlusParameters_initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier_(OrgBouncycastleAsn1ASN1ObjectIdentifier *treeDigest) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcCryptoXmssWOTSPlusParameters, initPackagePrivateWithOrgBouncycastleAsn1ASN1ObjectIdentifier_, treeDigest)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastlePqcCryptoXmssWOTSPlusParameters)
