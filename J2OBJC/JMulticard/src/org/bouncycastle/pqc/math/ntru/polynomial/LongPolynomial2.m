//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/math/ntru/polynomial/LongPolynomial2.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Math.h"
#include "org/bouncycastle/pqc/math/ntru/polynomial/IntegerPolynomial.h"
#include "org/bouncycastle/pqc/math/ntru/polynomial/LongPolynomial2.h"
#include "org/bouncycastle/util/Arrays.h"

#if !__has_feature(objc_arc)
#error "org/bouncycastle/pqc/math/ntru/polynomial/LongPolynomial2 must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 () {
 @public
  IOSLongArray *coeffs_;
  jint numCoeffs_;
}

- (instancetype)initWithLongArray:(IOSLongArray *)coeffs;

- (instancetype)initWithInt:(jint)N;

/*!
 @brief Karazuba multiplication
 */
- (OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)poly2;

/*!
 @brief Adds another polynomial which can have a different number of coefficients.
 @param b another polynomial
 */
- (void)addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b;

/*!
 @brief Subtracts another polynomial which can have a different number of coefficients.
 @param b another polynomial
 */
- (void)subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b;

@end

J2OBJC_FIELD_SETTER(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, coeffs_, IOSLongArray *)

__attribute__((unused)) static void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, IOSLongArray *coeffs);

__attribute__((unused)) static OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs);

__attribute__((unused)) static void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, jint N);

__attribute__((unused)) static OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N);

__attribute__((unused)) static OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *poly2);

__attribute__((unused)) static void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b);

__attribute__((unused)) static void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b);

#line 1 "/Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/math/ntru/polynomial/LongPolynomial2.java"


#line 10
@implementation OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2


#line 20
- (instancetype)initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial:(OrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *)p {
  OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(self, p);
  return self;
}


#line 42
- (instancetype)initWithLongArray:(IOSLongArray *)coeffs {
  OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(self, coeffs);
  return self;
}

- (instancetype)initWithInt:(jint)N {
  OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(self, N);
  return self;
}


#line 55
- (OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)multWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)poly2 {
  
#line 57
  jint N = ((IOSLongArray *) nil_chk(coeffs_))->size_;
  if (((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(poly2))->coeffs_->size_ != N || numCoeffs_ != poly2->numCoeffs_) {
    
#line 60
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"Number of coefficients must be the same");
  }
  
#line 63
  OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c = OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, poly2);
  
#line 65
  if (((IOSLongArray *) nil_chk(((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(c))->coeffs_))->size_ > N) {
    
#line 67
    if (JreIntMod(numCoeffs_, 2) == 0) {
      
#line 69
      for (jint k = N; k < c->coeffs_->size_; k++) {
        
#line 71
        *IOSLongArray_GetRef(c->coeffs_, k - N) = (IOSLongArray_Get(c->coeffs_, k - N) + IOSLongArray_Get(c->coeffs_, k)) & (jlong) 0x7FF0007FFLL;
      }
      c->coeffs_ = OrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(c->coeffs_, N);
    }
    else {
      
#line 77
      for (jint k = N; k < c->coeffs_->size_; k++) {
        
#line 79
        *IOSLongArray_GetRef(c->coeffs_, k - N) = IOSLongArray_Get(c->coeffs_, k - N) + (JreRShift64(IOSLongArray_Get(c->coeffs_, k - 1), 24));
        *IOSLongArray_GetRef(c->coeffs_, k - N) = IOSLongArray_Get(c->coeffs_, k - N) + (JreLShift64((IOSLongArray_Get(c->coeffs_, k) & 2047), 24));
        *IOSLongArray_GetRef(c->coeffs_, k - N) &= (jlong) 0x7FF0007FFLL;
      }
      c->coeffs_ = OrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(c->coeffs_, N);
      *IOSLongArray_GetRef(c->coeffs_, ((IOSLongArray *) nil_chk(c->coeffs_))->size_ - 1) &= 2047;
    }
  }
  
#line 88
  c = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(c->coeffs_);
  c->numCoeffs_ = numCoeffs_;
  return c;
}


#line 93
- (OrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *)toIntegerPolynomial {
  
#line 95
  IOSIntArray *intCoeffs = [IOSIntArray newArrayWithLength:numCoeffs_];
  jint uIdx = 0;
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(coeffs_))->size_; i++) {
    
#line 99
    *IOSIntArray_GetRef(intCoeffs, uIdx++) = (jint) (IOSLongArray_Get(coeffs_, i) & 2047);
    if (uIdx < numCoeffs_) {
      
#line 102
      *IOSIntArray_GetRef(intCoeffs, uIdx++) = (jint) ((JreRShift64(IOSLongArray_Get(coeffs_, i), 24)) & 2047);
    }
  }
  return new_OrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_initWithIntArray_(intCoeffs);
}

- (OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)poly2 {
  return OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, poly2);
}


#line 177
- (void)addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b {
  OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, b);
}


#line 194
- (void)subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b {
  OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(self, b);
}


#line 213
- (void)subAndWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *)b
                                                              withInt:(jint)mask {
  jlong longMask = (JreLShift64(((jlong) mask), 24)) + mask;
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(b))->coeffs_))->size_; i++) {
    
#line 218
    *IOSLongArray_GetRef(coeffs_, i) = ((jlong) 0x0800000800000LL + IOSLongArray_Get(coeffs_, i) - IOSLongArray_Get(b->coeffs_, i)) & longMask;
  }
}


#line 228
- (void)mult2AndWithInt:(jint)mask {
  
#line 230
  jlong longMask = (JreLShift64(((jlong) mask), 24)) + mask;
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(coeffs_))->size_; i++) {
    
#line 233
    *IOSLongArray_GetRef(coeffs_, i) = (JreLShift64(IOSLongArray_Get(coeffs_, i), 1)) & longMask;
  }
}


#line 237
- (id)java_clone {
  
#line 240
  OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *p = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_([((IOSLongArray *) nil_chk(coeffs_)) java_clone]);
  p->numCoeffs_ = numCoeffs_;
  return p;
}

- (jboolean)isEqual:(id)obj {
  
#line 248
  if ([obj isKindOfClass:[OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 class]]) {
    
#line 250
    return OrgBouncycastleUtilArrays_areEqualWithLongArray_withLongArray_(coeffs_, ((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) obj)))->coeffs_);
  }
  else {
    
#line 254
    return false;
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x2, -1, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x2, -1, 2, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;", 0x1, 3, 4, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;", 0x2, 5, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 6, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 7, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 8, 9, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 10, 2, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 11, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 12, 13, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial:);
  methods[1].selector = @selector(initWithLongArray:);
  methods[2].selector = @selector(initWithInt:);
  methods[3].selector = @selector(multWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[4].selector = @selector(toIntegerPolynomial);
  methods[5].selector = @selector(multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[6].selector = @selector(addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[7].selector = @selector(subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:);
  methods[8].selector = @selector(subAndWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2:withInt:);
  methods[9].selector = @selector(mult2AndWithInt:);
  methods[10].selector = @selector(java_clone);
  methods[11].selector = @selector(isEqual:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "coeffs_", "[J", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "numCoeffs_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial;", "[J", "I", "mult", "LOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;", "multRecursive", "add", "sub", "subAnd", "LOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;I", "mult2And", "clone", "equals", "LNSObject;" };
  static const J2ObjcClassInfo _OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 = { "LongPolynomial2", "org.bouncycastle.pqc.math.ntru.polynomial", ptrTable, methods, fields, 7, 0x1, 12, 2, -1, -1, -1, -1, -1 };
  return &_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2;
}

@end


#line 20
void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, OrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *p) {
  NSObject_init(self);
  self->numCoeffs_ = ((IOSIntArray *) nil_chk(((OrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *) nil_chk(p))->coeffs_))->size_;
  self->coeffs_ = [IOSLongArray newArrayWithLength:JreIntDiv((self->numCoeffs_ + 1), 2)];
  jint idx = 0;
  for (jint pIdx = 0; pIdx < self->numCoeffs_; ) {
    
#line 27
    jint c0 = IOSIntArray_Get(p->coeffs_, pIdx++);
    while (c0 < 0) {
      
#line 30
      c0 += 2048;
    }
    jlong c1 = pIdx < self->numCoeffs_ ? IOSIntArray_Get(p->coeffs_, pIdx++) : 0;
    while (c1 < 0) {
      
#line 35
      c1 += 2048;
    }
    *IOSLongArray_GetRef(self->coeffs_, idx) = c0 + (JreLShift64(c1, 24));
    idx++;
  }
}


#line 20
OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(OrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *p) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_, p)
}


#line 20
OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_(OrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial *p) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithOrgBouncycastlePqcMathNtruPolynomialIntegerPolynomial_, p)
}


#line 42
void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, IOSLongArray *coeffs) {
  NSObject_init(self);
  self->coeffs_ = coeffs;
}


#line 42
OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithLongArray_, coeffs)
}


#line 42
OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(IOSLongArray *coeffs) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithLongArray_, coeffs)
}


#line 47
void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, jint N) {
  NSObject_init(self);
  self->coeffs_ = [IOSLongArray newArrayWithLength:N];
}


#line 47
OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithInt_, N)
}


#line 47
OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *create_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(jint N) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2, initWithInt_, N)
}


#line 111
OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *poly2) {
  
#line 113
  IOSLongArray *a = self->coeffs_;
  IOSLongArray *b = ((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(poly2))->coeffs_;
  
#line 116
  jint n = ((IOSLongArray *) nil_chk(poly2->coeffs_))->size_;
  if (n <= 32) {
    
#line 119
    jint cn = 2 * n;
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_([IOSLongArray newArrayWithLength:cn]);
    for (jint k = 0; k < cn; k++) {
      
#line 123
      for (jint i = JavaLangMath_maxWithInt_withInt_(0, k - n + 1); i <= JavaLangMath_minWithInt_withInt_(k, n - 1); i++) {
        
#line 125
        jlong c0 = IOSLongArray_Get(nil_chk(a), k - i) * IOSLongArray_Get(nil_chk(b), i);
        jlong cu = c0 & ((jlong) 0x7FF000000LL + (c0 & 2047));
        jlong co = (JreURShift64(c0, 48)) & 2047;
        
#line 129
        *IOSLongArray_GetRef(nil_chk(c->coeffs_), k) = (IOSLongArray_Get(c->coeffs_, k) + cu) & (jlong) 0x7FF0007FFLL;
        *IOSLongArray_GetRef(c->coeffs_, k + 1) = (IOSLongArray_Get(c->coeffs_, k + 1) + co) & (jlong) 0x7FF0007FFLL;
      }
    }
    return c;
  }
  else {
    
#line 137
    jint n1 = JreIntDiv(n, 2);
    
#line 139
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *a1 = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(OrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(a, n1));
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *a2 = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(OrgBouncycastleUtilArrays_copyOfRangeWithLongArray_withInt_withInt_(a, n1, n));
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b1 = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(OrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(b, n1));
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b2 = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithLongArray_(OrgBouncycastleUtilArrays_copyOfRangeWithLongArray_withInt_withInt_(b, n1, n));
    
#line 144
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *A = (OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) cast_chk([a1 java_clone], [OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 class]);
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(nil_chk(A), a2);
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *B = (OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) cast_chk([b1 java_clone], [OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 class]);
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(nil_chk(B), b2);
    
#line 149
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c1 = OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(a1, b1);
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c2 = OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(a2, b2);
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c3 = OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_multRecursiveWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(A, B);
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(nil_chk(c3), c1);
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(c3, c2);
    
#line 155
    OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *c = new_OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_initWithInt_(2 * n);
    for (jint i = 0; i < ((IOSLongArray *) nil_chk(((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(c1))->coeffs_))->size_; i++) {
      
#line 158
      *IOSLongArray_GetRef(c->coeffs_, i) = IOSLongArray_Get(c1->coeffs_, i) & (jlong) 0x7FF0007FFLL;
    }
    for (jint i = 0; i < c3->coeffs_->size_; i++) {
      
#line 162
      *IOSLongArray_GetRef(c->coeffs_, n1 + i) = (IOSLongArray_Get(c->coeffs_, n1 + i) + IOSLongArray_Get(c3->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
    }
    for (jint i = 0; i < ((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(c2))->coeffs_->size_; i++) {
      
#line 166
      *IOSLongArray_GetRef(c->coeffs_, 2 * n1 + i) = (IOSLongArray_Get(c->coeffs_, 2 * n1 + i) + IOSLongArray_Get(c2->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
    }
    return c;
  }
}


#line 177
void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_addWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b) {
  
#line 179
  if (((IOSLongArray *) nil_chk(((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(b))->coeffs_))->size_ > self->coeffs_->size_) {
    
#line 181
    self->coeffs_ = OrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(self->coeffs_, b->coeffs_->size_);
  }
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(b->coeffs_))->size_; i++) {
    
#line 185
    *IOSLongArray_GetRef(self->coeffs_, i) = (IOSLongArray_Get(self->coeffs_, i) + IOSLongArray_Get(b->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
  }
}


#line 194
void OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_subWithOrgBouncycastlePqcMathNtruPolynomialLongPolynomial2_(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *self, OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *b) {
  
#line 196
  if (((IOSLongArray *) nil_chk(((OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2 *) nil_chk(b))->coeffs_))->size_ > self->coeffs_->size_) {
    
#line 198
    self->coeffs_ = OrgBouncycastleUtilArrays_copyOfWithLongArray_withInt_(self->coeffs_, b->coeffs_->size_);
  }
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(b->coeffs_))->size_; i++) {
    
#line 202
    *IOSLongArray_GetRef(self->coeffs_, i) = ((jlong) 0x0800000800000LL + IOSLongArray_Get(self->coeffs_, i) - IOSLongArray_Get(b->coeffs_, i)) & (jlong) 0x7FF0007FFLL;
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastlePqcMathNtruPolynomialLongPolynomial2)
