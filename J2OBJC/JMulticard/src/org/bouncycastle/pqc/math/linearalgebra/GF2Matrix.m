//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/math/linearalgebra/GF2Matrix.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/ArithmeticException.h"
#include "java/lang/StringBuffer.h"
#include "java/lang/System.h"
#include "java/security/SecureRandom.h"
#include "org/bouncycastle/pqc/math/linearalgebra/GF2Matrix.h"
#include "org/bouncycastle/pqc/math/linearalgebra/GF2Vector.h"
#include "org/bouncycastle/pqc/math/linearalgebra/IntUtils.h"
#include "org/bouncycastle/pqc/math/linearalgebra/LittleEndianConversions.h"
#include "org/bouncycastle/pqc/math/linearalgebra/Matrix.h"
#include "org/bouncycastle/pqc/math/linearalgebra/Permutation.h"
#include "org/bouncycastle/pqc/math/linearalgebra/Vector.h"
#include "org/bouncycastle/util/Arrays.h"

#if !__has_feature(objc_arc)
#error "org/bouncycastle/pqc/math/linearalgebra/GF2Matrix must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgBouncycastlePqcMathLinearalgebraGF2Matrix () {
 @public
  /*!
   @brief For the matrix representation the array of type int[][] is used, thus one
  element of the array keeps 32 elements of the matrix (from one row and 32
  columns)
   */
  IOSObjectArray *matrix_;
  /*!
   @brief the length of each array representing a row of this matrix, computed as 
 <tt>(numColumns + 31) / 32</tt>
   */
  jint length_;
}

/*!
 @brief create the mxn zero matrix
 */
- (instancetype)initWithInt:(jint)m
                    withInt:(jint)n;

/*!
 @brief Create the mxn zero matrix.
 @param m number of rows
 @param n number of columns
 */
- (void)assignZeroMatrixWithInt:(jint)m
                        withInt:(jint)n;

/*!
 @brief Create the mxn unit matrix.
 @param n number of rows (and columns)
 */
- (void)assignUnitMatrixWithInt:(jint)n;

/*!
 @brief Create a nxn random lower triangular matrix.
 @param n number of rows (and columns)
 @param sr source of randomness
 */
- (void)assignRandomLowerTriangularMatrixWithInt:(jint)n
                    withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr;

/*!
 @brief Create a nxn random upper triangular matrix.
 @param n number of rows (and columns)
 @param sr source of randomness
 */
- (void)assignRandomUpperTriangularMatrixWithInt:(jint)n
                    withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr;

/*!
 @brief Create an nxn random regular matrix.
 @param n number of rows (and columns)
 @param sr source of randomness
 */
- (void)assignRandomRegularMatrixWithInt:(jint)n
            withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr;

/*!
 @brief Swap two rows of the given matrix.
 @param matrix the matrix
 @param first the index of the first row
 @param second the index of the second row
 */
+ (void)swapRowsWithIntArray2:(IOSObjectArray *)matrix
                      withInt:(jint)first
                      withInt:(jint)second;

/*!
 @brief Partially add one row to another.
 @param fromRow the addend
 @param toRow the row to add to
 @param startIndex the array index to start from
 */
+ (void)addToRowWithIntArray:(IOSIntArray *)fromRow
                withIntArray:(IOSIntArray *)toRow
                     withInt:(jint)startIndex;

@end

J2OBJC_FIELD_SETTER(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, matrix_, IOSObjectArray *)

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint m, jint n);

__attribute__((unused)) static OrgBouncycastlePqcMathLinearalgebraGF2Matrix *new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(jint m, jint n) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgBouncycastlePqcMathLinearalgebraGF2Matrix *create_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(jint m, jint n);

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignZeroMatrixWithInt_withInt_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint m, jint n);

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignUnitMatrixWithInt_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n);

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomLowerTriangularMatrixWithInt_withJavaSecuritySecureRandom_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, JavaSecuritySecureRandom *sr);

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomUpperTriangularMatrixWithInt_withJavaSecuritySecureRandom_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, JavaSecuritySecureRandom *sr);

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomRegularMatrixWithInt_withJavaSecuritySecureRandom_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, JavaSecuritySecureRandom *sr);

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_swapRowsWithIntArray2_withInt_withInt_(IOSObjectArray *matrix, jint first, jint second);

__attribute__((unused)) static void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_addToRowWithIntArray_withIntArray_withInt_(IOSIntArray *fromRow, IOSIntArray *toRow, jint startIndex);

#line 1 "/Users/desarrolloabamobile/Downloads/jmulticard-ios/src/main/java/org/bouncycastle/pqc/math/linearalgebra/GF2Matrix.java"


#line 12
@implementation OrgBouncycastlePqcMathLinearalgebraGF2Matrix


#line 34
- (instancetype)initWithByteArray:(IOSByteArray *)enc {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithByteArray_(self, enc);
  return self;
}


#line 82
- (instancetype)initWithInt:(jint)numColumns
              withIntArray2:(IOSObjectArray *)matrix {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(self, numColumns, matrix);
  return self;
}


#line 116
- (instancetype)initWithInt:(jint)n
                   withChar:(jchar)typeOfMatrix {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_(self, n, typeOfMatrix);
  return self;
}


#line 128
- (instancetype)initWithInt:(jint)n
                   withChar:(jchar)typeOfMatrix
withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(self, n, typeOfMatrix, sr);
  return self;
}


#line 168
- (instancetype)initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix:(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *)a {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix_(self, a);
  return self;
}


#line 184
- (instancetype)initWithInt:(jint)m
                    withInt:(jint)n {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(self, m, n);
  return self;
}


#line 200
- (void)assignZeroMatrixWithInt:(jint)m
                        withInt:(jint)n {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignZeroMatrixWithInt_withInt_(self, m, n);
}


#line 220
- (void)assignUnitMatrixWithInt:(jint)n {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignUnitMatrixWithInt_(self, n);
}


#line 246
- (void)assignRandomLowerTriangularMatrixWithInt:(jint)n
                    withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomLowerTriangularMatrixWithInt_withJavaSecuritySecureRandom_(self, n, sr);
}


#line 278
- (void)assignRandomUpperTriangularMatrixWithInt:(jint)n
                    withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomUpperTriangularMatrixWithInt_withJavaSecuritySecureRandom_(self, n, sr);
}


#line 320
- (void)assignRandomRegularMatrixWithInt:(jint)n
            withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomRegularMatrixWithInt_withJavaSecuritySecureRandom_(self, n, sr);
}


#line 344
+ (IOSObjectArray *)createRandomRegularMatrixAndItsInverseWithInt:(jint)n
                                     withJavaSecuritySecureRandom:(JavaSecuritySecureRandom *)sr {
  return OrgBouncycastlePqcMathLinearalgebraGF2Matrix_createRandomRegularMatrixAndItsInverseWithInt_withJavaSecuritySecureRandom_(n, sr);
}


#line 422
- (IOSObjectArray *)getIntArray {
  
#line 424
  return matrix_;
}


#line 430
- (jint)getLength {
  
#line 432
  return length_;
}


#line 441
- (IOSIntArray *)getRowWithInt:(jint)index {
  
#line 443
  return IOSObjectArray_Get(nil_chk(matrix_), index);
}


#line 451
- (IOSByteArray *)getEncoded {
  
#line 454
  jint n = JreURShift32((numColumns_ + 7), 3);
  n *= numRows_;
  n += 8;
  IOSByteArray *enc = [IOSByteArray newArrayWithLength:n];
  
#line 459
  OrgBouncycastlePqcMathLinearalgebraLittleEndianConversions_I2OSPWithInt_withByteArray_withInt_(numRows_, enc, 0);
  OrgBouncycastlePqcMathLinearalgebraLittleEndianConversions_I2OSPWithInt_withByteArray_withInt_(numColumns_, enc, 4);
  
#line 463
  jint q = JreURShift32(numColumns_, 5);
  
#line 465
  jint r = numColumns_ & (jint) 0x1f;
  
#line 467
  jint count = 8;
  for (jint i = 0; i < numRows_; i++) {
    
#line 470
    for (jint j = 0; j < q; j++, count += 4) {
      
#line 472
      OrgBouncycastlePqcMathLinearalgebraLittleEndianConversions_I2OSPWithInt_withByteArray_withInt_(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j), enc, count);
    }
    for (jint j = 0; j < r; j += 8) {
      
#line 476
      *IOSByteArray_GetRef(enc, count++) = (jbyte) ((JreURShift32(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), q), j)) & (jint) 0xff);
    }
  }
  
#line 480
  return enc;
}


#line 489
- (jdouble)getHammingWeight {
  
#line 491
  jdouble counter = 0.0;
  jdouble elementCounter = 0.0;
  jint rest = numColumns_ & (jint) 0x1f;
  jint d;
  if (rest == 0) {
    
#line 497
    d = length_;
  }
  else {
    
#line 501
    d = length_ - 1;
  }
  
#line 504
  for (jint i = 0; i < numRows_; i++) {
    
#line 507
    for (jint j = 0; j < d; j++) {
      
#line 509
      jint a = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j);
      for (jint k = 0; k < 32; k++) {
        
#line 512
        jint b = (JreURShift32(a, k)) & 1;
        counter = counter + b;
        elementCounter = elementCounter + 1;
      }
    }
    jint a = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), length_ - 1);
    for (jint k = 0; k < rest; k++) {
      
#line 520
      jint b = (JreURShift32(a, k)) & 1;
      counter = counter + b;
      elementCounter = elementCounter + 1;
    }
  }
  
#line 526
  return counter / elementCounter;
}


#line 534
- (jboolean)isZero {
  
#line 537
  for (jint i = 0; i < numRows_; i++) {
    
#line 539
    for (jint j = 0; j < length_; j++) {
      
#line 541
      if (IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j) != 0) {
        
#line 543
        return false;
      }
    }
  }
  return true;
}


#line 556
- (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *)getLeftSubMatrix {
  
#line 558
  if (numColumns_ <= numRows_) {
    
#line 560
    @throw new_JavaLangArithmeticException_initWithNSString_(@"empty submatrix");
  }
  jint length = JreRShift32((numRows_ + 31), 5);
  IOSObjectArray *result = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ numRows_, length }];
  jint bitMask = (JreLShift32(1, (numRows_ & (jint) 0x1f))) - 1;
  if (bitMask == 0) {
    
#line 567
    bitMask = -1;
  }
  for (jint i = numRows_ - 1; i >= 0; i--) {
    
#line 571
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(IOSObjectArray_Get(nil_chk(matrix_), i), 0, IOSObjectArray_Get(result, i), 0, length);
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result, i)), length - 1) &= bitMask;
  }
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(numRows_, result);
}


#line 584
- (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *)extendLeftCompactForm {
  
#line 586
  jint newNumColumns = numColumns_ + numRows_;
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *result = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(numRows_, newNumColumns);
  
#line 589
  jint ind = numRows_ - 1 + numColumns_;
  for (jint i = numRows_ - 1; i >= 0; i--, ind--) {
    
#line 593
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(IOSObjectArray_Get(nil_chk(matrix_), i), 0, IOSObjectArray_Get(result->matrix_, i), 0, length_);
    
#line 595
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(result->matrix_), i)), JreRShift32(ind, 5)) |= JreLShift32(1, (ind & (jint) 0x1f));
  }
  
#line 598
  return result;
}


#line 607
- (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *)getRightSubMatrix {
  
#line 609
  if (numColumns_ <= numRows_) {
    
#line 611
    @throw new_JavaLangArithmeticException_initWithNSString_(@"empty submatrix");
  }
  
#line 614
  jint q = JreRShift32(numRows_, 5);
  jint r = numRows_ & (jint) 0x1f;
  
#line 617
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *result = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(numRows_, numColumns_ - numRows_);
  
#line 619
  for (jint i = numRows_ - 1; i >= 0; i--) {
    
#line 622
    if (r != 0) {
      
#line 624
      jint ind = q;
      
#line 626
      for (jint j = 0; j < result->length_ - 1; j++) {
        jint unseq$1 =
#line 629
        ind++;
        
#line 629
        *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(result->matrix_), i)), j) = (JreURShift32(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(matrix_, i)), unseq$1), r)) |
#line 630
        (JreLShift32(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(matrix_, i)), ind), (32 - r)));
      }
      
#line 633
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(result->matrix_), i)), result->length_ - 1) = JreURShift32(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(matrix_, i)), ind++), r);
      if (ind < length_) {
        
#line 636
        *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result->matrix_, i)), result->length_ - 1) |= JreLShift32(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(matrix_, i)), ind), (32 - r));
      }
    }
    else {
      
#line 642
      JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(IOSObjectArray_Get(nil_chk(matrix_), i), q, IOSObjectArray_Get(result->matrix_, i), 0,
#line 643
      result->length_);
    }
  }
  return result;
}


#line 656
- (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *)extendRightCompactForm {
  
#line 658
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *result = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(numRows_, numRows_ + numColumns_);
  
#line 660
  jint q = JreRShift32(numRows_, 5);
  jint r = numRows_ & (jint) 0x1f;
  
#line 663
  for (jint i = numRows_ - 1; i >= 0; i--) {
    
#line 666
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(result->matrix_), i)), JreRShift32(i, 5)) |= JreLShift32(1, (i & (jint) 0x1f));
    
#line 671
    if (r != 0) {
      
#line 673
      jint ind = q;
      
#line 675
      for (jint j = 0; j < length_ - 1; j++) {
        
#line 678
        jint mw = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(matrix_, i)), j);
        
#line 680
        *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result->matrix_, i)), ind++) |= JreLShift32(mw, r);
        *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result->matrix_, i)), ind) |= JreURShift32(mw, (32 - r));
      }
      
#line 684
      jint mw = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(matrix_, i)), length_ - 1);
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result->matrix_, i)), ind++) |= JreLShift32(mw, r);
      if (ind < result->length_) {
        
#line 688
        *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result->matrix_, i)), ind) |= JreURShift32(mw, (32 - r));
      }
    }
    else {
      
#line 694
      JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(IOSObjectArray_Get(matrix_, i), 0, IOSObjectArray_Get(result->matrix_, i), q, length_);
    }
  }
  
#line 698
  return result;
}


#line 706
- (OrgBouncycastlePqcMathLinearalgebraMatrix *)computeTranspose {
  
#line 708
  IOSObjectArray *result = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ numColumns_, JreURShift32((numRows_ + 31), 5) }];
  for (jint i = 0; i < numRows_; i++) {
    
#line 711
    for (jint j = 0; j < numColumns_; j++) {
      
#line 713
      jint qs = JreURShift32(j, 5);
      jint rs = j & (jint) 0x1f;
      jint b = (JreURShift32(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), qs), rs)) & 1;
      jint qt = JreURShift32(i, 5);
      jint rt = i & (jint) 0x1f;
      if (b == 1) {
        
#line 720
        *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result, j)), qt) |= JreLShift32(1, rt);
      }
    }
  }
  
#line 725
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(numRows_, result);
}


#line 734
- (OrgBouncycastlePqcMathLinearalgebraMatrix *)computeInverse {
  
#line 737
  if (numRows_ != numColumns_) {
    
#line 739
    @throw new_JavaLangArithmeticException_initWithNSString_(@"Matrix is not invertible.");
  }
  
#line 743
  IOSObjectArray *tmpMatrix = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ numRows_, length_ }];
  for (jint i = numRows_ - 1; i >= 0; i--) {
    
#line 746
    (void) IOSObjectArray_Set(tmpMatrix, i, OrgBouncycastlePqcMathLinearalgebraIntUtils_cloneWithIntArray_(IOSObjectArray_Get(nil_chk(matrix_), i)));
  }
  
#line 750
  IOSObjectArray *invMatrix = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ numRows_, length_ }];
  for (jint i = numRows_ - 1; i >= 0; i--) {
    
#line 753
    jint q = JreRShift32(i, 5);
    jint r = i & (jint) 0x1f;
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(invMatrix, i)), q) = JreLShift32(1, r);
  }
  
#line 760
  for (jint i = 0; i < numRows_; i++) {
    
#line 763
    jint q = JreRShift32(i, 5);
    jint bitMask = JreLShift32(1, (i & (jint) 0x1f));
    
#line 766
    if ((IOSIntArray_Get(nil_chk(IOSObjectArray_Get(tmpMatrix, i)), q) & bitMask) == 0) {
      
#line 768
      jboolean foundNonZero = false;
      
#line 770
      for (jint j = i + 1; j < numRows_; j++) {
        
#line 772
        if ((IOSIntArray_Get(nil_chk(IOSObjectArray_Get(tmpMatrix, j)), q) & bitMask) != 0) {
          
#line 775
          foundNonZero = true;
          OrgBouncycastlePqcMathLinearalgebraGF2Matrix_swapRowsWithIntArray2_withInt_withInt_(tmpMatrix, i, j);
          OrgBouncycastlePqcMathLinearalgebraGF2Matrix_swapRowsWithIntArray2_withInt_withInt_(invMatrix, i, j);
          
#line 779
          j = numRows_;
          continue;
        }
      }
      
#line 784
      if (!foundNonZero) {
        
#line 787
        @throw new_JavaLangArithmeticException_initWithNSString_(@"Matrix is not invertible.");
      }
    }
    
#line 792
    for (jint j = numRows_ - 1; j >= 0; j--) {
      
#line 794
      if ((j != i) && ((IOSIntArray_Get(nil_chk(IOSObjectArray_Get(tmpMatrix, j)), q) & bitMask) != 0)) {
        
#line 796
        OrgBouncycastlePqcMathLinearalgebraGF2Matrix_addToRowWithIntArray_withIntArray_withInt_(IOSObjectArray_Get(tmpMatrix, i), IOSObjectArray_Get(tmpMatrix, j), q);
        OrgBouncycastlePqcMathLinearalgebraGF2Matrix_addToRowWithIntArray_withIntArray_withInt_(IOSObjectArray_Get(invMatrix, i), IOSObjectArray_Get(invMatrix, j), 0);
      }
    }
  }
  
#line 802
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(numColumns_, invMatrix);
}


#line 812
- (OrgBouncycastlePqcMathLinearalgebraMatrix *)leftMultiplyWithOrgBouncycastlePqcMathLinearalgebraPermutation:(OrgBouncycastlePqcMathLinearalgebraPermutation *)p {
  
#line 814
  IOSIntArray *pVec = [((OrgBouncycastlePqcMathLinearalgebraPermutation *) nil_chk(p)) getVector];
  if (((IOSIntArray *) nil_chk(pVec))->size_ != numRows_) {
    
#line 817
    @throw new_JavaLangArithmeticException_initWithNSString_(@"length mismatch");
  }
  
#line 820
  IOSObjectArray *result = [IOSObjectArray newArrayWithLength:numRows_ type:IOSClass_intArray(1)];
  
#line 822
  for (jint i = numRows_ - 1; i >= 0; i--) {
    
#line 824
    (void) IOSObjectArray_Set(result, i, OrgBouncycastlePqcMathLinearalgebraIntUtils_cloneWithIntArray_(IOSObjectArray_Get(nil_chk(matrix_), IOSIntArray_Get(pVec, i))));
  }
  
#line 827
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(numRows_, result);
}

- (OrgBouncycastlePqcMathLinearalgebraVector *)leftMultiplyWithOrgBouncycastlePqcMathLinearalgebraVector:(OrgBouncycastlePqcMathLinearalgebraVector *)vec {
  
#line 840
  if (!([vec isKindOfClass:[OrgBouncycastlePqcMathLinearalgebraGF2Vector class]])) {
    
#line 842
    @throw new_JavaLangArithmeticException_initWithNSString_(@"vector is not defined over GF(2)");
  }
  
#line 845
  if (((OrgBouncycastlePqcMathLinearalgebraVector *) nil_chk(vec))->length_ != numRows_) {
    
#line 847
    @throw new_JavaLangArithmeticException_initWithNSString_(@"length mismatch");
  }
  
#line 850
  IOSIntArray *v = [((OrgBouncycastlePqcMathLinearalgebraGF2Vector *) cast_chk(vec, [OrgBouncycastlePqcMathLinearalgebraGF2Vector class])) getVecArray];
  IOSIntArray *res = [IOSIntArray newArrayWithLength:length_];
  
#line 853
  jint q = JreRShift32(numRows_, 5);
  jint r = JreLShift32(1, (numRows_ & (jint) 0x1f));
  
#line 857
  jint row = 0;
  for (jint i = 0; i < q; i++) {
    
#line 860
    jint bitMask = 1;
    do {
      
#line 863
      jint b = IOSIntArray_Get(nil_chk(v), i) & bitMask;
      if (b != 0) {
        
#line 866
        for (jint j = 0; j < length_; j++) {
          
#line 868
          *IOSIntArray_GetRef(res, j) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), row)), j);
        }
      }
      row++;
      JreLShiftAssignInt(&bitMask, 1);
    }
    while (bitMask != 0);
  }
  
#line 878
  jint bitMask = 1;
  while (bitMask != r) {
    
#line 881
    jint b = IOSIntArray_Get(nil_chk(v), q) & bitMask;
    if (b != 0) {
      
#line 884
      for (jint j = 0; j < length_; j++) {
        
#line 886
        *IOSIntArray_GetRef(res, j) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), row)), j);
      }
    }
    row++;
    JreLShiftAssignInt(&bitMask, 1);
  }
  
#line 893
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Vector_initWithIntArray_withInt_(res, numColumns_);
}


#line 904
- (OrgBouncycastlePqcMathLinearalgebraVector *)leftMultiplyLeftCompactFormWithOrgBouncycastlePqcMathLinearalgebraVector:(OrgBouncycastlePqcMathLinearalgebraVector *)vec {
  
#line 906
  if (!([vec isKindOfClass:[OrgBouncycastlePqcMathLinearalgebraGF2Vector class]])) {
    
#line 908
    @throw new_JavaLangArithmeticException_initWithNSString_(@"vector is not defined over GF(2)");
  }
  
#line 911
  if (((OrgBouncycastlePqcMathLinearalgebraVector *) nil_chk(vec))->length_ != numRows_) {
    
#line 913
    @throw new_JavaLangArithmeticException_initWithNSString_(@"length mismatch");
  }
  
#line 916
  IOSIntArray *v = [((OrgBouncycastlePqcMathLinearalgebraGF2Vector *) cast_chk(vec, [OrgBouncycastlePqcMathLinearalgebraGF2Vector class])) getVecArray];
  IOSIntArray *res = [IOSIntArray newArrayWithLength:JreURShift32((numRows_ + numColumns_ + 31), 5)];
  
#line 920
  jint words = JreURShift32(numRows_, 5);
  jint row = 0;
  for (jint i = 0; i < words; i++) {
    
#line 924
    jint bitMask = 1;
    do {
      
#line 927
      jint b = IOSIntArray_Get(nil_chk(v), i) & bitMask;
      if (b != 0) {
        
#line 931
        for (jint j = 0; j < length_; j++) {
          
#line 933
          *IOSIntArray_GetRef(res, j) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), row)), j);
        }
        
#line 936
        jint q = JreURShift32((numColumns_ + row), 5);
        jint r = (numColumns_ + row) & (jint) 0x1f;
        *IOSIntArray_GetRef(res, q) |= JreLShift32(1, r);
      }
      row++;
      JreLShiftAssignInt(&bitMask, 1);
    }
    while (bitMask != 0);
  }
  
#line 947
  jint rem = JreLShift32(1, (numRows_ & (jint) 0x1f));
  jint bitMask = 1;
  while (bitMask != rem) {
    
#line 951
    jint b = IOSIntArray_Get(nil_chk(v), words) & bitMask;
    if (b != 0) {
      
#line 955
      for (jint j = 0; j < length_; j++) {
        
#line 957
        *IOSIntArray_GetRef(res, j) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), row)), j);
      }
      
#line 960
      jint q = JreURShift32((numColumns_ + row), 5);
      jint r = (numColumns_ + row) & (jint) 0x1f;
      *IOSIntArray_GetRef(res, q) |= JreLShift32(1, r);
    }
    row++;
    JreLShiftAssignInt(&bitMask, 1);
  }
  
#line 968
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Vector_initWithIntArray_withInt_(res, numRows_ + numColumns_);
}


#line 977
- (OrgBouncycastlePqcMathLinearalgebraMatrix *)rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraMatrix:(OrgBouncycastlePqcMathLinearalgebraMatrix *)mat {
  
#line 980
  if (!([mat isKindOfClass:[OrgBouncycastlePqcMathLinearalgebraGF2Matrix class]])) {
    
#line 982
    @throw new_JavaLangArithmeticException_initWithNSString_(@"matrix is not defined over GF(2)");
  }
  
#line 985
  if (((OrgBouncycastlePqcMathLinearalgebraMatrix *) nil_chk(mat))->numRows_ != numColumns_) {
    
#line 987
    @throw new_JavaLangArithmeticException_initWithNSString_(@"length mismatch");
  }
  
#line 990
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *a = (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) cast_chk(mat, [OrgBouncycastlePqcMathLinearalgebraGF2Matrix class]);
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *result = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(numRows_, mat->numColumns_);
  
#line 993
  jint d;
  jint rest = numColumns_ & (jint) 0x1f;
  if (rest == 0) {
    
#line 997
    d = length_;
  }
  else {
    
#line 1001
    d = length_ - 1;
  }
  for (jint i = 0; i < numRows_; i++) {
    
#line 1005
    jint count = 0;
    for (jint j = 0; j < d; j++) {
      
#line 1008
      jint e = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j);
      for (jint h = 0; h < 32; h++) {
        
#line 1011
        jint b = e & (JreLShift32(1, h));
        if (b != 0) {
          
#line 1014
          for (jint g = 0; g < a->length_; g++) {
            
#line 1016
            *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result->matrix_, i)), g) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(a->matrix_, count)), g);
          }
        }
        count++;
      }
    }
    jint e = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), length_ - 1);
    for (jint h = 0; h < rest; h++) {
      
#line 1025
      jint b = e & (JreLShift32(1, h));
      if (b != 0) {
        
#line 1028
        for (jint g = 0; g < a->length_; g++) {
          
#line 1030
          *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(result->matrix_, i)), g) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(a->matrix_, count)), g);
        }
      }
      count++;
    }
  }
  
#line 1038
  return result;
}


#line 1048
- (OrgBouncycastlePqcMathLinearalgebraMatrix *)rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraPermutation:(OrgBouncycastlePqcMathLinearalgebraPermutation *)p {
  
#line 1052
  IOSIntArray *pVec = [((OrgBouncycastlePqcMathLinearalgebraPermutation *) nil_chk(p)) getVector];
  if (((IOSIntArray *) nil_chk(pVec))->size_ != numColumns_) {
    
#line 1055
    @throw new_JavaLangArithmeticException_initWithNSString_(@"length mismatch");
  }
  
#line 1058
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *result = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(numRows_, numColumns_);
  
#line 1060
  for (jint i = numColumns_ - 1; i >= 0; i--) {
    
#line 1062
    jint q = JreURShift32(i, 5);
    jint r = i & (jint) 0x1f;
    jint pq = JreURShift32(IOSIntArray_Get(pVec, i), 5);
    jint pr = IOSIntArray_Get(pVec, i) & (jint) 0x1f;
    for (jint j = numRows_ - 1; j >= 0; j--) {
      
#line 1068
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(result->matrix_), j)), q) |= JreLShift32(((JreURShift32(IOSIntArray_Get(nil_chk(IOSObjectArray_Get(matrix_, j)), pq), pr)) & 1), r);
    }
  }
  
#line 1072
  return result;
}


#line 1081
- (OrgBouncycastlePqcMathLinearalgebraVector *)rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraVector:(OrgBouncycastlePqcMathLinearalgebraVector *)vec {
  
#line 1084
  if (!([vec isKindOfClass:[OrgBouncycastlePqcMathLinearalgebraGF2Vector class]])) {
    
#line 1086
    @throw new_JavaLangArithmeticException_initWithNSString_(@"vector is not defined over GF(2)");
  }
  
#line 1089
  if (((OrgBouncycastlePqcMathLinearalgebraVector *) nil_chk(vec))->length_ != numColumns_) {
    
#line 1091
    @throw new_JavaLangArithmeticException_initWithNSString_(@"length mismatch");
  }
  
#line 1094
  IOSIntArray *v = [((OrgBouncycastlePqcMathLinearalgebraGF2Vector *) cast_chk(vec, [OrgBouncycastlePqcMathLinearalgebraGF2Vector class])) getVecArray];
  IOSIntArray *res = [IOSIntArray newArrayWithLength:JreURShift32((numRows_ + 31), 5)];
  
#line 1097
  for (jint i = 0; i < numRows_; i++) {
    
#line 1100
    jint help = 0;
    for (jint j = 0; j < length_; j++) {
      
#line 1103
      help ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j) & IOSIntArray_Get(nil_chk(v), j);
    }
    
#line 1106
    jint bitValue = 0;
    for (jint j = 0; j < 32; j++) {
      
#line 1109
      bitValue ^= (JreURShift32(help, j)) & 1;
    }
    
#line 1112
    if (bitValue == 1) {
      
#line 1114
      *IOSIntArray_GetRef(res, JreURShift32(i, 5)) |= JreLShift32(1, (i & (jint) 0x1f));
    }
  }
  
#line 1118
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Vector_initWithIntArray_withInt_(res, numRows_);
}


#line 1129
- (OrgBouncycastlePqcMathLinearalgebraVector *)rightMultiplyRightCompactFormWithOrgBouncycastlePqcMathLinearalgebraVector:(OrgBouncycastlePqcMathLinearalgebraVector *)vec {
  
#line 1131
  if (!([vec isKindOfClass:[OrgBouncycastlePqcMathLinearalgebraGF2Vector class]])) {
    
#line 1133
    @throw new_JavaLangArithmeticException_initWithNSString_(@"vector is not defined over GF(2)");
  }
  
#line 1136
  if (((OrgBouncycastlePqcMathLinearalgebraVector *) nil_chk(vec))->length_ != numColumns_ + numRows_) {
    
#line 1138
    @throw new_JavaLangArithmeticException_initWithNSString_(@"length mismatch");
  }
  
#line 1141
  IOSIntArray *v = [((OrgBouncycastlePqcMathLinearalgebraGF2Vector *) cast_chk(vec, [OrgBouncycastlePqcMathLinearalgebraGF2Vector class])) getVecArray];
  IOSIntArray *res = [IOSIntArray newArrayWithLength:JreURShift32((numRows_ + 31), 5)];
  
#line 1144
  jint q = JreRShift32(numRows_, 5);
  jint r = numRows_ & (jint) 0x1f;
  
#line 1148
  for (jint i = 0; i < numRows_; i++) {
    
#line 1151
    jint help = (JreURShift32(IOSIntArray_Get(nil_chk(v), JreRShift32(i, 5)), (i & (jint) 0x1f))) & 1;
    
#line 1154
    jint vInd = q;
    
#line 1156
    if (r != 0) {
      
#line 1158
      jint vw = 0;
      
#line 1160
      for (jint j = 0; j < length_ - 1; j++) {
        jint unseq$1 =
#line 1163
        vInd++;
        
#line 1163
        vw = (JreURShift32(IOSIntArray_Get(v, unseq$1), r)) | (JreLShift32(IOSIntArray_Get(v, vInd), (32 - r)));
        help ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j) & vw;
      }
      
#line 1167
      vw = JreURShift32(IOSIntArray_Get(v, vInd++), r);
      if (vInd < v->size_) {
        
#line 1170
        vw |= JreLShift32(IOSIntArray_Get(v, vInd), (32 - r));
      }
      help ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), length_ - 1) & vw;
    }
    else {
      
#line 1177
      for (jint j = 0; j < length_; j++) {
        
#line 1179
        help ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j) & IOSIntArray_Get(v, vInd++);
      }
    }
    
#line 1184
    jint bitValue = 0;
    for (jint j = 0; j < 32; j++) {
      
#line 1187
      bitValue ^= help & 1;
      JreURShiftAssignInt(&help, 1);
    }
    
#line 1192
    if (bitValue == 1) {
      
#line 1194
      *IOSIntArray_GetRef(res, JreRShift32(i, 5)) |= JreLShift32(1, (i & (jint) 0x1f));
    }
  }
  
#line 1198
  return new_OrgBouncycastlePqcMathLinearalgebraGF2Vector_initWithIntArray_withInt_(res, numRows_);
}


#line 1207
- (jboolean)isEqual:(id)other {
  
#line 1211
  if (!([other isKindOfClass:[OrgBouncycastlePqcMathLinearalgebraGF2Matrix class]])) {
    
#line 1213
    return false;
  }
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *otherMatrix = (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) cast_chk(other, [OrgBouncycastlePqcMathLinearalgebraGF2Matrix class]);
  
#line 1217
  if ((numRows_ != ((OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) nil_chk(otherMatrix))->numRows_) ||
#line 1218
  (numColumns_ != otherMatrix->numColumns_) ||
#line 1219
  (length_ != otherMatrix->length_)) {
    
#line 1221
    return false;
  }
  
#line 1224
  for (jint i = 0; i < numRows_; i++) {
    
#line 1226
    if (!OrgBouncycastlePqcMathLinearalgebraIntUtils_equalsWithIntArray_withIntArray_(IOSObjectArray_Get(nil_chk(matrix_), i), IOSObjectArray_Get(otherMatrix->matrix_, i))) {
      
#line 1228
      return false;
    }
  }
  
#line 1232
  return true;
}


#line 1238
- (NSUInteger)hash {
  
#line 1241
  jint hash_ = (numRows_ * 31 + numColumns_) * 31 + length_;
  for (jint i = 0; i < numRows_; i++) {
    
#line 1244
    hash_ = hash_ * 31 + OrgBouncycastleUtilArrays_hashCodeWithIntArray_(IOSObjectArray_Get(nil_chk(matrix_), i));
  }
  return hash_;
}


#line 1252
- (NSString *)description {
  
#line 1255
  jint rest = numColumns_ & (jint) 0x1f;
  jint d;
  if (rest == 0) {
    
#line 1259
    d = length_;
  }
  else {
    
#line 1263
    d = length_ - 1;
  }
  
#line 1266
  JavaLangStringBuffer *buf = new_JavaLangStringBuffer_init();
  for (jint i = 0; i < numRows_; i++) {
    
#line 1269
    (void) [buf appendWithNSString:JreStrcat("I$", i, @": ")];
    for (jint j = 0; j < d; j++) {
      
#line 1272
      jint a = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), j);
      for (jint k = 0; k < 32; k++) {
        
#line 1275
        jint b = (JreURShift32(a, k)) & 1;
        if (b == 0) {
          
#line 1278
          (void) [buf appendWithChar:'0'];
        }
        else {
          
#line 1282
          (void) [buf appendWithChar:'1'];
        }
      }
      (void) [buf appendWithChar:' '];
    }
    jint a = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(matrix_), i)), length_ - 1);
    for (jint k = 0; k < rest; k++) {
      
#line 1290
      jint b = (JreURShift32(a, k)) & 1;
      if (b == 0) {
        
#line 1293
        (void) [buf appendWithChar:'0'];
      }
      else {
        
#line 1297
        (void) [buf appendWithChar:'1'];
      }
    }
    (void) [buf appendWithChar:0x000a];
  }
  
#line 1303
  return [buf description];
}


#line 1313
+ (void)swapRowsWithIntArray2:(IOSObjectArray *)matrix
                      withInt:(jint)first
                      withInt:(jint)second {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_swapRowsWithIntArray2_withInt_withInt_(matrix, first, second);
}


#line 1327
+ (void)addToRowWithIntArray:(IOSIntArray *)fromRow
                withIntArray:(IOSIntArray *)toRow
                     withInt:(jint)startIndex {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_addToRowWithIntArray_withIntArray_withInt_(fromRow, toRow, startIndex);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 2, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 3, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 4, -1, -1, -1, -1 },
    { NULL, NULL, 0x2, -1, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 6, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 7, 8, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 9, 10, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 11, 10, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 12, 10, -1, -1, -1, -1 },
    { NULL, "[LOrgBouncycastlePqcMathLinearalgebraGF2Matrix;", 0x9, 13, 10, -1, -1, -1, -1 },
    { NULL, "[[I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[I", 0x1, 14, 8, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "D", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraGF2Matrix;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraGF2Matrix;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraGF2Matrix;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraGF2Matrix;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraMatrix;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraMatrix;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraMatrix;", 0x1, 15, 16, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraVector;", 0x1, 15, 17, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraVector;", 0x1, 18, 17, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraMatrix;", 0x1, 19, 20, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraMatrix;", 0x1, 19, 16, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraVector;", 0x1, 19, 17, -1, -1, -1, -1 },
    { NULL, "LOrgBouncycastlePqcMathLinearalgebraVector;", 0x1, 21, 17, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 22, 23, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 24, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 25, -1, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 26, 27, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 28, 29, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithByteArray:);
  methods[1].selector = @selector(initWithInt:withIntArray2:);
  methods[2].selector = @selector(initWithInt:withChar:);
  methods[3].selector = @selector(initWithInt:withChar:withJavaSecuritySecureRandom:);
  methods[4].selector = @selector(initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix:);
  methods[5].selector = @selector(initWithInt:withInt:);
  methods[6].selector = @selector(assignZeroMatrixWithInt:withInt:);
  methods[7].selector = @selector(assignUnitMatrixWithInt:);
  methods[8].selector = @selector(assignRandomLowerTriangularMatrixWithInt:withJavaSecuritySecureRandom:);
  methods[9].selector = @selector(assignRandomUpperTriangularMatrixWithInt:withJavaSecuritySecureRandom:);
  methods[10].selector = @selector(assignRandomRegularMatrixWithInt:withJavaSecuritySecureRandom:);
  methods[11].selector = @selector(createRandomRegularMatrixAndItsInverseWithInt:withJavaSecuritySecureRandom:);
  methods[12].selector = @selector(getIntArray);
  methods[13].selector = @selector(getLength);
  methods[14].selector = @selector(getRowWithInt:);
  methods[15].selector = @selector(getEncoded);
  methods[16].selector = @selector(getHammingWeight);
  methods[17].selector = @selector(isZero);
  methods[18].selector = @selector(getLeftSubMatrix);
  methods[19].selector = @selector(extendLeftCompactForm);
  methods[20].selector = @selector(getRightSubMatrix);
  methods[21].selector = @selector(extendRightCompactForm);
  methods[22].selector = @selector(computeTranspose);
  methods[23].selector = @selector(computeInverse);
  methods[24].selector = @selector(leftMultiplyWithOrgBouncycastlePqcMathLinearalgebraPermutation:);
  methods[25].selector = @selector(leftMultiplyWithOrgBouncycastlePqcMathLinearalgebraVector:);
  methods[26].selector = @selector(leftMultiplyLeftCompactFormWithOrgBouncycastlePqcMathLinearalgebraVector:);
  methods[27].selector = @selector(rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraMatrix:);
  methods[28].selector = @selector(rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraPermutation:);
  methods[29].selector = @selector(rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraVector:);
  methods[30].selector = @selector(rightMultiplyRightCompactFormWithOrgBouncycastlePqcMathLinearalgebraVector:);
  methods[31].selector = @selector(isEqual:);
  methods[32].selector = @selector(hash);
  methods[33].selector = @selector(description);
  methods[34].selector = @selector(swapRowsWithIntArray2:withInt:withInt:);
  methods[35].selector = @selector(addToRowWithIntArray:withIntArray:withInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "matrix_", "[[I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "length_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "[B", "I[[I", "IC", "ICLJavaSecuritySecureRandom;", "LOrgBouncycastlePqcMathLinearalgebraGF2Matrix;", "II", "assignZeroMatrix", "assignUnitMatrix", "I", "assignRandomLowerTriangularMatrix", "ILJavaSecuritySecureRandom;", "assignRandomUpperTriangularMatrix", "assignRandomRegularMatrix", "createRandomRegularMatrixAndItsInverse", "getRow", "leftMultiply", "LOrgBouncycastlePqcMathLinearalgebraPermutation;", "LOrgBouncycastlePqcMathLinearalgebraVector;", "leftMultiplyLeftCompactForm", "rightMultiply", "LOrgBouncycastlePqcMathLinearalgebraMatrix;", "rightMultiplyRightCompactForm", "equals", "LNSObject;", "hashCode", "toString", "swapRows", "[[III", "addToRow", "[I[II" };
  static const J2ObjcClassInfo _OrgBouncycastlePqcMathLinearalgebraGF2Matrix = { "GF2Matrix", "org.bouncycastle.pqc.math.linearalgebra", ptrTable, methods, fields, 7, 0x1, 36, 2, -1, -1, -1, -1, -1 };
  return &_OrgBouncycastlePqcMathLinearalgebraGF2Matrix;
}

@end


#line 34
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithByteArray_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, IOSByteArray *enc) {
  OrgBouncycastlePqcMathLinearalgebraMatrix_init(self);
  if (((IOSByteArray *) nil_chk(enc))->size_ < 9) {
    
#line 38
    @throw new_JavaLangArithmeticException_initWithNSString_(
#line 39
    @"given array is not an encoded matrix over GF(2)");
  }
  
#line 42
  self->numRows_ = OrgBouncycastlePqcMathLinearalgebraLittleEndianConversions_OS2IPWithByteArray_withInt_(enc, 0);
  self->numColumns_ = OrgBouncycastlePqcMathLinearalgebraLittleEndianConversions_OS2IPWithByteArray_withInt_(enc, 4);
  
#line 45
  jint n = (JreURShift32((self->numColumns_ + 7), 3)) * self->numRows_;
  
#line 47
  if ((self->numRows_ <= 0) || (n != (enc->size_ - 8))) {
    
#line 49
    @throw new_JavaLangArithmeticException_initWithNSString_(
#line 50
    @"given array is not an encoded matrix over GF(2)");
  }
  
#line 53
  self->length_ = JreURShift32((self->numColumns_ + 31), 5);
  self->matrix_ = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ self->numRows_, self->length_ }];
  
#line 57
  jint q = JreRShift32(self->numColumns_, 5);
  
#line 59
  jint r = self->numColumns_ & (jint) 0x1f;
  
#line 61
  jint count = 8;
  for (jint i = 0; i < self->numRows_; i++) {
    
#line 64
    for (jint j = 0; j < q; j++, count += 4) {
      
#line 66
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->matrix_), i)), j) = OrgBouncycastlePqcMathLinearalgebraLittleEndianConversions_OS2IPWithByteArray_withInt_(enc, count);
    }
    for (jint j = 0; j < r; j += 8) {
      
#line 70
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->matrix_), i)), q) ^= JreLShift32((IOSByteArray_Get(enc, count++) & (jint) 0xff), j);
    }
  }
}


#line 34
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithByteArray_(IOSByteArray *enc) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithByteArray_, enc)
}


#line 34
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *create_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithByteArray_(IOSByteArray *enc) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithByteArray_, enc)
}


#line 82
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint numColumns, IOSObjectArray *matrix) {
  OrgBouncycastlePqcMathLinearalgebraMatrix_init(self);
  if (((IOSIntArray *) nil_chk(IOSObjectArray_Get(nil_chk(matrix), 0)))->size_ != JreRShift32((numColumns + 31), 5)) {
    
#line 86
    @throw new_JavaLangArithmeticException_initWithNSString_(
#line 87
    @"Int array does not match given number of columns.");
  }
  self->numColumns_ = numColumns;
  self->numRows_ = matrix->size_;
  self->length_ = ((IOSIntArray *) nil_chk(IOSObjectArray_Get(matrix, 0)))->size_;
  jint rest = numColumns & (jint) 0x1f;
  jint bitMask;
  if (rest == 0) {
    
#line 96
    bitMask = (jint) 0xffffffff;
  }
  else {
    
#line 100
    bitMask = (JreLShift32(1, rest)) - 1;
  }
  for (jint i = 0; i < self->numRows_; i++) {
    
#line 104
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(matrix, i)), self->length_ - 1) &= bitMask;
  }
  self->matrix_ = matrix;
}


#line 82
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(jint numColumns, IOSObjectArray *matrix) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withIntArray2_, numColumns, matrix)
}


#line 82
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *create_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(jint numColumns, IOSObjectArray *matrix) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withIntArray2_, numColumns, matrix)
}


#line 116
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, jchar typeOfMatrix) {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(self,
#line 118
  n, typeOfMatrix, new_JavaSecuritySecureRandom_init());
}


#line 116
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_(jint n, jchar typeOfMatrix) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withChar_, n, typeOfMatrix)
}


#line 116
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *create_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_(jint n, jchar typeOfMatrix) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withChar_, n, typeOfMatrix)
}


#line 128
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, jchar typeOfMatrix, JavaSecuritySecureRandom *sr) {
  OrgBouncycastlePqcMathLinearalgebraMatrix_init(self);
  if (n <= 0) {
    
#line 132
    @throw new_JavaLangArithmeticException_initWithNSString_(@"Size of matrix is non-positive.");
  }
  
#line 135
  switch (typeOfMatrix) {
    
#line 138
    case OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_ZERO:
    OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignZeroMatrixWithInt_withInt_(self, n, n);
    break;
    
#line 142
    case OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_UNIT:
    OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignUnitMatrixWithInt_(self, n);
    break;
    
#line 146
    case OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_RANDOM_LT:
    OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomLowerTriangularMatrixWithInt_withJavaSecuritySecureRandom_(self, n, sr);
    break;
    
#line 150
    case OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_RANDOM_UT:
    OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomUpperTriangularMatrixWithInt_withJavaSecuritySecureRandom_(self, n, sr);
    break;
    
#line 154
    case OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_RANDOM_REGULAR:
    OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomRegularMatrixWithInt_withJavaSecuritySecureRandom_(self, n, sr);
    break;
    
#line 158
    default:
    @throw new_JavaLangArithmeticException_initWithNSString_(@"Unknown matrix type.");
  }
}


#line 128
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(jint n, jchar typeOfMatrix, JavaSecuritySecureRandom *sr) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withChar_withJavaSecuritySecureRandom_, n, typeOfMatrix, sr)
}


#line 128
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *create_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(jint n, jchar typeOfMatrix, JavaSecuritySecureRandom *sr) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withChar_withJavaSecuritySecureRandom_, n, typeOfMatrix, sr)
}


#line 168
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, OrgBouncycastlePqcMathLinearalgebraGF2Matrix *a) {
  OrgBouncycastlePqcMathLinearalgebraMatrix_init(self);
  self->numColumns_ = [((OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) nil_chk(a)) getNumColumns];
  self->numRows_ = [a getNumRows];
  self->length_ = a->length_;
  self->matrix_ = [IOSObjectArray newArrayWithLength:((IOSObjectArray *) nil_chk(a->matrix_))->size_ type:IOSClass_intArray(1)];
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(self->matrix_))->size_; i++) {
    
#line 176
    (void) IOSObjectArray_Set(self->matrix_, i, OrgBouncycastlePqcMathLinearalgebraIntUtils_cloneWithIntArray_(IOSObjectArray_Get(a->matrix_, i)));
  }
}


#line 168
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *a) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix_, a)
}


#line 168
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *create_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *a) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithOrgBouncycastlePqcMathLinearalgebraGF2Matrix_, a)
}


#line 184
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint m, jint n) {
  OrgBouncycastlePqcMathLinearalgebraMatrix_init(self);
  if ((n <= 0) || (m <= 0)) {
    
#line 188
    @throw new_JavaLangArithmeticException_initWithNSString_(@"size of matrix is non-positive");
  }
  
#line 191
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignZeroMatrixWithInt_withInt_(self, m, n);
}


#line 184
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(jint m, jint n) {
  J2OBJC_NEW_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withInt_, m, n)
}


#line 184
OrgBouncycastlePqcMathLinearalgebraGF2Matrix *create_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withInt_(jint m, jint n) {
  J2OBJC_CREATE_IMPL(OrgBouncycastlePqcMathLinearalgebraGF2Matrix, initWithInt_withInt_, m, n)
}


#line 200
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignZeroMatrixWithInt_withInt_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint m, jint n) {
  
#line 202
  self->numRows_ = m;
  self->numColumns_ = n;
  self->length_ = JreURShift32((n + 31), 5);
  self->matrix_ = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ self->numRows_, self->length_ }];
  for (jint i = 0; i < self->numRows_; i++) {
    
#line 208
    for (jint j = 0; j < self->length_; j++) {
      
#line 210
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(self->matrix_, i)), j) = 0;
    }
  }
}


#line 220
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignUnitMatrixWithInt_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n) {
  
#line 222
  self->numRows_ = n;
  self->numColumns_ = n;
  self->length_ = JreURShift32((n + 31), 5);
  self->matrix_ = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ self->numRows_, self->length_ }];
  for (jint i = 0; i < self->numRows_; i++) {
    
#line 228
    for (jint j = 0; j < self->length_; j++) {
      
#line 230
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(self->matrix_, i)), j) = 0;
    }
  }
  for (jint i = 0; i < self->numRows_; i++) {
    
#line 235
    jint rest = i & (jint) 0x1f;
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(self->matrix_, i)), JreURShift32(i, 5)) = JreLShift32(1, rest);
  }
}


#line 246
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomLowerTriangularMatrixWithInt_withJavaSecuritySecureRandom_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, JavaSecuritySecureRandom *sr) {
  
#line 248
  self->numRows_ = n;
  self->numColumns_ = n;
  self->length_ = JreURShift32((n + 31), 5);
  self->matrix_ = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ self->numRows_, self->length_ }];
  for (jint i = 0; i < self->numRows_; i++) {
    
#line 254
    jint q = JreURShift32(i, 5);
    jint r = i & (jint) 0x1f;
    jint s = 31 - r;
    r = JreLShift32(1, r);
    for (jint j = 0; j < q; j++) {
      
#line 260
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->matrix_), i)), j) = [((JavaSecuritySecureRandom *) nil_chk(sr)) nextInt];
    }
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->matrix_), i)), q) = (JreURShift32([((JavaSecuritySecureRandom *) nil_chk(sr)) nextInt], s)) | r;
    for (jint j = q + 1; j < self->length_; j++) {
      
#line 265
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->matrix_), i)), j) = 0;
    }
  }
}


#line 278
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomUpperTriangularMatrixWithInt_withJavaSecuritySecureRandom_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, JavaSecuritySecureRandom *sr) {
  
#line 280
  self->numRows_ = n;
  self->numColumns_ = n;
  self->length_ = JreURShift32((n + 31), 5);
  self->matrix_ = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ self->numRows_, self->length_ }];
  jint rest = n & (jint) 0x1f;
  jint help;
  if (rest == 0) {
    
#line 288
    help = (jint) 0xffffffff;
  }
  else {
    
#line 292
    help = (JreLShift32(1, rest)) - 1;
  }
  for (jint i = 0; i < self->numRows_; i++) {
    
#line 296
    jint q = JreURShift32(i, 5);
    jint r = i & (jint) 0x1f;
    jint s = r;
    r = JreLShift32(1, r);
    for (jint j = 0; j < q; j++) {
      
#line 302
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(self->matrix_, i)), j) = 0;
    }
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(self->matrix_, i)), q) = (JreLShift32([((JavaSecuritySecureRandom *) nil_chk(sr)) nextInt], s)) | r;
    for (jint j = q + 1; j < self->length_; j++) {
      
#line 307
      *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->matrix_), i)), j) = [sr nextInt];
    }
    *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(nil_chk(self->matrix_), i)), self->length_ - 1) &= help;
  }
}


#line 320
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_assignRandomRegularMatrixWithInt_withJavaSecuritySecureRandom_(OrgBouncycastlePqcMathLinearalgebraGF2Matrix *self, jint n, JavaSecuritySecureRandom *sr) {
  
#line 322
  self->numRows_ = n;
  self->numColumns_ = n;
  self->length_ = JreURShift32((n + 31), 5);
  self->matrix_ = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ self->numRows_, self->length_ }];
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *lm = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(n, OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_RANDOM_LT, sr);
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *um = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(n, OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_RANDOM_UT, sr);
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *rm = (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) cast_chk([lm rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraMatrix:um], [OrgBouncycastlePqcMathLinearalgebraGF2Matrix class]);
  OrgBouncycastlePqcMathLinearalgebraPermutation *perm = new_OrgBouncycastlePqcMathLinearalgebraPermutation_initWithInt_withJavaSecuritySecureRandom_(n, sr);
  IOSIntArray *p = [perm getVector];
  for (jint i = 0; i < n; i++) {
    
#line 333
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(IOSObjectArray_Get(nil_chk(((OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) nil_chk(rm))->matrix_), i), 0, IOSObjectArray_Get(self->matrix_, IOSIntArray_Get(nil_chk(p), i)), 0, self->length_);
  }
}


#line 344
IOSObjectArray *OrgBouncycastlePqcMathLinearalgebraGF2Matrix_createRandomRegularMatrixAndItsInverseWithInt_withJavaSecuritySecureRandom_(jint n, JavaSecuritySecureRandom *sr) {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initialize();
  
#line 348
  IOSObjectArray *result = [IOSObjectArray newArrayWithLength:2 type:OrgBouncycastlePqcMathLinearalgebraGF2Matrix_class_()];
  
#line 355
  jint length = JreRShift32((n + 31), 5);
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *lm = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(n, OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_RANDOM_LT, sr);
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *um = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_withJavaSecuritySecureRandom_(n, OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_RANDOM_UT, sr);
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *rm = (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) cast_chk([lm rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraMatrix:um], [OrgBouncycastlePqcMathLinearalgebraGF2Matrix class]);
  OrgBouncycastlePqcMathLinearalgebraPermutation *p = new_OrgBouncycastlePqcMathLinearalgebraPermutation_initWithInt_withJavaSecuritySecureRandom_(n, sr);
  IOSIntArray *pVec = [p getVector];
  
#line 362
  IOSObjectArray *matrix = [IOSIntArray newArrayWithDimensions:2 lengths:(jint[]){ n, length }];
  for (jint i = 0; i < n; i++) {
    
#line 365
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(IOSObjectArray_Get(nil_chk(((OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) nil_chk(rm))->matrix_), IOSIntArray_Get(nil_chk(pVec), i)), 0, IOSObjectArray_Get(matrix, i), 0, length);
  }
  
#line 368
  (void) IOSObjectArray_SetAndConsume(result, 0, new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withIntArray2_(n, matrix));
  
#line 375
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *invLm = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_(n, OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_UNIT);
  for (jint i = 0; i < n; i++) {
    
#line 378
    jint rest = i & (jint) 0x1f;
    jint q = JreURShift32(i, 5);
    jint r = JreLShift32(1, rest);
    for (jint j = i + 1; j < n; j++) {
      
#line 383
      jint b = (IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(lm->matrix_), j)), q)) & r;
      if (b != 0) {
        
#line 386
        for (jint k = 0; k <= q; k++) {
          
#line 388
          *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(invLm->matrix_, j)), k) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(invLm->matrix_, i)), k);
        }
      }
    }
  }
  
#line 394
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix *invUm = new_OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initWithInt_withChar_(n, OrgBouncycastlePqcMathLinearalgebraMatrix_MATRIX_TYPE_UNIT);
  for (jint i = n - 1; i >= 0; i--) {
    
#line 397
    jint rest = i & (jint) 0x1f;
    jint q = JreURShift32(i, 5);
    jint r = JreLShift32(1, rest);
    for (jint j = i - 1; j >= 0; j--) {
      
#line 402
      jint b = (IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(um->matrix_), j)), q)) & r;
      if (b != 0) {
        
#line 405
        for (jint k = q; k < length; k++) {
          
#line 407
          *IOSIntArray_GetRef(nil_chk(IOSObjectArray_Get(invUm->matrix_, j)), k) ^= IOSIntArray_Get(nil_chk(IOSObjectArray_Get(invUm->matrix_, i)), k);
        }
      }
    }
  }
  
#line 414
  (void) IOSObjectArray_Set(result, 1, (OrgBouncycastlePqcMathLinearalgebraGF2Matrix *) cast_chk([invUm rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraMatrix:[invLm rightMultiplyWithOrgBouncycastlePqcMathLinearalgebraPermutation:p]], [OrgBouncycastlePqcMathLinearalgebraGF2Matrix class]));
  
#line 416
  return result;
}


#line 1313
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_swapRowsWithIntArray2_withInt_withInt_(IOSObjectArray *matrix, jint first, jint second) {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initialize();
  IOSIntArray *tmp = IOSObjectArray_Get(nil_chk(matrix), first);
  (void) IOSObjectArray_Set(matrix, first, IOSObjectArray_Get(matrix, second));
  (void) IOSObjectArray_Set(matrix, second, tmp);
}


#line 1327
void OrgBouncycastlePqcMathLinearalgebraGF2Matrix_addToRowWithIntArray_withIntArray_withInt_(IOSIntArray *fromRow, IOSIntArray *toRow, jint startIndex) {
  OrgBouncycastlePqcMathLinearalgebraGF2Matrix_initialize();
  for (jint i = ((IOSIntArray *) nil_chk(toRow))->size_ - 1; i >= startIndex; i--) {
    
#line 1331
    *IOSIntArray_GetRef(toRow, i) = IOSIntArray_Get(nil_chk(fromRow), i) ^ IOSIntArray_Get(toRow, i);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastlePqcMathLinearalgebraGF2Matrix)
