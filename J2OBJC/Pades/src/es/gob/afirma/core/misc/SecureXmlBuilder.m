//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/es/gob/afirma/core/misc/SecureXmlBuilder.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "es/gob/afirma/core/misc/SecureXmlBuilder.h"
#include "es/gob/afirma/core/misc/SecureXmlConstants.h"
#include "java/lang/Boolean.h"
#include "java/lang/Exception.h"
#include "java/util/logging/Level.h"
#include "java/util/logging/Logger.h"
#include "javax/xml/parsers/DocumentBuilder.h"
#include "javax/xml/parsers/DocumentBuilderFactory.h"
#include "javax/xml/parsers/SAXParser.h"
#include "javax/xml/parsers/SAXParserFactory.h"

#if !__has_feature(objc_arc)
#error "es/gob/afirma/core/misc/SecureXmlBuilder must be compiled with ARC (-fobjc-arc)"
#endif

inline JavaxXmlParsersDocumentBuilderFactory *EsGobAfirmaCoreMiscSecureXmlBuilder_get_SECURE_BUILDER_FACTORY(void);
inline JavaxXmlParsersDocumentBuilderFactory *EsGobAfirmaCoreMiscSecureXmlBuilder_set_SECURE_BUILDER_FACTORY(JavaxXmlParsersDocumentBuilderFactory *value);
static JavaxXmlParsersDocumentBuilderFactory *EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY;
J2OBJC_STATIC_FIELD_OBJ(EsGobAfirmaCoreMiscSecureXmlBuilder, SECURE_BUILDER_FACTORY, JavaxXmlParsersDocumentBuilderFactory *)

inline JavaxXmlParsersSAXParserFactory *EsGobAfirmaCoreMiscSecureXmlBuilder_get_SAX_FACTORY(void);
inline JavaxXmlParsersSAXParserFactory *EsGobAfirmaCoreMiscSecureXmlBuilder_set_SAX_FACTORY(JavaxXmlParsersSAXParserFactory *value);
static JavaxXmlParsersSAXParserFactory *EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY;
J2OBJC_STATIC_FIELD_OBJ(EsGobAfirmaCoreMiscSecureXmlBuilder, SAX_FACTORY, JavaxXmlParsersSAXParserFactory *)

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/es/gob/afirma/core/misc/SecureXmlBuilder.java"


#line 17
@implementation EsGobAfirmaCoreMiscSecureXmlBuilder

J2OBJC_IGNORE_DESIGNATED_BEGIN

#line 17
- (instancetype)init {
  EsGobAfirmaCoreMiscSecureXmlBuilder_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END


#line 28
+ (JavaxXmlParsersDocumentBuilder *)getSecureDocumentBuilder {
  return EsGobAfirmaCoreMiscSecureXmlBuilder_getSecureDocumentBuilder();
}


#line 69
+ (JavaxXmlParsersSAXParser *)getSecureSAXParser {
  return EsGobAfirmaCoreMiscSecureXmlBuilder_getSecureSAXParser();
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaxXmlParsersDocumentBuilder;", 0x9, -1, -1, 0, -1, -1, -1 },
    { NULL, "LJavaxXmlParsersSAXParser;", 0x9, -1, -1, 1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(getSecureDocumentBuilder);
  methods[2].selector = @selector(getSecureSAXParser);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "SECURE_BUILDER_FACTORY", "LJavaxXmlParsersDocumentBuilderFactory;", .constantValue.asLong = 0, 0xa, -1, 2, -1, -1 },
    { "SAX_FACTORY", "LJavaxXmlParsersSAXParserFactory;", .constantValue.asLong = 0, 0xa, -1, 3, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaxXmlParsersParserConfigurationException;", "LJavaxXmlParsersParserConfigurationException;LOrgXmlSaxSAXException;", &EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY, &EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY };
  static const J2ObjcClassInfo _EsGobAfirmaCoreMiscSecureXmlBuilder = { "SecureXmlBuilder", "es.gob.afirma.core.misc", ptrTable, methods, fields, 7, 0x1, 3, 2, -1, -1, -1, -1, -1 };
  return &_EsGobAfirmaCoreMiscSecureXmlBuilder;
}

@end


#line 17
void EsGobAfirmaCoreMiscSecureXmlBuilder_init(EsGobAfirmaCoreMiscSecureXmlBuilder *self) {
  NSObject_init(self);
}


#line 17
EsGobAfirmaCoreMiscSecureXmlBuilder *new_EsGobAfirmaCoreMiscSecureXmlBuilder_init() {
  J2OBJC_NEW_IMPL(EsGobAfirmaCoreMiscSecureXmlBuilder, init)
}


#line 17
EsGobAfirmaCoreMiscSecureXmlBuilder *create_EsGobAfirmaCoreMiscSecureXmlBuilder_init() {
  J2OBJC_CREATE_IMPL(EsGobAfirmaCoreMiscSecureXmlBuilder, init)
}


#line 28
JavaxXmlParsersDocumentBuilder *EsGobAfirmaCoreMiscSecureXmlBuilder_getSecureDocumentBuilder() {
  EsGobAfirmaCoreMiscSecureXmlBuilder_initialize();
  
#line 29
  if (EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY == nil) {
    EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY = JavaxXmlParsersDocumentBuilderFactory_newInstance();
    @try {
      [((JavaxXmlParsersDocumentBuilderFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY)) setFeatureWithNSString:EsGobAfirmaCoreMiscSecureXmlConstants_FEATURE_SECURE_PROCESSING withBoolean:[((JavaLangBoolean *) nil_chk(JreLoadStatic(JavaLangBoolean, TRUE))) booleanValue]];
    }
    @catch (JavaLangException *e) {
      [((JavaUtilLoggingLogger *) nil_chk(JavaUtilLoggingLogger_getLoggerWithNSString_(@"es.gob.afirma"))) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, WARNING) withNSString:JreStrcat("$@", @"No se ha podido establecer el procesado seguro en la factoria XML: ", e)];
    }
    
#line 41
    IOSObjectArray *securityProperties = [IOSObjectArray newArrayWithObjects:(id[]){
#line 42
      EsGobAfirmaCoreMiscSecureXmlConstants_ACCESS_EXTERNAL_DTD,
#line 43
      EsGobAfirmaCoreMiscSecureXmlConstants_ACCESS_EXTERNAL_SCHEMA,
#line 44
      EsGobAfirmaCoreMiscSecureXmlConstants_ACCESS_EXTERNAL_STYLESHEET } count:3 type:NSString_class_()];
      {
        IOSObjectArray *a__ = securityProperties;
        NSString * const *b__ = a__->buffer_;
        NSString * const *e__ = b__ + a__->size_;
        while (b__ < e__) {
          NSString *securityProperty = *b__++;
          
#line 47
          @try {
            [((JavaxXmlParsersDocumentBuilderFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY)) setAttributeWithNSString:securityProperty withId:@""];
          }
          @catch (JavaLangException *e) {
            
#line 53
            [((JavaUtilLoggingLogger *) nil_chk(JavaUtilLoggingLogger_getLoggerWithNSString_(@"es.gob.afirma"))) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:JreStrcat("$$$", @"No se ha podido establecer una propiedad de seguridad '", securityProperty, @"' en la factoria XML")];
          }
        }
      }
      [((JavaxXmlParsersDocumentBuilderFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY)) setValidatingWithBoolean:false];
      [((JavaxXmlParsersDocumentBuilderFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY)) setNamespaceAwareWithBoolean:true];
    }
    return [((JavaxXmlParsersDocumentBuilderFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SECURE_BUILDER_FACTORY)) newDocumentBuilder];
  }


#line 69
JavaxXmlParsersSAXParser *EsGobAfirmaCoreMiscSecureXmlBuilder_getSecureSAXParser() {
  EsGobAfirmaCoreMiscSecureXmlBuilder_initialize();
  
#line 70
  if (EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY == nil) {
    EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY = JavaxXmlParsersSAXParserFactory_newInstance();
    @try {
      [((JavaxXmlParsersSAXParserFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY)) setFeatureWithNSString:EsGobAfirmaCoreMiscSecureXmlConstants_FEATURE_SECURE_PROCESSING withBoolean:[((JavaLangBoolean *) nil_chk(JreLoadStatic(JavaLangBoolean, TRUE))) booleanValue]];
    }
    @catch (JavaLangException *e) {
      [((JavaUtilLoggingLogger *) nil_chk(JavaUtilLoggingLogger_getLoggerWithNSString_(@"es.gob.afirma"))) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, SEVERE) withNSString:JreStrcat("$@", @"No se ha podido establecer una caracteristica de seguridad en la factoria XML: ",
#line 78
      e)];
    }
    
#line 82
    @try {
      [((JavaxXmlParsersSAXParserFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY)) setFeatureWithNSString:@"http://xml.org/sax/features/external-general-entities" withBoolean:false];
      [((JavaxXmlParsersSAXParserFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY)) setFeatureWithNSString:@"http://xml.org/sax/features/external-parameter-entities" withBoolean:false];
    }
    @catch (JavaLangException *e) {
      
#line 89
      [((JavaUtilLoggingLogger *) nil_chk(JavaUtilLoggingLogger_getLoggerWithNSString_(@"es.gob.afirma"))) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:JreStrcat("$@", @"No se ha podido establecer una caracteristica de seguridad en la factoria SAX XML: ",
#line 91
      e)];
    }
    
#line 94
    [((JavaxXmlParsersSAXParserFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY)) setValidatingWithBoolean:false];
    [((JavaxXmlParsersSAXParserFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY)) setNamespaceAwareWithBoolean:true];
  }
  return [((JavaxXmlParsersSAXParserFactory *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_SAX_FACTORY)) newSAXParser];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EsGobAfirmaCoreMiscSecureXmlBuilder)
