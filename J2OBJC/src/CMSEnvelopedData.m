//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/org/spongycastle/cms/CMSEnvelopedData.java
//

#include "ASN1Encodable.h"
#include "ASN1ObjectIdentifier.h"
#include "ASN1OctetString.h"
#include "ASN1Primitive.h"
#include "ASN1Set.h"
#include "AlgorithmIdentifier.h"
#include "AttributeTable.h"
#include "CMSEnvelopedData.h"
#include "CMSEnvelopedHelper.h"
#include "CMSException.h"
#include "CMSProcessableByteArray.h"
#include "CMSReadable.h"
#include "CMSSecureReadable.h"
#include "CMSUtils.h"
#include "ContentInfo.h"
#include "EncryptedContentInfo.h"
#include "EnvelopedData.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "OriginatorInfo.h"
#include "OriginatorInformation.h"
#include "RecipientInformationStore.h"
#include "java/io/InputStream.h"
#include "java/lang/ClassCastException.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/RuntimeException.h"

#if !__has_feature(objc_arc)
#error "CMSEnvelopedData must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgSpongycastleCmsCMSEnvelopedData () {
 @public
  OrgSpongycastleAsn1X509AlgorithmIdentifier *encAlg_;
  OrgSpongycastleAsn1ASN1Set *unprotectedAttributes_;
  OrgSpongycastleCmsOriginatorInformation *originatorInfo_;
}

- (IOSByteArray *)encodeObjWithOrgSpongycastleAsn1ASN1Encodable:(id<OrgSpongycastleAsn1ASN1Encodable>)obj;

@end

J2OBJC_FIELD_SETTER(OrgSpongycastleCmsCMSEnvelopedData, encAlg_, OrgSpongycastleAsn1X509AlgorithmIdentifier *)
J2OBJC_FIELD_SETTER(OrgSpongycastleCmsCMSEnvelopedData, unprotectedAttributes_, OrgSpongycastleAsn1ASN1Set *)
J2OBJC_FIELD_SETTER(OrgSpongycastleCmsCMSEnvelopedData, originatorInfo_, OrgSpongycastleCmsOriginatorInformation *)

__attribute__((unused)) static IOSByteArray *OrgSpongycastleCmsCMSEnvelopedData_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(OrgSpongycastleCmsCMSEnvelopedData *self, id<OrgSpongycastleAsn1ASN1Encodable> obj);

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/org/spongycastle/cms/CMSEnvelopedData.java"


#line 37
@implementation OrgSpongycastleCmsCMSEnvelopedData


#line 47
- (instancetype)initWithByteArray:(IOSByteArray *)envelopedData {
  OrgSpongycastleCmsCMSEnvelopedData_initWithByteArray_(self, envelopedData);
  return self;
}


#line 54
- (instancetype)initWithJavaIoInputStream:(JavaIoInputStream *)envelopedData {
  OrgSpongycastleCmsCMSEnvelopedData_initWithJavaIoInputStream_(self, envelopedData);
  return self;
}


#line 67
- (instancetype)initWithOrgSpongycastleAsn1CmsContentInfo:(OrgSpongycastleAsn1CmsContentInfo *)contentInfo {
  OrgSpongycastleCmsCMSEnvelopedData_initWithOrgSpongycastleAsn1CmsContentInfo_(self, contentInfo);
  return self;
}


#line 114
- (IOSByteArray *)encodeObjWithOrgSpongycastleAsn1ASN1Encodable:(id<OrgSpongycastleAsn1ASN1Encodable>)obj {
  return OrgSpongycastleCmsCMSEnvelopedData_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(self, obj);
}


#line 131
- (OrgSpongycastleCmsOriginatorInformation *)getOriginatorInfo {
  
#line 133
  return originatorInfo_;
}


#line 141
- (OrgSpongycastleAsn1X509AlgorithmIdentifier *)getContentEncryptionAlgorithm {
  
#line 143
  return encAlg_;
}


#line 149
- (NSString *)getEncryptionAlgOID {
  
#line 151
  return [((OrgSpongycastleAsn1ASN1ObjectIdentifier *) nil_chk([((OrgSpongycastleAsn1X509AlgorithmIdentifier *) nil_chk(encAlg_)) getAlgorithm])) getId];
}


#line 158
- (IOSByteArray *)getEncryptionAlgParams {
  
#line 160
  @try {
    
#line 162
    return OrgSpongycastleCmsCMSEnvelopedData_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(self, [((OrgSpongycastleAsn1X509AlgorithmIdentifier *) nil_chk(encAlg_)) getParameters]);
  }
  @catch (JavaLangException *e) {
    
#line 166
    @throw new_JavaLangRuntimeException_initWithNSString_(JreStrcat("$@", @"exception getting encryption parameters ", e));
  }
}

- (OrgSpongycastleCmsRecipientInformationStore *)getRecipientInfos {
  
#line 175
  return recipientInfoStore_;
}


#line 181
- (OrgSpongycastleAsn1CmsContentInfo *)toASN1Structure {
  
#line 183
  return contentInfo_;
}


#line 190
- (OrgSpongycastleAsn1CmsAttributeTable *)getUnprotectedAttributes {
  
#line 192
  if (unprotectedAttributes_ == nil) {
    
#line 194
    return nil;
  }
  
#line 197
  return new_OrgSpongycastleAsn1CmsAttributeTable_initWithOrgSpongycastleAsn1ASN1Set_(unprotectedAttributes_);
}

- (IOSByteArray *)getEncoded {
  
#line 206
  return [((OrgSpongycastleAsn1CmsContentInfo *) nil_chk(contentInfo_)) getEncoded];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, 1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 2, 1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 3, 1, -1, -1, -1 },
    { NULL, "[B", 0x2, 4, 5, 6, -1, -1, -1 },
    { NULL, "LOrgSpongycastleCmsOriginatorInformation;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1X509AlgorithmIdentifier;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleCmsRecipientInformationStore;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1CmsContentInfo;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1CmsAttributeTable;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, 6, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithByteArray:);
  methods[1].selector = @selector(initWithJavaIoInputStream:);
  methods[2].selector = @selector(initWithOrgSpongycastleAsn1CmsContentInfo:);
  methods[3].selector = @selector(encodeObjWithOrgSpongycastleAsn1ASN1Encodable:);
  methods[4].selector = @selector(getOriginatorInfo);
  methods[5].selector = @selector(getContentEncryptionAlgorithm);
  methods[6].selector = @selector(getEncryptionAlgOID);
  methods[7].selector = @selector(getEncryptionAlgParams);
  methods[8].selector = @selector(getRecipientInfos);
  methods[9].selector = @selector(toASN1Structure);
  methods[10].selector = @selector(getUnprotectedAttributes);
  methods[11].selector = @selector(getEncoded);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "recipientInfoStore_", "LOrgSpongycastleCmsRecipientInformationStore;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "contentInfo_", "LOrgSpongycastleAsn1CmsContentInfo;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "encAlg_", "LOrgSpongycastleAsn1X509AlgorithmIdentifier;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "unprotectedAttributes_", "LOrgSpongycastleAsn1ASN1Set;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "originatorInfo_", "LOrgSpongycastleCmsOriginatorInformation;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "[B", "LOrgSpongycastleCmsCMSException;", "LJavaIoInputStream;", "LOrgSpongycastleAsn1CmsContentInfo;", "encodeObj", "LOrgSpongycastleAsn1ASN1Encodable;", "LJavaIoIOException;" };
  static const J2ObjcClassInfo _OrgSpongycastleCmsCMSEnvelopedData = { "CMSEnvelopedData", "org.spongycastle.cms", ptrTable, methods, fields, 7, 0x1, 12, 5, -1, -1, -1, -1, -1 };
  return &_OrgSpongycastleCmsCMSEnvelopedData;
}

@end


#line 47
void OrgSpongycastleCmsCMSEnvelopedData_initWithByteArray_(OrgSpongycastleCmsCMSEnvelopedData *self, IOSByteArray *envelopedData) {
  OrgSpongycastleCmsCMSEnvelopedData_initWithOrgSpongycastleAsn1CmsContentInfo_(self, OrgSpongycastleCmsCMSUtils_readContentInfoWithByteArray_(
#line 51
  envelopedData));
}


#line 47
OrgSpongycastleCmsCMSEnvelopedData *new_OrgSpongycastleCmsCMSEnvelopedData_initWithByteArray_(IOSByteArray *envelopedData) {
  J2OBJC_NEW_IMPL(OrgSpongycastleCmsCMSEnvelopedData, initWithByteArray_, envelopedData)
}


#line 47
OrgSpongycastleCmsCMSEnvelopedData *create_OrgSpongycastleCmsCMSEnvelopedData_initWithByteArray_(IOSByteArray *envelopedData) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleCmsCMSEnvelopedData, initWithByteArray_, envelopedData)
}


#line 54
void OrgSpongycastleCmsCMSEnvelopedData_initWithJavaIoInputStream_(OrgSpongycastleCmsCMSEnvelopedData *self, JavaIoInputStream *envelopedData) {
  OrgSpongycastleCmsCMSEnvelopedData_initWithOrgSpongycastleAsn1CmsContentInfo_(self, OrgSpongycastleCmsCMSUtils_readContentInfoWithJavaIoInputStream_(
#line 58
  envelopedData));
}


#line 54
OrgSpongycastleCmsCMSEnvelopedData *new_OrgSpongycastleCmsCMSEnvelopedData_initWithJavaIoInputStream_(JavaIoInputStream *envelopedData) {
  J2OBJC_NEW_IMPL(OrgSpongycastleCmsCMSEnvelopedData, initWithJavaIoInputStream_, envelopedData)
}


#line 54
OrgSpongycastleCmsCMSEnvelopedData *create_OrgSpongycastleCmsCMSEnvelopedData_initWithJavaIoInputStream_(JavaIoInputStream *envelopedData) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleCmsCMSEnvelopedData, initWithJavaIoInputStream_, envelopedData)
}


#line 67
void OrgSpongycastleCmsCMSEnvelopedData_initWithOrgSpongycastleAsn1CmsContentInfo_(OrgSpongycastleCmsCMSEnvelopedData *self, OrgSpongycastleAsn1CmsContentInfo *contentInfo) {
  NSObject_init(self);
  
#line 71
  self->contentInfo_ = contentInfo;
  
#line 73
  @try {
    
#line 75
    OrgSpongycastleAsn1CmsEnvelopedData *envData = OrgSpongycastleAsn1CmsEnvelopedData_getInstanceWithId_([((OrgSpongycastleAsn1CmsContentInfo *) nil_chk(contentInfo)) getContent]);
    
#line 77
    if ([((OrgSpongycastleAsn1CmsEnvelopedData *) nil_chk(envData)) getOriginatorInfo] != nil) {
      
#line 79
      self->originatorInfo_ = new_OrgSpongycastleCmsOriginatorInformation_initWithOrgSpongycastleAsn1CmsOriginatorInfo_([envData getOriginatorInfo]);
    }
    
#line 85
    OrgSpongycastleAsn1ASN1Set *recipientInfos = [envData getRecipientInfos];
    
#line 90
    OrgSpongycastleAsn1CmsEncryptedContentInfo *encInfo = [envData getEncryptedContentInfo];
    self->encAlg_ = [((OrgSpongycastleAsn1CmsEncryptedContentInfo *) nil_chk(encInfo)) getContentEncryptionAlgorithm];
    id<OrgSpongycastleCmsCMSReadable> readable = new_OrgSpongycastleCmsCMSProcessableByteArray_initWithByteArray_([((OrgSpongycastleAsn1ASN1OctetString *) nil_chk([encInfo getEncryptedContent])) getOctets]);
    id<OrgSpongycastleCmsCMSSecureReadable> secureReadable = new_OrgSpongycastleCmsCMSEnvelopedHelper_CMSEnvelopedSecureReadable_initWithOrgSpongycastleAsn1X509AlgorithmIdentifier_withOrgSpongycastleCmsCMSReadable_(
#line 94
    self->encAlg_, readable);
    
#line 99
    self->recipientInfoStore_ = OrgSpongycastleCmsCMSEnvelopedHelper_buildRecipientInformationStoreWithOrgSpongycastleAsn1ASN1Set_withOrgSpongycastleAsn1X509AlgorithmIdentifier_withOrgSpongycastleCmsCMSSecureReadable_(
#line 100
    recipientInfos, self->encAlg_, secureReadable);
    
#line 102
    self->unprotectedAttributes_ = [envData getUnprotectedAttrs];
  }
  @catch (JavaLangClassCastException *e) {
    
#line 106
    @throw new_OrgSpongycastleCmsCMSException_initWithNSString_withJavaLangException_(@"Malformed content.", e);
  }
  @catch (JavaLangIllegalArgumentException *e) {
    
#line 110
    @throw new_OrgSpongycastleCmsCMSException_initWithNSString_withJavaLangException_(@"Malformed content.", e);
  }
}


#line 67
OrgSpongycastleCmsCMSEnvelopedData *new_OrgSpongycastleCmsCMSEnvelopedData_initWithOrgSpongycastleAsn1CmsContentInfo_(OrgSpongycastleAsn1CmsContentInfo *contentInfo) {
  J2OBJC_NEW_IMPL(OrgSpongycastleCmsCMSEnvelopedData, initWithOrgSpongycastleAsn1CmsContentInfo_, contentInfo)
}


#line 67
OrgSpongycastleCmsCMSEnvelopedData *create_OrgSpongycastleCmsCMSEnvelopedData_initWithOrgSpongycastleAsn1CmsContentInfo_(OrgSpongycastleAsn1CmsContentInfo *contentInfo) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleCmsCMSEnvelopedData, initWithOrgSpongycastleAsn1CmsContentInfo_, contentInfo)
}


#line 114
IOSByteArray *OrgSpongycastleCmsCMSEnvelopedData_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(OrgSpongycastleCmsCMSEnvelopedData *self, id<OrgSpongycastleAsn1ASN1Encodable> obj) {
  
#line 118
  if (obj != nil) {
    
#line 120
    return [((OrgSpongycastleAsn1ASN1Primitive *) nil_chk([obj toASN1Primitive])) getEncoded];
  }
  
#line 123
  return nil;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgSpongycastleCmsCMSEnvelopedData)
