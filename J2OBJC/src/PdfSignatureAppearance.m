//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/com/aowagie/text/pdf/PdfSignatureAppearance.java
//

#include "AcroFields.h"
#include "ByteBuffer.h"
#include "Chunk.h"
#include "ColumnText.h"
#include "DocumentException.h"
#include "Element.h"
#include "ExceptionConverter.h"
#include "Font.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "Image.h"
#include "InvalidPageNumberException.h"
#include "J2ObjC_source.h"
#include "PRAcroForm.h"
#include "Paragraph.h"
#include "PdfAnnotation.h"
#include "PdfArray.h"
#include "PdfDate.h"
#include "PdfDictionary.h"
#include "PdfFormField.h"
#include "PdfIndirectObject.h"
#include "PdfIndirectReference.h"
#include "PdfLiteral.h"
#include "PdfName.h"
#include "PdfNumber.h"
#include "PdfObject.h"
#include "PdfPKCS7.h"
#include "PdfReader.h"
#include "PdfSigGenericPKCS.h"
#include "PdfSignatureAppearance.h"
#include "PdfStamper.h"
#include "PdfStamperImp.h"
#include "PdfString.h"
#include "PdfTemplate.h"
#include "PdfWriter.h"
#include "Phrase.h"
#include "Rectangle.h"
#include "java/io/EOFException.h"
#include "java/io/File.h"
#include "java/io/IOException.h"
#include "java/io/InputStream.h"
#include "java/io/OutputStream.h"
#include "java/io/RandomAccessFile.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IndexOutOfBoundsException.h"
#include "java/lang/Integer.h"
#include "java/lang/Math.h"
#include "java/lang/NullPointerException.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/StringBuffer.h"
#include "java/lang/System.h"
#include "java/security/PrivateKey.h"
#include "java/security/cert/Certificate.h"
#include "java/security/cert/X509Certificate.h"
#include "java/text/SimpleDateFormat.h"
#include "java/util/Arrays.h"
#include "java/util/Calendar.h"
#include "java/util/Collection.h"
#include "java/util/Date.h"
#include "java/util/GregorianCalendar.h"
#include "java/util/HashMap.h"
#include "java/util/Iterator.h"
#include "java/util/LinkedHashMap.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"

#if !__has_feature(objc_arc)
#error "PdfSignatureAppearance must be compiled with ARC (-fobjc-arc)"
#endif

@interface ComAowagieTextPdfPdfSignatureAppearance () {
 @public
  ComAowagieTextRectangle *rect_;
  ComAowagieTextRectangle *pageRect_;
  IOSObjectArray *app_;
  ComAowagieTextPdfPdfTemplate *frm_;
  ComAowagieTextPdfPdfStamperImp *writer_;
  NSString *layer2Text_;
  NSString *reason_;
  NSString *location_;
  JavaUtilCalendar *signDate_;
  NSString *provider_;
  jint page_;
  NSString *fieldName_;
  id<JavaSecurityPrivateKey> privKey_;
  IOSObjectArray *certChain_;
  IOSObjectArray *crlList_;
  ComAowagieTextPdfPdfName *filter_;
  jboolean newField_;
  ComAowagieTextPdfByteBuffer *sigout_;
  JavaIoOutputStream *originalout_;
  JavaIoFile *tempFile_;
  ComAowagieTextPdfPdfDictionary *cryptoDictionary_;
  ComAowagieTextPdfPdfStamper *stamper_;
  jboolean preClosed_;
  ComAowagieTextPdfPdfSigGenericPKCS *sigStandard_;
  IOSIntArray *range_;
  JavaIoRandomAccessFile *raf_;
  IOSByteArray *bout_;
  jint boutLen_;
  IOSByteArray *externalDigest_;
  IOSByteArray *externalRSAdata_;
  NSString *digestEncryptionAlgorithm_;
  JavaUtilHashMap *exclusionLocations_;
  jint render_;
  ComAowagieTextImage *signatureGraphic_;
  /*!
   @brief Holds value of property contact.
   */
  NSString *contact_;
  /*!
   @brief Holds value of property layer2Font.
   */
  ComAowagieTextFont *layer2Font_;
  /*!
   @brief Holds value of property layer4Text.
   */
  NSString *layer4Text_;
  /*!
   @brief Holds value of property acro6Layers.
   */
  jboolean acro6Layers_;
  /*!
   @brief Holds value of property runDirection.
   */
  jint runDirection_;
  /*!
   @brief Holds value of property signatureEvent.
   */
  id<ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent> signatureEvent_;
  /*!
   @brief Holds value of property image.
   */
  ComAowagieTextImage *image_;
  /*!
   @brief Holds value of property imageScale.
   */
  jfloat imageScale_;
  jint certificationLevel_;
}

/*!
 @brief Fits the text to some rectangle adjusting the font size as needed.
 @param font the font to use
 @param text the text
 @param rect the rectangle where the text must fit
 @param maxFontSize the maximum font size
 @param runDirection the run direction
 @return the calculated font size that makes the text fit
 */
+ (jfloat)fitTextWithComAowagieTextFont:(ComAowagieTextFont *)font
                           withNSString:(NSString *)text
            withComAowagieTextRectangle:(ComAowagieTextRectangle *)rect
                              withFloat:(jfloat)maxFontSize
                                withInt:(jint)runDirection;

- (void)addDocMDPWithComAowagieTextPdfPdfDictionary:(ComAowagieTextPdfPdfDictionary *)crypto;

@end

J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, rect_, ComAowagieTextRectangle *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, pageRect_, ComAowagieTextRectangle *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, app_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, frm_, ComAowagieTextPdfPdfTemplate *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, writer_, ComAowagieTextPdfPdfStamperImp *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, layer2Text_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, reason_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, location_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, signDate_, JavaUtilCalendar *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, provider_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, fieldName_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, privKey_, id<JavaSecurityPrivateKey>)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, certChain_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, crlList_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, filter_, ComAowagieTextPdfPdfName *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, sigout_, ComAowagieTextPdfByteBuffer *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, originalout_, JavaIoOutputStream *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, tempFile_, JavaIoFile *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, cryptoDictionary_, ComAowagieTextPdfPdfDictionary *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, stamper_, ComAowagieTextPdfPdfStamper *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, sigStandard_, ComAowagieTextPdfPdfSigGenericPKCS *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, range_, IOSIntArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, raf_, JavaIoRandomAccessFile *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, bout_, IOSByteArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, externalDigest_, IOSByteArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, externalRSAdata_, IOSByteArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, digestEncryptionAlgorithm_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, exclusionLocations_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, signatureGraphic_, ComAowagieTextImage *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, contact_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, layer2Font_, ComAowagieTextFont *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, layer4Text_, NSString *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, signatureEvent_, id<ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent>)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance, image_, ComAowagieTextImage *)

inline jfloat ComAowagieTextPdfPdfSignatureAppearance_get_TOP_SECTION(void);
#define ComAowagieTextPdfPdfSignatureAppearance_TOP_SECTION 0.0f
J2OBJC_STATIC_FIELD_CONSTANT(ComAowagieTextPdfPdfSignatureAppearance, TOP_SECTION, jfloat)

inline jfloat ComAowagieTextPdfPdfSignatureAppearance_get_MARGIN(void);
#define ComAowagieTextPdfPdfSignatureAppearance_MARGIN 2.0f
J2OBJC_STATIC_FIELD_CONSTANT(ComAowagieTextPdfPdfSignatureAppearance, MARGIN, jfloat)

__attribute__((unused)) static jfloat ComAowagieTextPdfPdfSignatureAppearance_fitTextWithComAowagieTextFont_withNSString_withComAowagieTextRectangle_withFloat_withInt_(ComAowagieTextFont *font, NSString *text, ComAowagieTextRectangle *rect, jfloat maxFontSize, jint runDirection);

__attribute__((unused)) static void ComAowagieTextPdfPdfSignatureAppearance_addDocMDPWithComAowagieTextPdfPdfDictionary_(ComAowagieTextPdfPdfSignatureAppearance *self, ComAowagieTextPdfPdfDictionary *crypto);

/*!
 */
@interface ComAowagieTextPdfPdfSignatureAppearance_RangeStream : JavaIoInputStream {
 @public
  IOSByteArray *b_;
  JavaIoRandomAccessFile *raf_;
  IOSByteArray *bout_;
  IOSIntArray *range_;
  jint rangePosition_;
}

- (instancetype)initWithJavaIoRandomAccessFile:(JavaIoRandomAccessFile *)raf
                                 withByteArray:(IOSByteArray *)bout
                                  withIntArray:(IOSIntArray *)range;

/*!
 - seealso: java.io.InputStream#read()
 */
- (jint)read;

/*!
 - seealso: java.io.InputStream#read(byte[], int, int)
 */
- (jint)readWithByteArray:(IOSByteArray *)b
                  withInt:(jint)off
                  withInt:(jint)len;

@end

J2OBJC_EMPTY_STATIC_INIT(ComAowagieTextPdfPdfSignatureAppearance_RangeStream)

J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance_RangeStream, b_, IOSByteArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance_RangeStream, raf_, JavaIoRandomAccessFile *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance_RangeStream, bout_, IOSByteArray *)
J2OBJC_FIELD_SETTER(ComAowagieTextPdfPdfSignatureAppearance_RangeStream, range_, IOSIntArray *)

__attribute__((unused)) static void ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(ComAowagieTextPdfPdfSignatureAppearance_RangeStream *self, JavaIoRandomAccessFile *raf, IOSByteArray *bout, IOSIntArray *range);

__attribute__((unused)) static ComAowagieTextPdfPdfSignatureAppearance_RangeStream *new_ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(JavaIoRandomAccessFile *raf, IOSByteArray *bout, IOSIntArray *range) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComAowagieTextPdfPdfSignatureAppearance_RangeStream *create_ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(JavaIoRandomAccessFile *raf, IOSByteArray *bout, IOSIntArray *range);

J2OBJC_TYPE_LITERAL_HEADER(ComAowagieTextPdfPdfSignatureAppearance_RangeStream)

@interface ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent : NSObject

@end

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/com/aowagie/text/pdf/PdfSignatureAppearance.java"

J2OBJC_INITIALIZED_DEFN(ComAowagieTextPdfPdfSignatureAppearance)

ComAowagieTextPdfPdfName *ComAowagieTextPdfPdfSignatureAppearance_SELF_SIGNED;
NSString *ComAowagieTextPdfPdfSignatureAppearance_questionMark = @"% DSUnknown\nq\n1 G\n1 g\n0.1 0 0 0.1 9 0 cm\n0 J 0 j 4 M []0 d\n1 i \n0 g\n313 292 m\n313 404 325 453 432 529 c\n478 561 504 597 504 645 c\n504 736 440 760 391 760 c\n286 760 271 681 265 626 c\n265 625 l\n100 625 l\n100 828 253 898 381 898 c\n451 898 679 878 679 650 c\n679 555 628 499 538 435 c\n488 399 467 376 467 292 c\n313 292 l\nh\n308 214 170 -164 re\nf\n0.44 G\n1.2 w\n1 1 0.4 rg\n287 318 m\n287 430 299 479 406 555 c\n451 587 478 623 478 671 c\n478 762 414 786 365 786 c\n260 786 245 707 239 652 c\n239 651 l\n74 651 l\n74 854 227 924 355 924 c\n425 924 653 904 653 676 c\n653 581 602 525 512 461 c\n462 425 441 402 441 318 c\n287 318 l\nh\n282 240 170 -164 re\nB\nQ\n";


#line 85
@implementation ComAowagieTextPdfPdfSignatureAppearance


#line 147
- (instancetype)initWithComAowagieTextPdfPdfStamperImp:(ComAowagieTextPdfPdfStamperImp *)writer
                                  withJavaUtilCalendar:(JavaUtilCalendar *)globalDate {
  ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_(self, writer, globalDate);
  return self;
}

- (instancetype)initWithComAowagieTextPdfPdfStamperImp:(ComAowagieTextPdfPdfStamperImp *)writer
                                  withJavaUtilCalendar:(JavaUtilCalendar *)globalDate
                                      withJavaUtilList:(id<JavaUtilList>)signatureFieldNames {
  ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_withJavaUtilList_(self, writer, globalDate, signatureFieldNames);
  return self;
}


#line 166
- (jint)getRender {
  return self->render_;
}


#line 177
- (void)setRenderWithInt:(jint)render {
  self->render_ = render;
}


#line 187
- (ComAowagieTextImage *)getSignatureGraphic {
  return self->signatureGraphic_;
}


#line 196
- (void)setSignatureGraphicWithComAowagieTextImage:(ComAowagieTextImage *)signatureGraphic {
  self->signatureGraphic_ = signatureGraphic;
}


#line 205
- (void)setLayer2TextWithNSString:(NSString *)text {
  self->layer2Text_ = text;
}


#line 213
- (NSString *)getLayer2Text {
  return self->layer2Text_;
}


#line 222
- (void)setLayer4TextWithNSString:(NSString *)text {
  self->layer4Text_ = text;
}


#line 230
- (NSString *)getLayer4Text {
  return self->layer4Text_;
}


#line 239
- (ComAowagieTextRectangle *)getRect {
  return self->rect_;
}


#line 247
- (jboolean)isInvisible {
  return self->rect_ == nil || [self->rect_ getWidth] == 0 || [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] == 0;
}


#line 258
- (void)setCryptoWithJavaSecurityPrivateKey:(id<JavaSecurityPrivateKey>)privKey
       withJavaSecurityCertCertificateArray:(IOSObjectArray *)certChain
               withJavaSecurityCertCRLArray:(IOSObjectArray *)crlList
               withComAowagieTextPdfPdfName:(ComAowagieTextPdfPdfName *)filter {
  
#line 259
  self->privKey_ = privKey;
  self->certChain_ = certChain;
  self->crlList_ = crlList;
  self->filter_ = filter;
}


#line 271
- (void)setVisibleSignatureWithComAowagieTextRectangle:(ComAowagieTextRectangle *)pageRect
                                               withInt:(jint)page
                                          withNSString:(NSString *)fieldName {
  
#line 272
  if (fieldName != nil) {
    if ([fieldName java_indexOf:'.'] >= 0) {
      @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"Field names cannot contain a dot.");
    }
    ComAowagieTextPdfAcroFields *af = [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) getAcroFields];
    ComAowagieTextPdfAcroFields_Item *item = [((ComAowagieTextPdfAcroFields *) nil_chk(af)) getFieldItemWithNSString:fieldName];
    if (item != nil) {
      @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"The field ", fieldName, @" already exists."));
    }
    self->fieldName_ = fieldName;
  }
  if (page < 1 || page > [((ComAowagieTextPdfPdfReader *) nil_chk(((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_))->reader_)) getNumberOfPages]) {
    @throw new_ComAowagieTextExceptionsInvalidPageNumberException_initWithNSString_(JreStrcat("$I", @"Invalid page number: ", page));
  }
  self->pageRect_ = new_ComAowagieTextRectangle_initWithComAowagieTextRectangle_(pageRect);
  [self->pageRect_ normalize];
  self->rect_ = new_ComAowagieTextRectangle_initWithFloat_withFloat_([((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getWidth], [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getHeight]);
  self->page_ = page;
}

- (void)setVisibleSignatureWithNSString:(NSString *)fieldName {
  ComAowagieTextPdfAcroFields *af = [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) getAcroFields];
  ComAowagieTextPdfAcroFields_Item *item = [((ComAowagieTextPdfAcroFields *) nil_chk(af)) getFieldItemWithNSString:fieldName];
  if (item == nil) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"The field ", fieldName, @" does not exist."));
  }
  ComAowagieTextPdfPdfDictionary *merged = [item getMergedWithInt:0];
  if (![((ComAowagieTextPdfPdfName *) nil_chk(JreLoadStatic(ComAowagieTextPdfPdfName, SIG))) isEqual:ComAowagieTextPdfPdfReader_getPdfObjectWithComAowagieTextPdfPdfObject_([((ComAowagieTextPdfPdfDictionary *) nil_chk(merged)) getWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, FT)])]) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"The field ", fieldName, @" is not a signature field."));
  }
  
#line 308
  self->newField_ = false;
  self->fieldName_ = fieldName;
  
#line 311
  ComAowagieTextPdfPdfArray *r = [merged getAsArrayWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, RECT)];
  jfloat llx = [((ComAowagieTextPdfPdfNumber *) nil_chk([((ComAowagieTextPdfPdfArray *) nil_chk(r)) getAsNumberWithInt:0])) floatValue];
  jfloat lly = [((ComAowagieTextPdfPdfNumber *) nil_chk([r getAsNumberWithInt:1])) floatValue];
  jfloat urx = [((ComAowagieTextPdfPdfNumber *) nil_chk([r getAsNumberWithInt:2])) floatValue];
  jfloat ury = [((ComAowagieTextPdfPdfNumber *) nil_chk([r getAsNumberWithInt:3])) floatValue];
  self->pageRect_ = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(llx, lly, urx, ury);
  [self->pageRect_ normalize];
  self->page_ = [((JavaLangInteger *) nil_chk([item getPageWithInt:0])) intValue];
  jint rotation = [((ComAowagieTextPdfPdfReader *) nil_chk(self->writer_->reader_)) getPageRotationWithInt:self->page_];
  ComAowagieTextRectangle *pageSize = [((ComAowagieTextPdfPdfReader *) nil_chk(self->writer_->reader_)) getPageSizeWithRotationWithInt:self->page_];
  switch (rotation) {
    case 90:
    self->pageRect_ = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 324
    [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getBottom],
#line 325
    [((ComAowagieTextRectangle *) nil_chk(pageSize)) getTop] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getLeft],
#line 326
    [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getTop],
#line 327
    [pageSize getTop] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getRight]);
    break;
    case 180:
    self->pageRect_ = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 331
    [((ComAowagieTextRectangle *) nil_chk(pageSize)) getRight] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getLeft],
#line 332
    [pageSize getTop] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getBottom],
#line 333
    [pageSize getRight] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getRight],
#line 334
    [pageSize getTop] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getTop]);
    break;
    case 270:
    self->pageRect_ = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 338
    [((ComAowagieTextRectangle *) nil_chk(pageSize)) getRight] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getBottom],
#line 339
    [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getLeft],
#line 340
    [pageSize getRight] - [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getTop],
#line 341
    [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getRight]);
    break;
  }
  if (rotation != 0) {
    [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) normalize];
  }
  self->rect_ = new_ComAowagieTextRectangle_initWithFloat_withFloat_([((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getWidth], [((ComAowagieTextRectangle *) nil_chk(self->pageRect_)) getHeight]);
}


#line 358
- (ComAowagieTextPdfPdfTemplate *)getLayerWithInt:(jint)layer {
  if (layer < 0 || layer >= ((IOSObjectArray *) nil_chk(self->app_))->size_) {
    return nil;
  }
  ComAowagieTextPdfPdfTemplate *t = IOSObjectArray_Get(nil_chk(self->app_), layer);
  if (t == nil) {
    t = IOSObjectArray_SetAndConsume(self->app_, layer, new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_));
    [t setBoundingBoxWithComAowagieTextRectangle:self->rect_];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:t withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(JreStrcat("CI", 'n', layer))];
  }
  return t;
}


#line 378
- (ComAowagieTextPdfPdfTemplate *)getTopLayer {
  if (self->frm_ == nil) {
    self->frm_ = new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_);
    [self->frm_ setBoundingBoxWithComAowagieTextRectangle:self->rect_];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:self->frm_ withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"FRM")];
  }
  return self->frm_;
}


#line 395
- (ComAowagieTextPdfPdfTemplate *)getAppearance {
  if ([self isInvisible]) {
    ComAowagieTextPdfPdfTemplate *t = new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_);
    [t setBoundingBoxWithComAowagieTextRectangle:new_ComAowagieTextRectangle_initWithFloat_withFloat_(0, 0)];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:t withComAowagieTextPdfPdfName:nil];
    return t;
  }
  if (IOSObjectArray_Get(nil_chk(self->app_), 0) == nil) {
    ComAowagieTextPdfPdfTemplate *t = IOSObjectArray_SetAndConsume(self->app_, 0, new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_));
    [t setBoundingBoxWithComAowagieTextRectangle:new_ComAowagieTextRectangle_initWithFloat_withFloat_(100, 100)];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:t withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"n0")];
    [t setLiteralWithNSString:@"% DSBlank\n"];
  }
  if (IOSObjectArray_Get(self->app_, 1) == nil && !self->acro6Layers_) {
    ComAowagieTextPdfPdfTemplate *t = IOSObjectArray_SetAndConsume(self->app_, 1, new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_));
    [t setBoundingBoxWithComAowagieTextRectangle:new_ComAowagieTextRectangle_initWithFloat_withFloat_(100, 100)];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:t withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"n1")];
    [t setLiteralWithNSString:ComAowagieTextPdfPdfSignatureAppearance_questionMark];
  }
  if (IOSObjectArray_Get(self->app_, 2) == nil) {
    NSString *text;
    if (self->layer2Text_ == nil) {
      JavaLangStringBuffer *buf = new_JavaLangStringBuffer_init();
      (void) [((JavaLangStringBuffer *) nil_chk([((JavaLangStringBuffer *) nil_chk([buf appendWithNSString:@"Firmado por "])) appendWithNSString:
#line 419
      [((ComAowagieTextPdfPdfPKCS7_X509Name *) nil_chk(ComAowagieTextPdfPdfPKCS7_getSubjectFieldsWithJavaSecurityCertX509Certificate_(
#line 420
      (JavaSecurityCertX509Certificate *) cast_chk(IOSObjectArray_Get(nil_chk(self->certChain_), 0), [JavaSecurityCertX509Certificate class])))) getFieldWithNSString:
#line 421
      @"CN"]])) appendWithChar:
#line 422
      0x000a];
      JavaTextSimpleDateFormat *sd = new_JavaTextSimpleDateFormat_initWithNSString_(@"dd/MM/yyyy HH:mm:ss z");
      (void) [((JavaLangStringBuffer *) nil_chk([buf appendWithNSString:@"Fecha: "])) appendWithNSString:[sd formatWithJavaUtilDate:[((JavaUtilCalendar *) nil_chk(self->signDate_)) getTime]]];
      if (self->reason_ != nil) {
        (void) [((JavaLangStringBuffer *) nil_chk([((JavaLangStringBuffer *) nil_chk([buf appendWithChar:0x000a])) appendWithNSString:@"Motivo: "])) appendWithNSString:self->reason_];
      }
      if (self->location_ != nil) {
        (void) [((JavaLangStringBuffer *) nil_chk([((JavaLangStringBuffer *) nil_chk([buf appendWithChar:0x000a])) appendWithNSString:@"Lugar de firma: "])) appendWithNSString:self->location_];
      }
      text = [buf description];
    }
    else {
      
#line 433
      text = self->layer2Text_;
    }
    ComAowagieTextPdfPdfTemplate *t = IOSObjectArray_SetAndConsume(self->app_, 2, new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_));
    [t setBoundingBoxWithComAowagieTextRectangle:self->rect_];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:t withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"n2")];
    if (self->image_ != nil) {
      if (self->imageScale_ == 0) {
        [t addImageWithComAowagieTextImage:self->image_ withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] withFloat:0 withFloat:0 withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] withFloat:0 withFloat:0];
      }
      else {
        jfloat usableScale = self->imageScale_;
        if (self->imageScale_ < 0) {
          usableScale = JavaLangMath_minWithFloat_withFloat_([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] / [((ComAowagieTextImage *) nil_chk(self->image_)) getWidth], [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] / [((ComAowagieTextImage *) nil_chk(self->image_)) getHeight]);
        }
        jfloat w = [((ComAowagieTextImage *) nil_chk(self->image_)) getWidth] * usableScale;
        jfloat h = [((ComAowagieTextImage *) nil_chk(self->image_)) getHeight] * usableScale;
        jfloat x = ([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - w) / 2;
        jfloat y = ([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] - h) / 2;
        [t addImageWithComAowagieTextImage:self->image_ withFloat:w withFloat:0 withFloat:0 withFloat:h withFloat:x withFloat:y];
      }
    }
    ComAowagieTextFont *font;
    if (self->layer2Font_ == nil) {
      font = new_ComAowagieTextFont_init();
    }
    else {
      
#line 458
      font = new_ComAowagieTextFont_initWithComAowagieTextFont_(self->layer2Font_);
    }
    jfloat size = [font getSize];
    
#line 462
    ComAowagieTextRectangle *dataRect = nil;
    ComAowagieTextRectangle *signatureRect = nil;
    
#line 465
    if (self->render_ == ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderNameAndDescription || (
#line 466
    self->render_ == ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderGraphicAndDescription && self->signatureGraphic_ != nil)) {
      
#line 468
      signatureRect = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 469
      ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 470
      ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 471
      [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] / 2 - ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 472
      [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN);
      dataRect = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 474
      [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] / 2 + ComAowagieTextPdfPdfSignatureAppearance_MARGIN / 2,
#line 475
      ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 476
      [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN / 2,
#line 477
      [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN);
      
#line 479
      if ([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] > [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth]) {
        signatureRect = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 481
        ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 482
        [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] / 2,
#line 483
        [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 484
        [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight]);
        dataRect = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 486
        ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 487
        ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 488
        [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 489
        [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] / 2 - ComAowagieTextPdfPdfSignatureAppearance_MARGIN);
      }
    }
    else {
      dataRect = new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(
#line 494
      ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 495
      ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 496
      [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN,
#line 497
      [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] * (1 - ComAowagieTextPdfPdfSignatureAppearance_TOP_SECTION) - ComAowagieTextPdfPdfSignatureAppearance_MARGIN);
    }
    
#line 500
    if (self->render_ == ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderNameAndDescription) {
      NSString *signedBy = [((ComAowagieTextPdfPdfPKCS7_X509Name *) nil_chk(ComAowagieTextPdfPdfPKCS7_getSubjectFieldsWithJavaSecurityCertX509Certificate_((JavaSecurityCertX509Certificate *) cast_chk(IOSObjectArray_Get(nil_chk(self->certChain_), 0), [JavaSecurityCertX509Certificate class])))) getFieldWithNSString:@"CN"];
      ComAowagieTextRectangle *sr2 = new_ComAowagieTextRectangle_initWithFloat_withFloat_([((ComAowagieTextRectangle *) nil_chk(signatureRect)) getWidth] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN, [signatureRect getHeight] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN);
      jfloat signedSize = ComAowagieTextPdfPdfSignatureAppearance_fitTextWithComAowagieTextFont_withNSString_withComAowagieTextRectangle_withFloat_withInt_(font, signedBy, sr2, -1, self->runDirection_);
      
#line 505
      ComAowagieTextPdfColumnText *ct2 = new_ComAowagieTextPdfColumnText_initWithComAowagieTextPdfPdfContentByte_(t);
      [ct2 setRunDirectionWithInt:self->runDirection_];
      [ct2 setSimpleColumnWithComAowagieTextPhrase:new_ComAowagieTextPhrase_initWithNSString_withComAowagieTextFont_(signedBy, font) withFloat:[signatureRect getLeft] withFloat:[signatureRect getBottom] withFloat:[signatureRect getRight] withFloat:[signatureRect getTop] withFloat:signedSize withInt:ComAowagieTextElement_ALIGN_LEFT];
      
#line 509
      [ct2 go];
    }
    else if (self->render_ == ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderGraphicAndDescription) {
      ComAowagieTextPdfColumnText *ct2 = new_ComAowagieTextPdfColumnText_initWithComAowagieTextPdfPdfContentByte_(t);
      [ct2 setRunDirectionWithInt:self->runDirection_];
      [ct2 setSimpleColumnWithFloat:[((ComAowagieTextRectangle *) nil_chk(signatureRect)) getLeft] withFloat:[signatureRect getBottom] withFloat:[signatureRect getRight] withFloat:[signatureRect getTop] withFloat:0 withInt:ComAowagieTextElement_ALIGN_RIGHT];
      
#line 516
      ComAowagieTextImage *im = ComAowagieTextImage_getInstanceWithComAowagieTextImage_(self->signatureGraphic_);
      [((ComAowagieTextImage *) nil_chk(im)) scaleToFitWithFloat:[signatureRect getWidth] withFloat:[signatureRect getHeight]];
      
#line 519
      ComAowagieTextParagraph *p = new_ComAowagieTextParagraph_init();
      
#line 521
      jfloat x = 0;
      
#line 524
      jfloat y = -[im getScaledHeight] + 15;
      
#line 526
      x = x + ([signatureRect getWidth] - [im getScaledWidth]) / 2;
      y = y - ([signatureRect getHeight] - [im getScaledHeight]) / 2;
      [p addWithId:new_ComAowagieTextChunk_initWithComAowagieTextImage_withFloat_withFloat_withBoolean_(im, x + ([signatureRect getWidth] - [im getScaledWidth]) / 2, y, false)];
      [ct2 addElementWithComAowagieTextElement:p];
      [ct2 go];
    }
    
#line 533
    if (size <= 0) {
      ComAowagieTextRectangle *sr = new_ComAowagieTextRectangle_initWithFloat_withFloat_([dataRect getWidth], [dataRect getHeight]);
      size = ComAowagieTextPdfPdfSignatureAppearance_fitTextWithComAowagieTextFont_withNSString_withComAowagieTextRectangle_withFloat_withInt_(font, text, sr, 12, self->runDirection_);
    }
    ComAowagieTextPdfColumnText *ct = new_ComAowagieTextPdfColumnText_initWithComAowagieTextPdfPdfContentByte_(t);
    [ct setRunDirectionWithInt:self->runDirection_];
    [ct setSimpleColumnWithComAowagieTextPhrase:new_ComAowagieTextPhrase_initWithNSString_withComAowagieTextFont_(text, font) withFloat:[dataRect getLeft] withFloat:[dataRect getBottom] withFloat:[dataRect getRight] withFloat:[dataRect getTop] withFloat:size withInt:ComAowagieTextElement_ALIGN_LEFT];
    [ct go];
  }
  if (IOSObjectArray_Get(self->app_, 3) == nil && !self->acro6Layers_) {
    ComAowagieTextPdfPdfTemplate *t = IOSObjectArray_SetAndConsume(self->app_, 3, new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_));
    [t setBoundingBoxWithComAowagieTextRectangle:new_ComAowagieTextRectangle_initWithFloat_withFloat_(100, 100)];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:t withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"n3")];
    [t setLiteralWithNSString:@"% DSBlank\n"];
  }
  if (IOSObjectArray_Get(self->app_, 4) == nil && !self->acro6Layers_) {
    ComAowagieTextPdfPdfTemplate *t = IOSObjectArray_SetAndConsume(self->app_, 4, new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_));
    [t setBoundingBoxWithComAowagieTextRectangle:new_ComAowagieTextRectangle_initWithFloat_withFloat_withFloat_withFloat_(0, [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] * (1 - ComAowagieTextPdfPdfSignatureAppearance_TOP_SECTION), [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getRight], [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getTop])];
    (void) [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:t withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"n4")];
    ComAowagieTextFont *font;
    if (self->layer2Font_ == nil) {
      font = new_ComAowagieTextFont_init();
    }
    else {
      
#line 556
      font = new_ComAowagieTextFont_initWithComAowagieTextFont_(self->layer2Font_);
    }
    jfloat size = [font getSize];
    NSString *text = @"Signature Not Verified";
    if (self->layer4Text_ != nil) {
      text = self->layer4Text_;
    }
    ComAowagieTextRectangle *sr = new_ComAowagieTextRectangle_initWithFloat_withFloat_([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - 2 * ComAowagieTextPdfPdfSignatureAppearance_MARGIN, [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] * ComAowagieTextPdfPdfSignatureAppearance_TOP_SECTION - 2 * ComAowagieTextPdfPdfSignatureAppearance_MARGIN);
    size = ComAowagieTextPdfPdfSignatureAppearance_fitTextWithComAowagieTextFont_withNSString_withComAowagieTextRectangle_withFloat_withInt_(font, text, sr, 15, self->runDirection_);
    ComAowagieTextPdfColumnText *ct = new_ComAowagieTextPdfColumnText_initWithComAowagieTextPdfPdfContentByte_(t);
    [ct setRunDirectionWithInt:self->runDirection_];
    [ct setSimpleColumnWithComAowagieTextPhrase:new_ComAowagieTextPhrase_initWithNSString_withComAowagieTextFont_(text, font) withFloat:ComAowagieTextPdfPdfSignatureAppearance_MARGIN withFloat:0 withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] - ComAowagieTextPdfPdfSignatureAppearance_MARGIN withFloat:size withInt:ComAowagieTextElement_ALIGN_LEFT];
    [ct go];
  }
  jint rotation = [((ComAowagieTextPdfPdfReader *) nil_chk(((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_))->reader_)) getPageRotationWithInt:self->page_];
  ComAowagieTextRectangle *rotated = new_ComAowagieTextRectangle_initWithComAowagieTextRectangle_(self->rect_);
  jint n = rotation;
  while (n > 0) {
    rotated = [((ComAowagieTextRectangle *) nil_chk(rotated)) rotate];
    n -= 90;
  }
  if (self->frm_ == nil) {
    self->frm_ = new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_);
    [self->frm_ setBoundingBoxWithComAowagieTextRectangle:rotated];
    (void) [self->writer_ addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:self->frm_ withComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"FRM")];
    jfloat scale_ = JavaLangMath_minWithFloat_withFloat_([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth], [((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight]) * 0.9f;
    jfloat x = ([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] - scale_) / 2;
    jfloat y = ([((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] - scale_) / 2;
    JreDivideAssignFloatF(&scale_, 100);
    if (rotation == 90) {
      [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) concatCTMWithFloat:0 withFloat:1 withFloat:-1 withFloat:0 withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight] withFloat:0];
    }
    else
#line 587
    if (rotation == 180) {
      [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) concatCTMWithFloat:-1 withFloat:0 withFloat:0 withFloat:-1 withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth] withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getHeight]];
    }
    else
#line 589
    if (rotation == 270) {
      [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) concatCTMWithFloat:0 withFloat:-1 withFloat:1 withFloat:0 withFloat:0 withFloat:[((ComAowagieTextRectangle *) nil_chk(self->rect_)) getWidth]];
    }
    [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) addTemplateWithComAowagieTextPdfPdfTemplate:IOSObjectArray_Get(self->app_, 0) withFloat:0 withFloat:0];
    if (!self->acro6Layers_) {
      [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) addTemplateWithComAowagieTextPdfPdfTemplate:IOSObjectArray_Get(self->app_, 1) withFloat:scale_ withFloat:0 withFloat:0 withFloat:scale_ withFloat:x withFloat:y];
    }
    [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) addTemplateWithComAowagieTextPdfPdfTemplate:IOSObjectArray_Get(self->app_, 2) withFloat:0 withFloat:0];
    if (!self->acro6Layers_) {
      [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) addTemplateWithComAowagieTextPdfPdfTemplate:IOSObjectArray_Get(self->app_, 3) withFloat:scale_ withFloat:0 withFloat:0 withFloat:scale_ withFloat:x withFloat:y];
      [((ComAowagieTextPdfPdfTemplate *) nil_chk(self->frm_)) addTemplateWithComAowagieTextPdfPdfTemplate:IOSObjectArray_Get(self->app_, 4) withFloat:0 withFloat:0];
    }
  }
  ComAowagieTextPdfPdfTemplate *napp = new_ComAowagieTextPdfPdfTemplate_initWithComAowagieTextPdfPdfWriter_(self->writer_);
  [napp setBoundingBoxWithComAowagieTextRectangle:rotated];
  (void) [self->writer_ addDirectTemplateSimpleWithComAowagieTextPdfPdfTemplate:napp withComAowagieTextPdfPdfName:nil];
  [napp addTemplateWithComAowagieTextPdfPdfTemplate:self->frm_ withFloat:0 withFloat:0];
  return napp;
}


#line 618
+ (jfloat)fitTextWithComAowagieTextFont:(ComAowagieTextFont *)font
                           withNSString:(NSString *)text
            withComAowagieTextRectangle:(ComAowagieTextRectangle *)rect
                              withFloat:(jfloat)maxFontSize
                                withInt:(jint)runDirection {
  return ComAowagieTextPdfPdfSignatureAppearance_fitTextWithComAowagieTextFont_withNSString_withComAowagieTextRectangle_withFloat_withInt_(font, text, rect, maxFontSize, runDirection);
}


#line 680
- (void)setExternalDigestWithByteArray:(IOSByteArray *)digest
                         withByteArray:(IOSByteArray *)RSAdata
                          withNSString:(NSString *)digestEncryptionAlgorithm {
  
#line 681
  self->externalDigest_ = digest;
  self->externalRSAdata_ = RSAdata;
  self->digestEncryptionAlgorithm_ = digestEncryptionAlgorithm;
}

- (NSString *)getReason {
  return self->reason_;
}


#line 698
- (void)setReasonWithNSString:(NSString *)reason {
  self->reason_ = reason;
}


#line 706
- (NSString *)getLocation {
  return self->location_;
}


#line 714
- (void)setLocationWithNSString:(NSString *)location {
  self->location_ = location;
}


#line 723
- (NSString *)getProvider {
  return self->provider_;
}


#line 733
- (void)setProviderWithNSString:(NSString *)provider {
  self->provider_ = provider;
}


#line 741
- (id<JavaSecurityPrivateKey>)getPrivKey {
  return self->privKey_;
}


#line 749
- (IOSObjectArray *)getCertChain {
  return self->certChain_;
}


#line 757
- (IOSObjectArray *)getCrlList {
  return self->crlList_;
}


#line 765
- (ComAowagieTextPdfPdfName *)getFilter {
  return self->filter_;
}


#line 774
- (jboolean)isNewField {
  return self->newField_;
}


#line 782
- (jint)getPage {
  return self->page_;
}


#line 790
- (NSString *)getFieldName {
  return self->fieldName_;
}


#line 798
- (ComAowagieTextRectangle *)getPageRect {
  return self->pageRect_;
}


#line 806
- (JavaUtilCalendar *)getSignDate {
  return self->signDate_;
}


#line 814
- (void)setSignDateWithJavaUtilCalendar:(JavaUtilCalendar *)signDate {
  self->signDate_ = signDate;
}


#line 820
- (void)setSigoutWithComAowagieTextPdfByteBuffer:(ComAowagieTextPdfByteBuffer *)sigout {
  self->sigout_ = sigout;
}


#line 826
- (void)setOriginaloutWithJavaIoOutputStream:(JavaIoOutputStream *)originalout {
  self->originalout_ = originalout;
}


#line 834
- (JavaIoFile *)getTempFile {
  return self->tempFile_;
}

- (void)setTempFileWithJavaIoFile:(JavaIoFile *)tempFile {
  self->tempFile_ = tempFile;
}


#line 846
- (NSString *)getNewSigName {
  return [self getNewSigNameWithJavaUtilList:nil];
}


#line 855
- (NSString *)getNewSigNameWithJavaUtilList:(id<JavaUtilList>)signatureFieldNames {
  ComAowagieTextPdfAcroFields *af = [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) getAcroFields];
  NSString *name = @"Signature";
  jint step = 0;
  jboolean found = false;
  while (!found) {
    ++step;
    NSString *n1 = JreStrcat("$I", name, step);
    if ([((ComAowagieTextPdfAcroFields *) nil_chk(af)) getFieldItemWithNSString:n1] != nil) {
      continue;
    }
    NSString *nameWithDot = JreStrcat("$C", n1, '.');
    found = true;
    for (id __strong element in nil_chk([((JavaUtilHashMap *) nil_chk([af getFields])) keySet])) {
      NSString *fn = (NSString *) cast_chk(element, [NSString class]);
      if ([((NSString *) nil_chk(fn)) java_hasPrefix:nameWithDot]) {
        found = false;
        break;
      }
    }
    
#line 877
    if (found && signatureFieldNames != nil) {
      for (jint i = 0; found && i < [signatureFieldNames size]; i++) {
        ComAowagieTextPdfPRAcroForm_FieldInformation *fieldInfo = [signatureFieldNames getWithInt:i];
        if ([((ComAowagieTextPdfPRAcroForm_FieldInformation *) nil_chk(fieldInfo)) getName] != nil &&
#line 881
        ([((NSString *) nil_chk([fieldInfo getName])) isEqual:n1] || [((NSString *) nil_chk([fieldInfo getName])) java_hasPrefix:nameWithDot])) {
          found = false;
          break;
        }
      }
    }
  }
  (void) JreStrAppendStrong(&name, "I", step);
  return name;
}


#line 903
- (void)preCloseWithJavaUtilCalendar:(JavaUtilCalendar *)globalDate {
  [self preCloseWithJavaUtilHashMap:nil withJavaUtilCalendar:globalDate withJavaUtilList:nil];
}

- (void)preClose {
  [self preCloseWithJavaUtilHashMap:nil withJavaUtilCalendar:nil withJavaUtilList:nil];
}


#line 927
- (void)preCloseWithJavaUtilHashMap:(JavaUtilHashMap *)exclusionSizes {
  [self preCloseWithJavaUtilHashMap:exclusionSizes withJavaUtilCalendar:nil withJavaUtilList:nil];
}


#line 948
- (void)preCloseWithJavaUtilHashMap:(JavaUtilHashMap *)exclusionSizes
               withJavaUtilCalendar:(JavaUtilCalendar *)globalDate {
  
#line 949
  [self preCloseWithJavaUtilHashMap:exclusionSizes withJavaUtilCalendar:globalDate withJavaUtilList:nil];
}


#line 971
- (void)preCloseWithJavaUtilHashMap:(JavaUtilHashMap *)exclusionSizes
               withJavaUtilCalendar:(JavaUtilCalendar *)globalDate
                   withJavaUtilList:(id<JavaUtilList>)pages {
  
#line 972
  if (self->preClosed_) {
    @throw new_ComAowagieTextDocumentException_initWithNSString_(@"Document already pre closed.");
  }
  self->preClosed_ = true;
  ComAowagieTextPdfAcroFields *af = [((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_)) getAcroFields];
  NSString *name = [self getFieldName];
  
#line 983
  jboolean fieldExists = ![self isNewField];
  
#line 985
  ComAowagieTextPdfPdfIndirectReference *refSig = [self->writer_ getPdfIndirectReference];
  [self->writer_ setSigFlagsWithInt:3];
  if (fieldExists) {
    ComAowagieTextPdfPdfDictionary *widget = [((ComAowagieTextPdfAcroFields_Item *) nil_chk([((ComAowagieTextPdfAcroFields *) nil_chk(af)) getFieldItemWithNSString:name])) getWidgetWithInt:0];
    [self->writer_ markUsedWithComAowagieTextPdfPdfObject:widget];
    [((ComAowagieTextPdfPdfDictionary *) nil_chk(widget)) putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, P) withComAowagieTextPdfPdfObject:[self->writer_ getPageReferenceWithInt:[self getPage]]];
    [widget putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, V) withComAowagieTextPdfPdfObject:refSig];
    ComAowagieTextPdfPdfObject *obj = ComAowagieTextPdfPdfReader_getPdfObjectReleaseWithComAowagieTextPdfPdfObject_([widget getWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, F)]);
    jint flags = 0;
    if (obj != nil && [obj isNumber]) {
      flags = [((ComAowagieTextPdfPdfNumber *) cast_chk(obj, [ComAowagieTextPdfPdfNumber class])) intValue];
    }
    flags |= ComAowagieTextPdfPdfAnnotation_FLAGS_LOCKED;
    [widget putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, F) withComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfNumber_initWithInt_(flags)];
    ComAowagieTextPdfPdfDictionary *ap = new_ComAowagieTextPdfPdfDictionary_init();
    [ap putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, N) withComAowagieTextPdfPdfObject:[((ComAowagieTextPdfPdfTemplate *) nil_chk([self getAppearance])) getIndirectReference]];
    [widget putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, AP) withComAowagieTextPdfPdfObject:ap];
  }
  else {
    ComAowagieTextPdfPdfFormField *sigField = ComAowagieTextPdfPdfFormField_createSignatureWithComAowagieTextPdfPdfWriter_(self->writer_);
    [((ComAowagieTextPdfPdfFormField *) nil_chk(sigField)) setFieldNameWithNSString:name];
    [sigField putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, V) withComAowagieTextPdfPdfObject:refSig];
    [sigField setFlagsWithInt:ComAowagieTextPdfPdfAnnotation_FLAGS_PRINT | ComAowagieTextPdfPdfAnnotation_FLAGS_LOCKED];
    
#line 1009
    if (![self isInvisible]) {
      [sigField setWidgetWithComAowagieTextRectangle:[self getPageRect] withComAowagieTextPdfPdfName:nil];
    }
    else {
      
#line 1012
      [sigField setWidgetWithComAowagieTextRectangle:new_ComAowagieTextRectangle_initWithFloat_withFloat_(0, 0) withComAowagieTextPdfPdfName:nil];
    }
    [sigField setAppearanceWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfAnnotation, APPEARANCE_NORMAL) withComAowagieTextPdfPdfTemplate:[self getAppearance]];
    if (pages != nil && [pages size] >= 1) {
      for (jint i = 0; i < [pages size]; i++) {
        [sigField setPageWithInt:[((JavaLangInteger *) nil_chk([pages getWithInt:i])) intValue]];
        [self->writer_ addAnnotationWithComAowagieTextPdfPdfAnnotation:sigField withInt:[((JavaLangInteger *) nil_chk([pages getWithInt:i])) intValue]];
      }
    }
    else {
      
#line 1021
      jint pagen = [self getPage];
      [sigField setPageWithInt:pagen];
      [self->writer_ addAnnotationWithComAowagieTextPdfPdfAnnotation:sigField withInt:pagen];
    }
  }
  
#line 1027
  self->exclusionLocations_ = new_JavaUtilLinkedHashMap_init();
  if (self->cryptoDictionary_ == nil) {
    if ([((ComAowagieTextPdfPdfName *) nil_chk(JreLoadStatic(ComAowagieTextPdfPdfName, ADOBE_PPKLITE))) isEqual:[self getFilter]]) {
      self->sigStandard_ = new_ComAowagieTextPdfPdfSigGenericPKCS_PPKLite_initWithNSString_([self getProvider]);
    }
    else if ([((ComAowagieTextPdfPdfName *) nil_chk(JreLoadStatic(ComAowagieTextPdfPdfName, ADOBE_PPKMS))) isEqual:[self getFilter]]) {
      self->sigStandard_ = new_ComAowagieTextPdfPdfSigGenericPKCS_PPKMS_initWithNSString_([self getProvider]);
    }
    else if ([((ComAowagieTextPdfPdfName *) nil_chk(JreLoadStatic(ComAowagieTextPdfPdfName, VERISIGN_PPKVS))) isEqual:[self getFilter]]) {
      self->sigStandard_ = new_ComAowagieTextPdfPdfSigGenericPKCS_VeriSign_initWithNSString_([self getProvider]);
    }
    else {
      @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$@", @"Unknown filter: ", [self getFilter]));
    }
    [self->sigStandard_ setExternalDigestWithByteArray:self->externalDigest_ withByteArray:self->externalRSAdata_ withNSString:self->digestEncryptionAlgorithm_];
    if ([self getReason] != nil) {
      [((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) setReasonWithNSString:[self getReason]];
    }
    if ([self getLocation] != nil) {
      [((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) setLocationWithNSString:[self getLocation]];
    }
    if ([self getContact] != nil) {
      [((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) setContactWithNSString:[self getContact]];
    }
    [((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, M) withComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfDate_initWithJavaUtilCalendar_([self getSignDate])];
    [((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) setSignInfoWithJavaSecurityPrivateKey:[self getPrivKey] withJavaSecurityCertCertificateArray:[self getCertChain] withJavaSecurityCertCRLArray:[self getCrlList]];
    ComAowagieTextPdfPdfString *contents = (ComAowagieTextPdfPdfString *) cast_chk([((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) getWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, CONTENTS)], [ComAowagieTextPdfPdfString class]);
    ComAowagieTextPdfPdfLiteral *lit = new_ComAowagieTextPdfPdfLiteral_initWithInt_(([((NSString *) nil_chk([((ComAowagieTextPdfPdfString *) nil_chk(contents)) description])) java_length] + ([JreLoadStatic(ComAowagieTextPdfPdfName, ADOBE_PPKLITE) isEqual:[self getFilter]] ? 0 : 64)) * 2 + 2);
    (void) [((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) putWithId:JreLoadStatic(ComAowagieTextPdfPdfName, CONTENTS) withId:lit];
    [((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, CONTENTS) withComAowagieTextPdfPdfObject:lit];
    lit = new_ComAowagieTextPdfPdfLiteral_initWithInt_(80);
    (void) [((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) putWithId:JreLoadStatic(ComAowagieTextPdfPdfName, BYTERANGE) withId:lit];
    [((ComAowagieTextPdfPdfSigGenericPKCS *) nil_chk(self->sigStandard_)) putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, BYTERANGE) withComAowagieTextPdfPdfObject:lit];
    if (self->certificationLevel_ > 0) {
      ComAowagieTextPdfPdfSignatureAppearance_addDocMDPWithComAowagieTextPdfPdfDictionary_(self, self->sigStandard_);
    }
    if (self->signatureEvent_ != nil) {
      [self->signatureEvent_ getSignatureDictionaryWithComAowagieTextPdfPdfDictionary:self->sigStandard_];
    }
    (void) [self->writer_ addToBodyWithComAowagieTextPdfPdfObject:self->sigStandard_ withComAowagieTextPdfPdfIndirectReference:refSig withBoolean:false];
  }
  else {
    ComAowagieTextPdfPdfLiteral *lit = new_ComAowagieTextPdfPdfLiteral_initWithInt_(80);
    (void) [((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) putWithId:JreLoadStatic(ComAowagieTextPdfPdfName, BYTERANGE) withId:lit];
    [((ComAowagieTextPdfPdfDictionary *) nil_chk(self->cryptoDictionary_)) putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, BYTERANGE) withComAowagieTextPdfPdfObject:lit];
    for (id<JavaUtilIterator> it = [((id<JavaUtilSet>) nil_chk([((JavaUtilHashMap *) nil_chk(exclusionSizes)) entrySet])) iterator]; [((id<JavaUtilIterator>) nil_chk(it)) hasNext]; ) {
      id<JavaUtilMap_Entry> entry_ = (id<JavaUtilMap_Entry>) cast_check([it next], JavaUtilMap_Entry_class_());
      ComAowagieTextPdfPdfName *key = (ComAowagieTextPdfPdfName *) cast_chk([((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey], [ComAowagieTextPdfPdfName class]);
      JavaLangInteger *v = (JavaLangInteger *) cast_chk([entry_ getValue], [JavaLangInteger class]);
      lit = new_ComAowagieTextPdfPdfLiteral_initWithInt_([((JavaLangInteger *) nil_chk(v)) intValue]);
      (void) [((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) putWithId:key withId:lit];
      [((ComAowagieTextPdfPdfDictionary *) nil_chk(self->cryptoDictionary_)) putWithComAowagieTextPdfPdfName:key withComAowagieTextPdfPdfObject:lit];
    }
    if (self->certificationLevel_ > 0) {
      ComAowagieTextPdfPdfSignatureAppearance_addDocMDPWithComAowagieTextPdfPdfDictionary_(self, self->cryptoDictionary_);
    }
    if (self->signatureEvent_ != nil) {
      [self->signatureEvent_ getSignatureDictionaryWithComAowagieTextPdfPdfDictionary:self->cryptoDictionary_];
    }
    (void) [self->writer_ addToBodyWithComAowagieTextPdfPdfObject:self->cryptoDictionary_ withComAowagieTextPdfPdfIndirectReference:refSig withBoolean:false];
  }
  if (self->certificationLevel_ > 0) {
    
#line 1090
    ComAowagieTextPdfPdfDictionary *docmdp = new_ComAowagieTextPdfPdfDictionary_init();
    [docmdp putWithComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"DocMDP") withComAowagieTextPdfPdfObject:refSig];
    [((ComAowagieTextPdfPdfDictionary *) nil_chk([((ComAowagieTextPdfPdfReader *) nil_chk(self->writer_->reader_)) getCatalog])) putWithComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"Perms") withComAowagieTextPdfPdfObject:docmdp];
  }
  
#line 1095
  [self->writer_ closeWithJavaUtilMap:[((ComAowagieTextPdfPdfStamper *) nil_chk(self->stamper_)) getMoreInfo] withJavaUtilCalendar:globalDate != nil ? globalDate : new_JavaUtilGregorianCalendar_init()];
  
#line 1097
  self->range_ = [IOSIntArray newArrayWithLength:[((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) size] * 2];
  jint byteRangePosition = [((ComAowagieTextPdfPdfLiteral *) nil_chk(((ComAowagieTextPdfPdfLiteral *) cast_chk([((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) getWithId:JreLoadStatic(ComAowagieTextPdfPdfName, BYTERANGE)], [ComAowagieTextPdfPdfLiteral class])))) getPosition];
  (void) [((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) removeWithId:JreLoadStatic(ComAowagieTextPdfPdfName, BYTERANGE)];
  jint idx = 1;
  for (id<JavaUtilIterator> it = [((id<JavaUtilCollection>) nil_chk([((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) values])) iterator]; [((id<JavaUtilIterator>) nil_chk(it)) hasNext]; ) {
    ComAowagieTextPdfPdfLiteral *lit = (ComAowagieTextPdfPdfLiteral *) cast_chk([it next], [ComAowagieTextPdfPdfLiteral class]);
    jint n = [((ComAowagieTextPdfPdfLiteral *) nil_chk(lit)) getPosition];
    *IOSIntArray_GetRef(nil_chk(self->range_), idx++) = n;
    *IOSIntArray_GetRef(self->range_, idx++) = [lit getPosLength] + n;
  }
  JavaUtilArrays_sortWithIntArray_withInt_withInt_(self->range_, 1, ((IOSIntArray *) nil_chk(self->range_))->size_ - 1);
  for (jint k = 3; k < ((IOSIntArray *) nil_chk(self->range_))->size_ - 2; k += 2) {
    *IOSIntArray_GetRef(self->range_, k) -= IOSIntArray_Get(self->range_, k - 1);
  }
  
#line 1112
  if (self->tempFile_ == nil) {
    self->bout_ = [((ComAowagieTextPdfByteBuffer *) nil_chk(self->sigout_)) getBuffer];
    self->boutLen_ = [((ComAowagieTextPdfByteBuffer *) nil_chk(self->sigout_)) size];
    *IOSIntArray_GetRef(self->range_, ((IOSIntArray *) nil_chk(self->range_))->size_ - 1) = self->boutLen_ - IOSIntArray_Get(self->range_, self->range_->size_ - 2);
    ComAowagieTextPdfByteBuffer *bf = new_ComAowagieTextPdfByteBuffer_init();
    (void) [bf appendWithChar:'['];
    {
      IOSIntArray *a__ =
#line 1118
      self->range_;
      jint const *b__ = ((IOSIntArray *) nil_chk(a__))->buffer_;
      jint const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        jint element = *b__++;
        
#line 1119
        (void) [((ComAowagieTextPdfByteBuffer *) nil_chk([bf appendWithInt:element])) appendWithChar:' '];
      }
    }
    
#line 1121
    (void) [bf appendWithChar:']'];
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_([bf getBuffer], 0, self->bout_, byteRangePosition, [bf size]);
  }
  else {
    @try {
      self->raf_ = new_JavaIoRandomAccessFile_initWithJavaIoFile_withNSString_(self->tempFile_, @"rw");
      jint boutLen = (jint) [self->raf_ length];
      *IOSIntArray_GetRef(self->range_, ((IOSIntArray *) nil_chk(self->range_))->size_ - 1) = boutLen - IOSIntArray_Get(self->range_, self->range_->size_ - 2);
      ComAowagieTextPdfByteBuffer *bf = new_ComAowagieTextPdfByteBuffer_init();
      (void) [bf appendWithChar:'['];
      {
        IOSIntArray *a__ =
#line 1131
        self->range_;
        jint const *b__ = ((IOSIntArray *) nil_chk(a__))->buffer_;
        jint const *e__ = b__ + a__->size_;
        while (b__ < e__) {
          jint element = *b__++;
          
#line 1132
          (void) [((ComAowagieTextPdfByteBuffer *) nil_chk([bf appendWithInt:element])) appendWithChar:' '];
        }
      }
      
#line 1134
      (void) [bf appendWithChar:']'];
      [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) seekWithLong:byteRangePosition];
      [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) writeWithByteArray:[bf getBuffer] withInt:0 withInt:[bf size]];
    }
    @catch (JavaIoIOException *e) {
      @try {
        
#line 1139
        [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) close];
      }
      @catch (
#line 1139
      JavaLangException *ee) {
      }
      
#line 1140
      @try {
        
#line 1140
        [((JavaIoFile *) nil_chk(self->tempFile_)) delete__];
      }
      @catch (
#line 1140
      JavaLangException *ee) {
      }
      
#line 1141
      @throw e;
    }
  }
}


#line 1157
- (void)closeWithComAowagieTextPdfPdfDictionary:(ComAowagieTextPdfPdfDictionary *)update {
  @try {
    if (!self->preClosed_) {
      @throw new_ComAowagieTextDocumentException_initWithNSString_(@"preClose() must be called first.");
    }
    ComAowagieTextPdfByteBuffer *bf = new_ComAowagieTextPdfByteBuffer_init();
    for (id __strong element in nil_chk([((ComAowagieTextPdfPdfDictionary *) nil_chk(update)) getKeys])) {
      ComAowagieTextPdfPdfName *key = (ComAowagieTextPdfPdfName *) cast_chk(element, [ComAowagieTextPdfPdfName class]);
      ComAowagieTextPdfPdfObject *obj = [update getWithComAowagieTextPdfPdfName:key];
      ComAowagieTextPdfPdfLiteral *lit = (ComAowagieTextPdfPdfLiteral *) cast_chk([((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) getWithId:key], [ComAowagieTextPdfPdfLiteral class]);
      if (lit == nil) {
        @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"The key ", [((ComAowagieTextPdfPdfName *) nil_chk(key)) description], @" didn't reserve space in preClose()."));
      }
      [bf reset];
      [((ComAowagieTextPdfPdfObject *) nil_chk(obj)) toPdfWithComAowagieTextPdfPdfWriter:nil withJavaIoOutputStream:bf];
      if ([bf size] > [lit getPosLength]) {
        @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$I$I", @"The key ", [((ComAowagieTextPdfPdfName *) nil_chk(key)) description], @" is too big. Is ", [bf size], @", reserved ", [lit getPosLength]));
      }
      if (self->tempFile_ == nil) {
        JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_([bf getBuffer], 0, self->bout_, [lit getPosition], [bf size]);
      }
      else {
        
#line 1178
        [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) seekWithLong:[lit getPosition]];
        [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) writeWithByteArray:[bf getBuffer] withInt:0 withInt:[bf size]];
      }
    }
    if ([update size] != [((JavaUtilHashMap *) nil_chk(self->exclusionLocations_)) size]) {
      @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"The update dictionary has less keys than required.");
    }
    if (self->tempFile_ == nil) {
      [((JavaIoOutputStream *) nil_chk(self->originalout_)) writeWithByteArray:self->bout_ withInt:0 withInt:self->boutLen_];
    }
    else {
      if (self->originalout_ != nil) {
        [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) seekWithLong:0];
        jint length = (jint) [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) length];
        IOSByteArray *buf = [IOSByteArray newArrayWithLength:8192];
        while (length > 0) {
          jint r = [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) readWithByteArray:buf withInt:0 withInt:JavaLangMath_minWithInt_withInt_(buf->size_, length)];
          if (r < 0) {
            @throw new_JavaIoEOFException_initWithNSString_(@"Unexpected EOF");
          }
          [((JavaIoOutputStream *) nil_chk(self->originalout_)) writeWithByteArray:buf withInt:0 withInt:r];
          length -= r;
        }
      }
    }
  }
  @finally {
    if (self->tempFile_ != nil) {
      @try {
        
#line 1206
        [((JavaIoRandomAccessFile *) nil_chk(self->raf_)) close];
      }
      @catch (
#line 1206
      JavaLangException *ee) {
      }
      
#line 1207
      if (self->originalout_ != nil) {
        @try {
          
#line 1208
          [((JavaIoFile *) nil_chk(self->tempFile_)) delete__];
        }
        @catch (
#line 1208
        JavaLangException *ee) {
        }
      }
    }
    
#line 1211
    if (self->originalout_ != nil) {
      @try {
        
#line 1212
        [self->originalout_ close];
      }
      @catch (
#line 1212
      JavaLangException *e) {
      }
    }
  }
}


#line 1217
- (void)addDocMDPWithComAowagieTextPdfPdfDictionary:(ComAowagieTextPdfPdfDictionary *)crypto {
  ComAowagieTextPdfPdfSignatureAppearance_addDocMDPWithComAowagieTextPdfPdfDictionary_(self, crypto);
}


#line 1244
- (JavaIoInputStream *)getRangeStream {
  return new_ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(self->raf_, self->bout_, self->range_);
}


#line 1252
- (ComAowagieTextPdfPdfDictionary *)getCryptoDictionary {
  return self->cryptoDictionary_;
}


#line 1260
- (void)setCryptoDictionaryWithComAowagieTextPdfPdfDictionary:(ComAowagieTextPdfPdfDictionary *)cryptoDictionary {
  self->cryptoDictionary_ = cryptoDictionary;
}


#line 1268
- (ComAowagieTextPdfPdfStamper *)getStamper {
  return self->stamper_;
}

- (void)setStamperWithComAowagieTextPdfPdfStamper:(ComAowagieTextPdfPdfStamper *)stamper {
  self->stamper_ = stamper;
}


#line 1281
- (jboolean)isPreClosed {
  return self->preClosed_;
}


#line 1292
- (ComAowagieTextPdfPdfSigGenericPKCS *)getSigStandard {
  return self->sigStandard_;
}


#line 1300
- (NSString *)getContact {
  return self->contact_;
}


#line 1308
- (void)setContactWithNSString:(NSString *)contact {
  self->contact_ = contact;
}


#line 1316
- (ComAowagieTextFont *)getLayer2Font {
  return self->layer2Font_;
}


#line 1324
- (void)setLayer2FontWithComAowagieTextFont:(ComAowagieTextFont *)layer2Font {
  self->layer2Font_ = layer2Font;
}


#line 1332
- (jboolean)isAcro6Layers {
  return self->acro6Layers_;
}


#line 1340
- (void)setAcro6LayersWithBoolean:(jboolean)acro6Layers {
  self->acro6Layers_ = acro6Layers;
}


#line 1347
- (void)setRunDirectionWithInt:(jint)runDirection {
  if (runDirection < ComAowagieTextPdfPdfWriter_RUN_DIRECTION_DEFAULT || runDirection > ComAowagieTextPdfPdfWriter_RUN_DIRECTION_RTL) {
    @throw new_JavaLangRuntimeException_initWithNSString_(JreStrcat("$I", @"Invalid run direction: ", runDirection));
  }
  self->runDirection_ = runDirection;
}


#line 1357
- (jint)getRunDirection {
  return self->runDirection_;
}


#line 1365
- (id<ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent>)getSignatureEvent {
  return self->signatureEvent_;
}


#line 1373
- (void)setSignatureEventWithComAowagieTextPdfPdfSignatureAppearance_SignatureEvent:(id<ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent>)signatureEvent {
  self->signatureEvent_ = signatureEvent;
}


#line 1381
- (ComAowagieTextImage *)getImage {
  return self->image_;
}


#line 1389
- (void)setImageWithComAowagieTextImage:(ComAowagieTextImage *)image {
  self->image_ = image;
}


#line 1397
- (jfloat)getImageScale {
  return self->imageScale_;
}


#line 1408
- (void)setImageScaleWithFloat:(jfloat)imageScale {
  self->imageScale_ = imageScale;
}


#line 1582
- (jint)getCertificationLevel {
  return self->certificationLevel_;
}


#line 1591
- (void)setCertificationLevelWithInt:(jint)certificationLevel {
  self->certificationLevel_ = certificationLevel;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x0, -1, 1, -1, 2, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 3, 4, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextImage;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 5, 6, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 7, 8, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 9, 8, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextRectangle;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 10, 11, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 12, 13, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 12, 8, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfTemplate;", 0x1, 14, 4, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfTemplate;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfTemplate;", 0x1, -1, -1, 15, -1, -1, -1 },
    { NULL, "F", 0xa, 16, 17, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 18, 19, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 20, 8, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 21, 8, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 22, 8, -1, -1, -1, -1 },
    { NULL, "LJavaSecurityPrivateKey;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[LJavaSecurityCertCertificate;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[LJavaSecurityCertCRL;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfName;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextRectangle;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilCalendar;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 23, 24, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 25, 26, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 27, 28, -1, -1, -1, -1 },
    { NULL, "LJavaIoFile;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 29, 30, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 31, 32, -1, 33, -1, -1 },
    { NULL, "V", 0x0, 34, 24, 35, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, 35, -1, -1, -1 },
    { NULL, "V", 0x1, 34, 36, 35, -1, -1, -1 },
    { NULL, "V", 0x1, 34, 37, 35, -1, -1, -1 },
    { NULL, "V", 0x1, 34, 38, 35, 39, -1, -1 },
    { NULL, "V", 0x1, 40, 41, 35, -1, -1, -1 },
    { NULL, "V", 0x2, 42, 41, -1, -1, -1, -1 },
    { NULL, "LJavaIoInputStream;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfDictionary;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 43, 41, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfStamper;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 44, 45, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfSigGenericPKCS;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 46, 8, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextFont;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 47, 48, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 49, 50, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 51, 4, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextPdfPdfSignatureAppearance_SignatureEvent;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 52, 53, -1, -1, -1, -1 },
    { NULL, "LComAowagieTextImage;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 54, 6, -1, -1, -1, -1 },
    { NULL, "F", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 55, 56, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 57, 4, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComAowagieTextPdfPdfStamperImp:withJavaUtilCalendar:);
  methods[1].selector = @selector(initWithComAowagieTextPdfPdfStamperImp:withJavaUtilCalendar:withJavaUtilList:);
  methods[2].selector = @selector(getRender);
  methods[3].selector = @selector(setRenderWithInt:);
  methods[4].selector = @selector(getSignatureGraphic);
  methods[5].selector = @selector(setSignatureGraphicWithComAowagieTextImage:);
  methods[6].selector = @selector(setLayer2TextWithNSString:);
  methods[7].selector = @selector(getLayer2Text);
  methods[8].selector = @selector(setLayer4TextWithNSString:);
  methods[9].selector = @selector(getLayer4Text);
  methods[10].selector = @selector(getRect);
  methods[11].selector = @selector(isInvisible);
  methods[12].selector = @selector(setCryptoWithJavaSecurityPrivateKey:withJavaSecurityCertCertificateArray:withJavaSecurityCertCRLArray:withComAowagieTextPdfPdfName:);
  methods[13].selector = @selector(setVisibleSignatureWithComAowagieTextRectangle:withInt:withNSString:);
  methods[14].selector = @selector(setVisibleSignatureWithNSString:);
  methods[15].selector = @selector(getLayerWithInt:);
  methods[16].selector = @selector(getTopLayer);
  methods[17].selector = @selector(getAppearance);
  methods[18].selector = @selector(fitTextWithComAowagieTextFont:withNSString:withComAowagieTextRectangle:withFloat:withInt:);
  methods[19].selector = @selector(setExternalDigestWithByteArray:withByteArray:withNSString:);
  methods[20].selector = @selector(getReason);
  methods[21].selector = @selector(setReasonWithNSString:);
  methods[22].selector = @selector(getLocation);
  methods[23].selector = @selector(setLocationWithNSString:);
  methods[24].selector = @selector(getProvider);
  methods[25].selector = @selector(setProviderWithNSString:);
  methods[26].selector = @selector(getPrivKey);
  methods[27].selector = @selector(getCertChain);
  methods[28].selector = @selector(getCrlList);
  methods[29].selector = @selector(getFilter);
  methods[30].selector = @selector(isNewField);
  methods[31].selector = @selector(getPage);
  methods[32].selector = @selector(getFieldName);
  methods[33].selector = @selector(getPageRect);
  methods[34].selector = @selector(getSignDate);
  methods[35].selector = @selector(setSignDateWithJavaUtilCalendar:);
  methods[36].selector = @selector(setSigoutWithComAowagieTextPdfByteBuffer:);
  methods[37].selector = @selector(setOriginaloutWithJavaIoOutputStream:);
  methods[38].selector = @selector(getTempFile);
  methods[39].selector = @selector(setTempFileWithJavaIoFile:);
  methods[40].selector = @selector(getNewSigName);
  methods[41].selector = @selector(getNewSigNameWithJavaUtilList:);
  methods[42].selector = @selector(preCloseWithJavaUtilCalendar:);
  methods[43].selector = @selector(preClose);
  methods[44].selector = @selector(preCloseWithJavaUtilHashMap:);
  methods[45].selector = @selector(preCloseWithJavaUtilHashMap:withJavaUtilCalendar:);
  methods[46].selector = @selector(preCloseWithJavaUtilHashMap:withJavaUtilCalendar:withJavaUtilList:);
  methods[47].selector = @selector(closeWithComAowagieTextPdfPdfDictionary:);
  methods[48].selector = @selector(addDocMDPWithComAowagieTextPdfPdfDictionary:);
  methods[49].selector = @selector(getRangeStream);
  methods[50].selector = @selector(getCryptoDictionary);
  methods[51].selector = @selector(setCryptoDictionaryWithComAowagieTextPdfPdfDictionary:);
  methods[52].selector = @selector(getStamper);
  methods[53].selector = @selector(setStamperWithComAowagieTextPdfPdfStamper:);
  methods[54].selector = @selector(isPreClosed);
  methods[55].selector = @selector(getSigStandard);
  methods[56].selector = @selector(getContact);
  methods[57].selector = @selector(setContactWithNSString:);
  methods[58].selector = @selector(getLayer2Font);
  methods[59].selector = @selector(setLayer2FontWithComAowagieTextFont:);
  methods[60].selector = @selector(isAcro6Layers);
  methods[61].selector = @selector(setAcro6LayersWithBoolean:);
  methods[62].selector = @selector(setRunDirectionWithInt:);
  methods[63].selector = @selector(getRunDirection);
  methods[64].selector = @selector(getSignatureEvent);
  methods[65].selector = @selector(setSignatureEventWithComAowagieTextPdfPdfSignatureAppearance_SignatureEvent:);
  methods[66].selector = @selector(getImage);
  methods[67].selector = @selector(setImageWithComAowagieTextImage:);
  methods[68].selector = @selector(getImageScale);
  methods[69].selector = @selector(setImageScaleWithFloat:);
  methods[70].selector = @selector(getCertificationLevel);
  methods[71].selector = @selector(setCertificationLevelWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "SignatureRenderDescription", "I", .constantValue.asInt = ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderDescription, 0x19, -1, -1, -1, -1 },
    { "SignatureRenderNameAndDescription", "I", .constantValue.asInt = ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderNameAndDescription, 0x19, -1, -1, -1, -1 },
    { "SignatureRenderGraphicAndDescription", "I", .constantValue.asInt = ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderGraphicAndDescription, 0x19, -1, -1, -1, -1 },
    { "SELF_SIGNED", "LComAowagieTextPdfPdfName;", .constantValue.asLong = 0, 0x19, -1, 58, -1, -1 },
    { "NOT_CERTIFIED", "I", .constantValue.asInt = ComAowagieTextPdfPdfSignatureAppearance_NOT_CERTIFIED, 0x19, -1, -1, -1, -1 },
    { "CERTIFIED_NO_CHANGES_ALLOWED", "I", .constantValue.asInt = ComAowagieTextPdfPdfSignatureAppearance_CERTIFIED_NO_CHANGES_ALLOWED, 0x19, -1, -1, -1, -1 },
    { "CERTIFIED_FORM_FILLING", "I", .constantValue.asInt = ComAowagieTextPdfPdfSignatureAppearance_CERTIFIED_FORM_FILLING, 0x19, -1, -1, -1, -1 },
    { "CERTIFIED_FORM_FILLING_AND_ANNOTATIONS", "I", .constantValue.asInt = ComAowagieTextPdfPdfSignatureAppearance_CERTIFIED_FORM_FILLING_AND_ANNOTATIONS, 0x19, -1, -1, -1, -1 },
    { "TOP_SECTION", "F", .constantValue.asFloat = ComAowagieTextPdfPdfSignatureAppearance_TOP_SECTION, 0x1a, -1, -1, -1, -1 },
    { "MARGIN", "F", .constantValue.asFloat = ComAowagieTextPdfPdfSignatureAppearance_MARGIN, 0x1a, -1, -1, -1, -1 },
    { "rect_", "LComAowagieTextRectangle;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "pageRect_", "LComAowagieTextRectangle;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "app_", "[LComAowagieTextPdfPdfTemplate;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "frm_", "LComAowagieTextPdfPdfTemplate;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "writer_", "LComAowagieTextPdfPdfStamperImp;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "layer2Text_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "reason_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "location_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "signDate_", "LJavaUtilCalendar;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "provider_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "page_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "fieldName_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "privKey_", "LJavaSecurityPrivateKey;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "certChain_", "[LJavaSecurityCertCertificate;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "crlList_", "[LJavaSecurityCertCRL;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "filter_", "LComAowagieTextPdfPdfName;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "newField_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "sigout_", "LComAowagieTextPdfByteBuffer;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "originalout_", "LJavaIoOutputStream;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "tempFile_", "LJavaIoFile;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "cryptoDictionary_", "LComAowagieTextPdfPdfDictionary;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "stamper_", "LComAowagieTextPdfPdfStamper;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "preClosed_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "sigStandard_", "LComAowagieTextPdfPdfSigGenericPKCS;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "range_", "[I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "raf_", "LJavaIoRandomAccessFile;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "bout_", "[B", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "boutLen_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "externalDigest_", "[B", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "externalRSAdata_", "[B", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "digestEncryptionAlgorithm_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "exclusionLocations_", "LJavaUtilHashMap;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "render_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "signatureGraphic_", "LComAowagieTextImage;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "questionMark", "LNSString;", .constantValue.asLong = 0, 0x19, -1, 59, -1, -1 },
    { "contact_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "layer2Font_", "LComAowagieTextFont;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "layer4Text_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "acro6Layers_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "runDirection_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "signatureEvent_", "LComAowagieTextPdfPdfSignatureAppearance_SignatureEvent;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "image_", "LComAowagieTextImage;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "imageScale_", "F", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "certificationLevel_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LComAowagieTextPdfPdfStamperImp;LJavaUtilCalendar;", "LComAowagieTextPdfPdfStamperImp;LJavaUtilCalendar;LJavaUtilList;", "(Lcom/aowagie/text/pdf/PdfStamperImp;Ljava/util/Calendar;Ljava/util/List<Lcom/aowagie/text/pdf/PRAcroForm$FieldInformation;>;)V", "setRender", "I", "setSignatureGraphic", "LComAowagieTextImage;", "setLayer2Text", "LNSString;", "setLayer4Text", "setCrypto", "LJavaSecurityPrivateKey;[LJavaSecurityCertCertificate;[LJavaSecurityCertCRL;LComAowagieTextPdfPdfName;", "setVisibleSignature", "LComAowagieTextRectangle;ILNSString;", "getLayer", "LComAowagieTextDocumentException;", "fitText", "LComAowagieTextFont;LNSString;LComAowagieTextRectangle;FI", "setExternalDigest", "[B[BLNSString;", "setReason", "setLocation", "setProvider", "setSignDate", "LJavaUtilCalendar;", "setSigout", "LComAowagieTextPdfByteBuffer;", "setOriginalout", "LJavaIoOutputStream;", "setTempFile", "LJavaIoFile;", "getNewSigName", "LJavaUtilList;", "(Ljava/util/List<Lcom/aowagie/text/pdf/PRAcroForm$FieldInformation;>;)Ljava/lang/String;", "preClose", "LJavaIoIOException;LComAowagieTextDocumentException;", "LJavaUtilHashMap;", "LJavaUtilHashMap;LJavaUtilCalendar;", "LJavaUtilHashMap;LJavaUtilCalendar;LJavaUtilList;", "(Ljava/util/HashMap;Ljava/util/Calendar;Ljava/util/List<Ljava/lang/Integer;>;)V", "close", "LComAowagieTextPdfPdfDictionary;", "addDocMDP", "setCryptoDictionary", "setStamper", "LComAowagieTextPdfPdfStamper;", "setContact", "setLayer2Font", "LComAowagieTextFont;", "setAcro6Layers", "Z", "setRunDirection", "setSignatureEvent", "LComAowagieTextPdfPdfSignatureAppearance_SignatureEvent;", "setImage", "setImageScale", "F", "setCertificationLevel", &ComAowagieTextPdfPdfSignatureAppearance_SELF_SIGNED, &ComAowagieTextPdfPdfSignatureAppearance_questionMark, "LComAowagieTextPdfPdfSignatureAppearance_RangeStream;LComAowagieTextPdfPdfSignatureAppearance_SignatureEvent;" };
  static const J2ObjcClassInfo _ComAowagieTextPdfPdfSignatureAppearance = { "PdfSignatureAppearance", "com.aowagie.text.pdf", ptrTable, methods, fields, 7, 0x1, 72, 54, -1, 60, -1, -1, -1 };
  return &_ComAowagieTextPdfPdfSignatureAppearance;
}

+ (void)initialize {
  if (self == [ComAowagieTextPdfPdfSignatureAppearance class]) {
    ComAowagieTextPdfPdfSignatureAppearance_SELF_SIGNED = JreLoadStatic(ComAowagieTextPdfPdfName, ADOBE_PPKLITE);
    J2OBJC_SET_INITIALIZED(ComAowagieTextPdfPdfSignatureAppearance)
  }
}

@end


#line 147
void ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_(ComAowagieTextPdfPdfSignatureAppearance *self, ComAowagieTextPdfPdfStamperImp *writer, JavaUtilCalendar *globalDate) {
  NSObject_init(self);
  self->app_ = [IOSObjectArray newArrayWithLength:
#line 116
  5 type:ComAowagieTextPdfPdfTemplate_class_()];
  self->page_ =
#line 124
  1;
  self->newField_ =
#line 130
  true;
  self->preClosed_ =
#line 136
  false;
  self->render_ = ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderDescription;
  self->signatureGraphic_ =
#line 181
  nil;
  self->runDirection_ =
#line 1482
  ComAowagieTextPdfPdfWriter_RUN_DIRECTION_NO_BIDI;
  self->certificationLevel_ = ComAowagieTextPdfPdfSignatureAppearance_NOT_CERTIFIED;
  
#line 148
  self->writer_ = writer;
  self->signDate_ = globalDate != nil ? globalDate : new_JavaUtilGregorianCalendar_init();
  self->fieldName_ = [self getNewSigName];
}


#line 147
ComAowagieTextPdfPdfSignatureAppearance *new_ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_(ComAowagieTextPdfPdfStamperImp *writer, JavaUtilCalendar *globalDate) {
  J2OBJC_NEW_IMPL(ComAowagieTextPdfPdfSignatureAppearance, initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_, writer, globalDate)
}


#line 147
ComAowagieTextPdfPdfSignatureAppearance *create_ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_(ComAowagieTextPdfPdfStamperImp *writer, JavaUtilCalendar *globalDate) {
  J2OBJC_CREATE_IMPL(ComAowagieTextPdfPdfSignatureAppearance, initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_, writer, globalDate)
}


#line 153
void ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_withJavaUtilList_(ComAowagieTextPdfPdfSignatureAppearance *self, ComAowagieTextPdfPdfStamperImp *writer, JavaUtilCalendar *globalDate, id<JavaUtilList> signatureFieldNames) {
  NSObject_init(self);
  self->app_ = [IOSObjectArray newArrayWithLength:
#line 116
  5 type:ComAowagieTextPdfPdfTemplate_class_()];
  self->page_ =
#line 124
  1;
  self->newField_ =
#line 130
  true;
  self->preClosed_ =
#line 136
  false;
  self->render_ = ComAowagieTextPdfPdfSignatureAppearance_SignatureRenderDescription;
  self->signatureGraphic_ =
#line 181
  nil;
  self->runDirection_ =
#line 1482
  ComAowagieTextPdfPdfWriter_RUN_DIRECTION_NO_BIDI;
  self->certificationLevel_ = ComAowagieTextPdfPdfSignatureAppearance_NOT_CERTIFIED;
  
#line 155
  self->writer_ = writer;
  self->signDate_ = globalDate != nil ? globalDate : new_JavaUtilGregorianCalendar_init();
  self->fieldName_ = [self getNewSigNameWithJavaUtilList:signatureFieldNames];
}


#line 153
ComAowagieTextPdfPdfSignatureAppearance *new_ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_withJavaUtilList_(ComAowagieTextPdfPdfStamperImp *writer, JavaUtilCalendar *globalDate, id<JavaUtilList> signatureFieldNames) {
  J2OBJC_NEW_IMPL(ComAowagieTextPdfPdfSignatureAppearance, initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_withJavaUtilList_, writer, globalDate, signatureFieldNames)
}


#line 153
ComAowagieTextPdfPdfSignatureAppearance *create_ComAowagieTextPdfPdfSignatureAppearance_initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_withJavaUtilList_(ComAowagieTextPdfPdfStamperImp *writer, JavaUtilCalendar *globalDate, id<JavaUtilList> signatureFieldNames) {
  J2OBJC_CREATE_IMPL(ComAowagieTextPdfPdfSignatureAppearance, initWithComAowagieTextPdfPdfStamperImp_withJavaUtilCalendar_withJavaUtilList_, writer, globalDate, signatureFieldNames)
}


#line 618
jfloat ComAowagieTextPdfPdfSignatureAppearance_fitTextWithComAowagieTextFont_withNSString_withComAowagieTextRectangle_withFloat_withInt_(ComAowagieTextFont *font, NSString *text, ComAowagieTextRectangle *rect, jfloat maxFontSize, jint runDirection) {
  ComAowagieTextPdfPdfSignatureAppearance_initialize();
  
#line 619
  @try {
    ComAowagieTextPdfColumnText *ct;
    jint status;
    if (maxFontSize <= 0) {
      jint cr = 0;
      jint lf = 0;
      IOSCharArray *t = [((NSString *) nil_chk(text)) java_toCharArray];
      {
        IOSCharArray *a__ =
#line 626
        t;
        jchar const *b__ = ((IOSCharArray *) nil_chk(a__))->buffer_;
        jchar const *e__ = b__ + a__->size_;
        while (b__ < e__) {
          jchar element = *b__++;
          
#line 627
          if (element == 0x000a) {
            ++lf;
          }
          else
#line 629
          if (element == 0x000d) {
            ++cr;
          }
        }
      }
      
#line 633
      jint minLines = JavaLangMath_maxWithInt_withInt_(cr, lf) + 1;
      maxFontSize = JavaLangMath_absWithFloat_([((ComAowagieTextRectangle *) nil_chk(rect)) getHeight]) / minLines - 0.001f;
    }
    [((ComAowagieTextFont *) nil_chk(font)) setSizeWithFloat:maxFontSize];
    ComAowagieTextPhrase *ph = new_ComAowagieTextPhrase_initWithNSString_withComAowagieTextFont_(text, font);
    ct = new_ComAowagieTextPdfColumnText_initWithComAowagieTextPdfPdfContentByte_(nil);
    [ct setSimpleColumnWithComAowagieTextPhrase:ph withFloat:[((ComAowagieTextRectangle *) nil_chk(rect)) getLeft] withFloat:[rect getBottom] withFloat:[rect getRight] withFloat:[rect getTop] withFloat:maxFontSize withInt:ComAowagieTextElement_ALIGN_LEFT];
    [ct setRunDirectionWithInt:runDirection];
    status = [ct goWithBoolean:true];
    if ((status & ComAowagieTextPdfColumnText_NO_MORE_TEXT) != 0) {
      return maxFontSize;
    }
    jfloat precision = 0.1f;
    jfloat min = 0;
    jfloat max = maxFontSize;
    jfloat size = maxFontSize;
    for (jint k = 0; k < 50; ++k) {
      size = (min + max) / 2;
      ct = new_ComAowagieTextPdfColumnText_initWithComAowagieTextPdfPdfContentByte_(nil);
      [font setSizeWithFloat:size];
      [ct setSimpleColumnWithComAowagieTextPhrase:new_ComAowagieTextPhrase_initWithNSString_withComAowagieTextFont_(text, font) withFloat:[rect getLeft] withFloat:[rect getBottom] withFloat:[rect getRight] withFloat:[rect getTop] withFloat:size withInt:ComAowagieTextElement_ALIGN_LEFT];
      [ct setRunDirectionWithInt:runDirection];
      status = [ct goWithBoolean:true];
      if ((status & ComAowagieTextPdfColumnText_NO_MORE_TEXT) != 0) {
        if (max - min < size * precision) {
          return size;
        }
        min = size;
      }
      else {
        
#line 662
        max = size;
      }
    }
    return size;
  }
  @catch (JavaLangException *e) {
    @throw new_ComAowagieTextExceptionConverter_initWithJavaLangException_(e);
  }
}


#line 1217
void ComAowagieTextPdfPdfSignatureAppearance_addDocMDPWithComAowagieTextPdfPdfDictionary_(ComAowagieTextPdfPdfSignatureAppearance *self, ComAowagieTextPdfPdfDictionary *crypto) {
  ComAowagieTextPdfPdfDictionary *reference = new_ComAowagieTextPdfPdfDictionary_init();
  ComAowagieTextPdfPdfDictionary *transformParams = new_ComAowagieTextPdfPdfDictionary_init();
  [transformParams putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, P) withComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfNumber_initWithInt_(self->certificationLevel_)];
  [transformParams putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, V) withComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfName_initWithNSString_(@"1.2")];
  [transformParams putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, TYPE) withComAowagieTextPdfPdfObject:JreLoadStatic(ComAowagieTextPdfPdfName, TRANSFORMPARAMS)];
  [reference putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, TRANSFORMMETHOD) withComAowagieTextPdfPdfObject:JreLoadStatic(ComAowagieTextPdfPdfName, DOCMDP)];
  [reference putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, TYPE) withComAowagieTextPdfPdfObject:JreLoadStatic(ComAowagieTextPdfPdfName, SIGREF)];
  [reference putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, TRANSFORMPARAMS) withComAowagieTextPdfPdfObject:transformParams];
  [reference putWithComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"DigestValue") withComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfString_initWithNSString_(@"aa")];
  ComAowagieTextPdfPdfArray *loc = new_ComAowagieTextPdfPdfArray_init();
  [loc addWithComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfNumber_initWithInt_(0)];
  [loc addWithComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfNumber_initWithInt_(0)];
  [reference putWithComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"DigestLocation") withComAowagieTextPdfPdfObject:loc];
  [reference putWithComAowagieTextPdfPdfName:new_ComAowagieTextPdfPdfName_initWithNSString_(@"DigestMethod") withComAowagieTextPdfPdfObject:new_ComAowagieTextPdfPdfName_initWithNSString_(@"MD5")];
  [reference putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, DATA) withComAowagieTextPdfPdfObject:[((ComAowagieTextPdfPdfDictionary *) nil_chk([((ComAowagieTextPdfPdfReader *) nil_chk(((ComAowagieTextPdfPdfStamperImp *) nil_chk(self->writer_))->reader_)) getTrailer])) getWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, ROOT)]];
  ComAowagieTextPdfPdfArray *types = new_ComAowagieTextPdfPdfArray_init();
  [types addWithComAowagieTextPdfPdfObject:reference];
  [((ComAowagieTextPdfPdfDictionary *) nil_chk(crypto)) putWithComAowagieTextPdfPdfName:JreLoadStatic(ComAowagieTextPdfPdfName, REFERENCE) withComAowagieTextPdfPdfObject:types];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComAowagieTextPdfPdfSignatureAppearance)

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/com/aowagie/text/pdf/PdfSignatureAppearance.java"


#line 1502
@implementation ComAowagieTextPdfPdfSignatureAppearance_RangeStream


#line 1509
- (instancetype)initWithJavaIoRandomAccessFile:(JavaIoRandomAccessFile *)raf
                                 withByteArray:(IOSByteArray *)bout
                                  withIntArray:(IOSIntArray *)range {
  ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(self, raf, bout, range);
  return self;
}


#line 1518
- (jint)read {
  
#line 1520
  jint n = [self readWithByteArray:self->b_];
  if (n != 1) {
    return -1;
  }
  return IOSByteArray_Get(nil_chk(self->b_), 0) & (jint) 0xff;
}


#line 1530
- (jint)readWithByteArray:(IOSByteArray *)b
                  withInt:(jint)off
                  withInt:(jint)len {
  
#line 1532
  if (b == nil) {
    @throw new_JavaLangNullPointerException_init();
  }
  else
#line 1534
  if (off < 0 || off > b->size_ || len < 0 ||
#line 1535
  off + len > b->size_ || off + len < 0) {
    @throw new_JavaLangIndexOutOfBoundsException_init();
  }
  else
#line 1537
  if (len == 0) {
    return 0;
  }
  if (self->rangePosition_ >= IOSIntArray_Get(self->range_, ((IOSIntArray *) nil_chk(self->range_))->size_ - 2) + IOSIntArray_Get(self->range_, self->range_->size_ - 1)) {
    return -1;
  }
  for (jint k = 0; k < self->range_->size_; k += 2) {
    jint start = IOSIntArray_Get(self->range_, k);
    jint end = start + IOSIntArray_Get(self->range_, k + 1);
    if (self->rangePosition_ < start) {
      self->rangePosition_ = start;
    }
    if (self->rangePosition_ >= start && self->rangePosition_ < end) {
      jint lenf = JavaLangMath_minWithInt_withInt_(len, end - self->rangePosition_);
      if (self->raf_ == nil) {
        JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(self->bout_, self->rangePosition_, b, off, lenf);
      }
      else {
        
#line 1554
        [self->raf_ seekWithLong:self->rangePosition_];
        [self->raf_ readFullyWithByteArray:b withInt:off withInt:lenf];
      }
      self->rangePosition_ += lenf;
      return lenf;
    }
  }
  return -1;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, 1, -1, -1, -1 },
    { NULL, "I", 0x1, 2, 3, 1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithJavaIoRandomAccessFile:withByteArray:withIntArray:);
  methods[1].selector = @selector(read);
  methods[2].selector = @selector(readWithByteArray:withInt:withInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "b_", "[B", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "raf_", "LJavaIoRandomAccessFile;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "bout_", "[B", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "range_", "[I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "rangePosition_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaIoRandomAccessFile;[B[I", "LJavaIoIOException;", "read", "[BII", "LComAowagieTextPdfPdfSignatureAppearance;" };
  static const J2ObjcClassInfo _ComAowagieTextPdfPdfSignatureAppearance_RangeStream = { "RangeStream", "com.aowagie.text.pdf", ptrTable, methods, fields, 7, 0xa, 3, 5, 4, -1, -1, -1, -1 };
  return &_ComAowagieTextPdfPdfSignatureAppearance_RangeStream;
}

@end


#line 1509
void ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(ComAowagieTextPdfPdfSignatureAppearance_RangeStream *self, JavaIoRandomAccessFile *raf, IOSByteArray *bout, IOSIntArray *range) {
  JavaIoInputStream_init(self);
  self->b_ = [IOSByteArray newArrayWithLength:
#line 1503
  1];
  self->rangePosition_ =
#line 1507
  0;
  
#line 1510
  self->raf_ = raf;
  self->bout_ = bout;
  self->range_ = range;
}


#line 1509
ComAowagieTextPdfPdfSignatureAppearance_RangeStream *new_ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(JavaIoRandomAccessFile *raf, IOSByteArray *bout, IOSIntArray *range) {
  J2OBJC_NEW_IMPL(ComAowagieTextPdfPdfSignatureAppearance_RangeStream, initWithJavaIoRandomAccessFile_withByteArray_withIntArray_, raf, bout, range)
}


#line 1509
ComAowagieTextPdfPdfSignatureAppearance_RangeStream *create_ComAowagieTextPdfPdfSignatureAppearance_RangeStream_initWithJavaIoRandomAccessFile_withByteArray_withIntArray_(JavaIoRandomAccessFile *raf, IOSByteArray *bout, IOSIntArray *range) {
  J2OBJC_CREATE_IMPL(ComAowagieTextPdfPdfSignatureAppearance_RangeStream, initWithJavaIoRandomAccessFile_withByteArray_withIntArray_, raf, bout, range)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComAowagieTextPdfPdfSignatureAppearance_RangeStream)

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/com/aowagie/text/pdf/PdfSignatureAppearance.java"


#line 1568
@implementation ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "V", 0x401, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(getSignatureDictionaryWithComAowagieTextPdfPdfDictionary:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "getSignatureDictionary", "LComAowagieTextPdfPdfDictionary;", "LComAowagieTextPdfPdfSignatureAppearance;" };
  static const J2ObjcClassInfo _ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent = { "SignatureEvent", "com.aowagie.text.pdf", ptrTable, methods, NULL, 7, 0x60a, 1, 0, 2, -1, -1, -1, -1 };
  return &_ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent;
}

@end

J2OBJC_INTERFACE_TYPE_LITERAL_SOURCE(ComAowagieTextPdfPdfSignatureAppearance_SignatureEvent)
