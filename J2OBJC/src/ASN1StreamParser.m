//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/org/spongycastle/asn1/ASN1StreamParser.java
//

#include "ASN1Encodable.h"
#include "ASN1EncodableVector.h"
#include "ASN1Exception.h"
#include "ASN1InputStream.h"
#include "ASN1Primitive.h"
#include "ASN1Sequence.h"
#include "ASN1StreamParser.h"
#include "BERApplicationSpecificParser.h"
#include "BERFactory.h"
#include "BEROctetStringParser.h"
#include "BERSequence.h"
#include "BERSequenceParser.h"
#include "BERSetParser.h"
#include "BERTaggedObject.h"
#include "BERTaggedObjectParser.h"
#include "BERTags.h"
#include "DERApplicationSpecific.h"
#include "DERExternalParser.h"
#include "DERFactory.h"
#include "DEROctetString.h"
#include "DEROctetStringParser.h"
#include "DERSequenceParser.h"
#include "DERSetParser.h"
#include "DERTaggedObject.h"
#include "DefiniteLengthInputStream.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "InMemoryRepresentable.h"
#include "IndefiniteLengthInputStream.h"
#include "J2ObjC_source.h"
#include "StreamUtil.h"
#include "java/io/ByteArrayInputStream.h"
#include "java/io/IOException.h"
#include "java/io/InputStream.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"

#if !__has_feature(objc_arc)
#error "ASN1StreamParser must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgSpongycastleAsn1ASN1StreamParser () {
 @public
  JavaIoInputStream *_in_;
  jint _limit_;
  IOSObjectArray *tmpBuffers_;
}

- (void)set00CheckWithBoolean:(jboolean)enabled;

@end

J2OBJC_FIELD_SETTER(OrgSpongycastleAsn1ASN1StreamParser, _in_, JavaIoInputStream *)
J2OBJC_FIELD_SETTER(OrgSpongycastleAsn1ASN1StreamParser, tmpBuffers_, IOSObjectArray *)

__attribute__((unused)) static void OrgSpongycastleAsn1ASN1StreamParser_set00CheckWithBoolean_(OrgSpongycastleAsn1ASN1StreamParser *self, jboolean enabled);

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/org/spongycastle/asn1/ASN1StreamParser.java"


#line 10
@implementation OrgSpongycastleAsn1ASN1StreamParser


#line 16
- (instancetype)initWithJavaIoInputStream:(JavaIoInputStream *)inArg {
  OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(self, inArg);
  return self;
}


#line 22
- (instancetype)initWithJavaIoInputStream:(JavaIoInputStream *)inArg
                                  withInt:(jint)limit {
  OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_withInt_(self, inArg, limit);
  return self;
}


#line 32
- (instancetype)initWithByteArray:(IOSByteArray *)encoding {
  OrgSpongycastleAsn1ASN1StreamParser_initWithByteArray_(self, encoding);
  return self;
}


#line 38
- (id<OrgSpongycastleAsn1ASN1Encodable>)readIndefWithInt:(jint)tagValue {
  
#line 43
  switch (tagValue) {
    
#line 45
    case OrgSpongycastleAsn1BERTags_EXTERNAL:
    return new_OrgSpongycastleAsn1DERExternalParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(self);
    case OrgSpongycastleAsn1BERTags_OCTET_STRING:
    return new_OrgSpongycastleAsn1BEROctetStringParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(self);
    case OrgSpongycastleAsn1BERTags_SEQUENCE:
    return new_OrgSpongycastleAsn1BERSequenceParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(self);
    case OrgSpongycastleAsn1BERTags_SET:
    return new_OrgSpongycastleAsn1BERSetParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(self);
    default:
    @throw new_OrgSpongycastleAsn1ASN1Exception_initWithNSString_(JreStrcat("$$", @"unknown BER object encountered: 0x", JavaLangInteger_toHexStringWithInt_(tagValue)));
  }
}


#line 58
- (id<OrgSpongycastleAsn1ASN1Encodable>)readImplicitWithBoolean:(jboolean)constructed
                                                        withInt:(jint)tag {
  if ([_in_ isKindOfClass:[OrgSpongycastleAsn1IndefiniteLengthInputStream class]]) {
    
#line 62
    if (!constructed) {
      
#line 64
      @throw new_JavaIoIOException_initWithNSString_(@"indefinite-length primitive encoding encountered");
    }
    
#line 67
    return [self readIndefWithInt:tag];
  }
  
#line 70
  if (constructed) {
    
#line 72
    switch (tag) {
      
#line 74
      case OrgSpongycastleAsn1BERTags_SET:
      return new_OrgSpongycastleAsn1DERSetParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(self);
      case OrgSpongycastleAsn1BERTags_SEQUENCE:
      return new_OrgSpongycastleAsn1DERSequenceParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(self);
      case OrgSpongycastleAsn1BERTags_OCTET_STRING:
      return new_OrgSpongycastleAsn1BEROctetStringParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(self);
    }
  }
  else {
    
#line 84
    switch (tag) {
      
#line 86
      case OrgSpongycastleAsn1BERTags_SET:
      @throw new_OrgSpongycastleAsn1ASN1Exception_initWithNSString_(@"sequences must use constructed encoding (see X.690 8.9.1/8.10.1)");
      case OrgSpongycastleAsn1BERTags_SEQUENCE:
      @throw new_OrgSpongycastleAsn1ASN1Exception_initWithNSString_(@"sets must use constructed encoding (see X.690 8.11.1/8.12.1)");
      case OrgSpongycastleAsn1BERTags_OCTET_STRING:
      return new_OrgSpongycastleAsn1DEROctetStringParser_initWithOrgSpongycastleAsn1DefiniteLengthInputStream_((OrgSpongycastleAsn1DefiniteLengthInputStream *) cast_chk(_in_, [OrgSpongycastleAsn1DefiniteLengthInputStream class]));
    }
  }
  
#line 95
  @throw new_OrgSpongycastleAsn1ASN1Exception_initWithNSString_(@"implicit tagging not implemented");
}


#line 98
- (OrgSpongycastleAsn1ASN1Primitive *)readTaggedObjectWithBoolean:(jboolean)constructed
                                                          withInt:(jint)tag {
  if (!constructed) {
    
#line 103
    OrgSpongycastleAsn1DefiniteLengthInputStream *defIn = (OrgSpongycastleAsn1DefiniteLengthInputStream *) cast_chk(_in_, [OrgSpongycastleAsn1DefiniteLengthInputStream class]);
    return new_OrgSpongycastleAsn1DERTaggedObject_initWithBoolean_withInt_withOrgSpongycastleAsn1ASN1Encodable_(false, tag, new_OrgSpongycastleAsn1DEROctetString_initWithByteArray_([((OrgSpongycastleAsn1DefiniteLengthInputStream *) nil_chk(defIn)) toByteArray]));
  }
  
#line 107
  OrgSpongycastleAsn1ASN1EncodableVector *v = [self readVector];
  
#line 109
  if ([_in_ isKindOfClass:[OrgSpongycastleAsn1IndefiniteLengthInputStream class]]) {
    
#line 111
    return [((OrgSpongycastleAsn1ASN1EncodableVector *) nil_chk(v)) size] == 1 ? new_OrgSpongycastleAsn1BERTaggedObject_initWithBoolean_withInt_withOrgSpongycastleAsn1ASN1Encodable_(
#line 112
    true, tag, [v getWithInt:0]) : new_OrgSpongycastleAsn1BERTaggedObject_initWithBoolean_withInt_withOrgSpongycastleAsn1ASN1Encodable_(
#line 113
    false, tag, OrgSpongycastleAsn1BERFactory_createSequenceWithOrgSpongycastleAsn1ASN1EncodableVector_(v));
  }
  
#line 116
  return [((OrgSpongycastleAsn1ASN1EncodableVector *) nil_chk(v)) size] == 1 ? new_OrgSpongycastleAsn1DERTaggedObject_initWithBoolean_withInt_withOrgSpongycastleAsn1ASN1Encodable_(
#line 117
  true, tag, [v getWithInt:0]) : new_OrgSpongycastleAsn1DERTaggedObject_initWithBoolean_withInt_withOrgSpongycastleAsn1ASN1Encodable_(
#line 118
  false, tag, OrgSpongycastleAsn1DERFactory_createSequenceWithOrgSpongycastleAsn1ASN1EncodableVector_(v));
}


#line 121
- (id<OrgSpongycastleAsn1ASN1Encodable>)readObject {
  
#line 124
  jint tag = [((JavaIoInputStream *) nil_chk(_in_)) read];
  if (tag == -1) {
    
#line 127
    return nil;
  }
  
#line 133
  OrgSpongycastleAsn1ASN1StreamParser_set00CheckWithBoolean_(self, false);
  
#line 138
  jint tagNo = OrgSpongycastleAsn1ASN1InputStream_readTagNumberWithJavaIoInputStream_withInt_(_in_, tag);
  
#line 140
  jboolean isConstructed = (tag & OrgSpongycastleAsn1BERTags_CONSTRUCTED) != 0;
  
#line 145
  jint length = OrgSpongycastleAsn1ASN1InputStream_readLengthWithJavaIoInputStream_withInt_(_in_, _limit_);
  
#line 147
  if (length < 0) {
    
#line 149
    if (!isConstructed) {
      
#line 151
      @throw new_JavaIoIOException_initWithNSString_(@"indefinite-length primitive encoding encountered");
    }
    
#line 154
    OrgSpongycastleAsn1IndefiniteLengthInputStream *indIn = new_OrgSpongycastleAsn1IndefiniteLengthInputStream_initPackagePrivateWithJavaIoInputStream_withInt_(_in_, _limit_);
    OrgSpongycastleAsn1ASN1StreamParser *sp = new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_withInt_(indIn, _limit_);
    
#line 157
    if ((tag & OrgSpongycastleAsn1BERTags_APPLICATION) != 0) {
      
#line 159
      return new_OrgSpongycastleAsn1BERApplicationSpecificParser_initWithInt_withOrgSpongycastleAsn1ASN1StreamParser_(tagNo, sp);
    }
    
#line 162
    if ((tag & OrgSpongycastleAsn1BERTags_TAGGED) != 0) {
      
#line 164
      return new_OrgSpongycastleAsn1BERTaggedObjectParser_initWithBoolean_withInt_withOrgSpongycastleAsn1ASN1StreamParser_(true, tagNo, sp);
    }
    
#line 167
    return [sp readIndefWithInt:tagNo];
  }
  else {
    
#line 171
    OrgSpongycastleAsn1DefiniteLengthInputStream *defIn = new_OrgSpongycastleAsn1DefiniteLengthInputStream_initPackagePrivateWithJavaIoInputStream_withInt_(_in_, length);
    
#line 173
    if ((tag & OrgSpongycastleAsn1BERTags_APPLICATION) != 0) {
      
#line 175
      return new_OrgSpongycastleAsn1DERApplicationSpecific_initWithBoolean_withInt_withByteArray_(isConstructed, tagNo, [defIn toByteArray]);
    }
    
#line 178
    if ((tag & OrgSpongycastleAsn1BERTags_TAGGED) != 0) {
      
#line 180
      return new_OrgSpongycastleAsn1BERTaggedObjectParser_initWithBoolean_withInt_withOrgSpongycastleAsn1ASN1StreamParser_(isConstructed, tagNo, new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(defIn));
    }
    
#line 183
    if (isConstructed) {
      
#line 186
      switch (tagNo) {
        
#line 188
        case OrgSpongycastleAsn1BERTags_OCTET_STRING:
        
#line 192
        return new_OrgSpongycastleAsn1BEROctetStringParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(defIn));
        case OrgSpongycastleAsn1BERTags_SEQUENCE:
        return new_OrgSpongycastleAsn1DERSequenceParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(defIn));
        case OrgSpongycastleAsn1BERTags_SET:
        return new_OrgSpongycastleAsn1DERSetParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(defIn));
        case OrgSpongycastleAsn1BERTags_EXTERNAL:
        return new_OrgSpongycastleAsn1DERExternalParser_initWithOrgSpongycastleAsn1ASN1StreamParser_(new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(defIn));
        default:
        @throw new_JavaIoIOException_initWithNSString_(JreStrcat("$I$", @"unknown tag ", tagNo, @" encountered"));
      }
    }
    
#line 205
    switch (tagNo) {
      
#line 207
      case OrgSpongycastleAsn1BERTags_OCTET_STRING:
      return new_OrgSpongycastleAsn1DEROctetStringParser_initWithOrgSpongycastleAsn1DefiniteLengthInputStream_(defIn);
    }
    
#line 211
    @try {
      
#line 213
      return OrgSpongycastleAsn1ASN1InputStream_createPrimitiveDERObjectWithInt_withOrgSpongycastleAsn1DefiniteLengthInputStream_withByteArray2_(tagNo, defIn, tmpBuffers_);
    }
    @catch (JavaLangIllegalArgumentException *e) {
      
#line 217
      @throw new_OrgSpongycastleAsn1ASN1Exception_initWithNSString_withJavaLangThrowable_(@"corrupted stream detected", e);
    }
  }
}


#line 222
- (void)set00CheckWithBoolean:(jboolean)enabled {
  OrgSpongycastleAsn1ASN1StreamParser_set00CheckWithBoolean_(self, enabled);
}


#line 230
- (OrgSpongycastleAsn1ASN1EncodableVector *)readVector {
  
#line 232
  OrgSpongycastleAsn1ASN1EncodableVector *v = new_OrgSpongycastleAsn1ASN1EncodableVector_init();
  
#line 234
  id<OrgSpongycastleAsn1ASN1Encodable> obj;
  while ((obj = [self readObject]) != nil) {
    
#line 237
    if ([OrgSpongycastleAsn1InMemoryRepresentable_class_() isInstance:obj]) {
      
#line 239
      [v addWithOrgSpongycastleAsn1ASN1Encodable:[((id<OrgSpongycastleAsn1InMemoryRepresentable>) nil_chk(((id<OrgSpongycastleAsn1InMemoryRepresentable>) cast_check(obj, OrgSpongycastleAsn1InMemoryRepresentable_class_())))) getLoadedObject]];
    }
    else {
      
#line 243
      [v addWithOrgSpongycastleAsn1ASN1Encodable:[((id<OrgSpongycastleAsn1ASN1Encodable>) nil_chk(obj)) toASN1Primitive]];
    }
  }
  
#line 247
  return v;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 2, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1ASN1Encodable;", 0x0, 3, 4, 5, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1ASN1Encodable;", 0x0, 6, 7, 5, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1ASN1Primitive;", 0x0, 8, 7, 5, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1ASN1Encodable;", 0x1, -1, -1, 5, -1, -1, -1 },
    { NULL, "V", 0x2, 9, 10, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1ASN1EncodableVector;", 0x0, -1, -1, 5, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithJavaIoInputStream:);
  methods[1].selector = @selector(initWithJavaIoInputStream:withInt:);
  methods[2].selector = @selector(initWithByteArray:);
  methods[3].selector = @selector(readIndefWithInt:);
  methods[4].selector = @selector(readImplicitWithBoolean:withInt:);
  methods[5].selector = @selector(readTaggedObjectWithBoolean:withInt:);
  methods[6].selector = @selector(readObject);
  methods[7].selector = @selector(set00CheckWithBoolean:);
  methods[8].selector = @selector(readVector);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "_in_", "LJavaIoInputStream;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "_limit_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "tmpBuffers_", "[[B", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaIoInputStream;", "LJavaIoInputStream;I", "[B", "readIndef", "I", "LJavaIoIOException;", "readImplicit", "ZI", "readTaggedObject", "set00Check", "Z" };
  static const J2ObjcClassInfo _OrgSpongycastleAsn1ASN1StreamParser = { "ASN1StreamParser", "org.spongycastle.asn1", ptrTable, methods, fields, 7, 0x1, 9, 3, -1, -1, -1, -1, -1 };
  return &_OrgSpongycastleAsn1ASN1StreamParser;
}

@end


#line 16
void OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(OrgSpongycastleAsn1ASN1StreamParser *self, JavaIoInputStream *inArg) {
  OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_withInt_(self,
#line 19
  inArg, OrgSpongycastleAsn1StreamUtil_findLimitWithJavaIoInputStream_(inArg));
}


#line 16
OrgSpongycastleAsn1ASN1StreamParser *new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(JavaIoInputStream *inArg) {
  J2OBJC_NEW_IMPL(OrgSpongycastleAsn1ASN1StreamParser, initWithJavaIoInputStream_, inArg)
}


#line 16
OrgSpongycastleAsn1ASN1StreamParser *create_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_(JavaIoInputStream *inArg) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleAsn1ASN1StreamParser, initWithJavaIoInputStream_, inArg)
}


#line 22
void OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_withInt_(OrgSpongycastleAsn1ASN1StreamParser *self, JavaIoInputStream *inArg, jint limit) {
  NSObject_init(self);
  
#line 26
  self->_in_ = inArg;
  self->_limit_ = limit;
  
#line 29
  self->tmpBuffers_ = [IOSObjectArray newArrayWithLength:11 type:IOSClass_byteArray(1)];
}


#line 22
OrgSpongycastleAsn1ASN1StreamParser *new_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_withInt_(JavaIoInputStream *inArg, jint limit) {
  J2OBJC_NEW_IMPL(OrgSpongycastleAsn1ASN1StreamParser, initWithJavaIoInputStream_withInt_, inArg, limit)
}


#line 22
OrgSpongycastleAsn1ASN1StreamParser *create_OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_withInt_(JavaIoInputStream *inArg, jint limit) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleAsn1ASN1StreamParser, initWithJavaIoInputStream_withInt_, inArg, limit)
}


#line 32
void OrgSpongycastleAsn1ASN1StreamParser_initWithByteArray_(OrgSpongycastleAsn1ASN1StreamParser *self, IOSByteArray *encoding) {
  OrgSpongycastleAsn1ASN1StreamParser_initWithJavaIoInputStream_withInt_(self, new_JavaIoByteArrayInputStream_initWithByteArray_(
#line 35
  encoding), ((IOSByteArray *) nil_chk(encoding))->size_);
}


#line 32
OrgSpongycastleAsn1ASN1StreamParser *new_OrgSpongycastleAsn1ASN1StreamParser_initWithByteArray_(IOSByteArray *encoding) {
  J2OBJC_NEW_IMPL(OrgSpongycastleAsn1ASN1StreamParser, initWithByteArray_, encoding)
}


#line 32
OrgSpongycastleAsn1ASN1StreamParser *create_OrgSpongycastleAsn1ASN1StreamParser_initWithByteArray_(IOSByteArray *encoding) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleAsn1ASN1StreamParser, initWithByteArray_, encoding)
}


#line 222
void OrgSpongycastleAsn1ASN1StreamParser_set00CheckWithBoolean_(OrgSpongycastleAsn1ASN1StreamParser *self, jboolean enabled) {
  
#line 224
  if ([self->_in_ isKindOfClass:[OrgSpongycastleAsn1IndefiniteLengthInputStream class]]) {
    
#line 226
    [((OrgSpongycastleAsn1IndefiniteLengthInputStream *) nil_chk(((OrgSpongycastleAsn1IndefiniteLengthInputStream *) self->_in_))) setEofOn00WithBoolean:enabled];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgSpongycastleAsn1ASN1StreamParser)
