//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/org/spongycastle/x509/X509AttributeCertStoreSelector.java
//

#include "ASN1InputStream.h"
#include "ASN1ObjectIdentifier.h"
#include "ASN1Primitive.h"
#include "BCAttributeCertificateHolder.h"
#include "BCAttributeCertificateIssuer.h"
#include "DEROctetString.h"
#include "GeneralName.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "Target.h"
#include "TargetInformation.h"
#include "Targets.h"
#include "X509AttributeCertStoreSelector.h"
#include "X509AttributeCertificate.h"
#include "X509Extensions.h"
#include "java/io/IOException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/math/BigInteger.h"
#include "java/security/cert/CertificateExpiredException.h"
#include "java/security/cert/CertificateNotYetValidException.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/Date.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/Set.h"

#if !__has_feature(objc_arc)
#error "X509AttributeCertStoreSelector must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgSpongycastleX509X509AttributeCertStoreSelector () {
 @public
  OrgSpongycastleX509BCAttributeCertificateHolder *holder_;
  OrgSpongycastleX509BCAttributeCertificateIssuer *issuer_;
  JavaMathBigInteger *serialNumber_;
  JavaUtilDate *attributeCertificateValid_;
  id<OrgSpongycastleX509X509AttributeCertificate> attributeCert_;
  id<JavaUtilCollection> targetNames_;
  id<JavaUtilCollection> targetGroups_;
}

- (id<JavaUtilSet>)extractGeneralNamesWithJavaUtilCollection:(id<JavaUtilCollection>)names;

@end

J2OBJC_FIELD_SETTER(OrgSpongycastleX509X509AttributeCertStoreSelector, holder_, OrgSpongycastleX509BCAttributeCertificateHolder *)
J2OBJC_FIELD_SETTER(OrgSpongycastleX509X509AttributeCertStoreSelector, issuer_, OrgSpongycastleX509BCAttributeCertificateIssuer *)
J2OBJC_FIELD_SETTER(OrgSpongycastleX509X509AttributeCertStoreSelector, serialNumber_, JavaMathBigInteger *)
J2OBJC_FIELD_SETTER(OrgSpongycastleX509X509AttributeCertStoreSelector, attributeCertificateValid_, JavaUtilDate *)
J2OBJC_FIELD_SETTER(OrgSpongycastleX509X509AttributeCertStoreSelector, attributeCert_, id<OrgSpongycastleX509X509AttributeCertificate>)
J2OBJC_FIELD_SETTER(OrgSpongycastleX509X509AttributeCertStoreSelector, targetNames_, id<JavaUtilCollection>)
J2OBJC_FIELD_SETTER(OrgSpongycastleX509X509AttributeCertStoreSelector, targetGroups_, id<JavaUtilCollection>)

__attribute__((unused)) static id<JavaUtilSet> OrgSpongycastleX509X509AttributeCertStoreSelector_extractGeneralNamesWithJavaUtilCollection_(OrgSpongycastleX509X509AttributeCertStoreSelector *self, id<JavaUtilCollection> names);

#line 1 "/Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/org/spongycastle/x509/X509AttributeCertStoreSelector.java"


#line 32
@implementation OrgSpongycastleX509X509AttributeCertStoreSelector

J2OBJC_IGNORE_DESIGNATED_BEGIN

#line 52
- (instancetype)init {
  OrgSpongycastleX509X509AttributeCertStoreSelector_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END


#line 64
- (jboolean)matchWithId:(id)obj {
  
#line 66
  if (!([OrgSpongycastleX509X509AttributeCertificate_class_() isInstance:obj])) {
    
#line 68
    return false;
  }
  
#line 71
  id<OrgSpongycastleX509X509AttributeCertificate> attrCert = (id<OrgSpongycastleX509X509AttributeCertificate>) cast_check(obj, OrgSpongycastleX509X509AttributeCertificate_class_());
  
#line 73
  if (self->attributeCert_ != nil) {
    
#line 75
    if (![self->attributeCert_ isEqual:attrCert]) {
      
#line 77
      return false;
    }
  }
  if (serialNumber_ != nil) {
    
#line 82
    if (![((JavaMathBigInteger *) nil_chk([((id<OrgSpongycastleX509X509AttributeCertificate>) nil_chk(attrCert)) getSerialNumber])) isEqual:serialNumber_]) {
      
#line 84
      return false;
    }
  }
  if (holder_ != nil) {
    
#line 89
    if (![((OrgSpongycastleX509BCAttributeCertificateHolder *) nil_chk([((id<OrgSpongycastleX509X509AttributeCertificate>) nil_chk(attrCert)) getHolder])) isEqual:holder_]) {
      
#line 91
      return false;
    }
  }
  if (issuer_ != nil) {
    
#line 96
    if (![((OrgSpongycastleX509BCAttributeCertificateIssuer *) nil_chk([((id<OrgSpongycastleX509X509AttributeCertificate>) nil_chk(attrCert)) getIssuer])) isEqual:issuer_]) {
      
#line 98
      return false;
    }
  }
  
#line 102
  if (attributeCertificateValid_ != nil) {
    
#line 104
    @try {
      
#line 106
      [((id<OrgSpongycastleX509X509AttributeCertificate>) nil_chk(attrCert)) checkValidityWithJavaUtilDate:attributeCertificateValid_];
    }
    @catch (JavaSecurityCertCertificateExpiredException *e) {
      
#line 110
      return false;
    }
    @catch (JavaSecurityCertCertificateNotYetValidException *e) {
      
#line 114
      return false;
    }
  }
  if (![((id<JavaUtilCollection>) nil_chk(targetNames_)) isEmpty] || ![((id<JavaUtilCollection>) nil_chk(targetGroups_)) isEmpty]) {
    
#line 120
    IOSByteArray *targetInfoExt = [((id<OrgSpongycastleX509X509AttributeCertificate>) nil_chk(attrCert)) getExtensionValueWithNSString:
#line 121
    [((OrgSpongycastleAsn1ASN1ObjectIdentifier *) nil_chk(JreLoadStatic(OrgSpongycastleAsn1X509X509Extensions, TargetInformation))) getId]];
    if (targetInfoExt != nil) {
      
#line 124
      OrgSpongycastleAsn1X509TargetInformation *targetinfo;
      @try {
        
#line 127
        targetinfo = OrgSpongycastleAsn1X509TargetInformation_getInstanceWithId_(
#line 128
        [new_OrgSpongycastleAsn1ASN1InputStream_initWithByteArray_(
#line 129
        [((OrgSpongycastleAsn1DEROctetString *) nil_chk(((OrgSpongycastleAsn1DEROctetString *) cast_chk(OrgSpongycastleAsn1ASN1Primitive_fromByteArrayWithByteArray_(
#line 130
        targetInfoExt), [OrgSpongycastleAsn1DEROctetString class])))) getOctets]) readObject]);
      }
      @catch (
#line 133
      JavaIoIOException *e) {
        
#line 135
        return false;
      }
      @catch (JavaLangIllegalArgumentException *e) {
        
#line 139
        return false;
      }
      IOSObjectArray *targetss = [((OrgSpongycastleAsn1X509TargetInformation *) nil_chk(targetinfo)) getTargetsObjects];
      if (![((id<JavaUtilCollection>) nil_chk(targetNames_)) isEmpty]) {
        
#line 144
        jboolean found = false;
        
#line 146
        for (jint i = 0; i < ((IOSObjectArray *) nil_chk(targetss))->size_; i++) {
          
#line 148
          OrgSpongycastleAsn1X509Targets *t = IOSObjectArray_Get(targetss, i);
          IOSObjectArray *targets = [((OrgSpongycastleAsn1X509Targets *) nil_chk(t)) getTargets];
          for (jint j = 0; j < ((IOSObjectArray *) nil_chk(targets))->size_; j++) {
            
#line 152
            if ([((id<JavaUtilCollection>) nil_chk(targetNames_)) containsWithId:OrgSpongycastleAsn1X509GeneralName_getInstanceWithId_([((OrgSpongycastleAsn1X509Target *) nil_chk(IOSObjectArray_Get(targets, j))) getTargetName])]) {
              
#line 155
              found = true;
              break;
            }
          }
        }
        if (!found) {
          
#line 162
          return false;
        }
      }
      if (![((id<JavaUtilCollection>) nil_chk(targetGroups_)) isEmpty]) {
        
#line 167
        jboolean found = false;
        
#line 169
        for (jint i = 0; i < ((IOSObjectArray *) nil_chk(targetss))->size_; i++) {
          
#line 171
          OrgSpongycastleAsn1X509Targets *t = IOSObjectArray_Get(targetss, i);
          IOSObjectArray *targets = [((OrgSpongycastleAsn1X509Targets *) nil_chk(t)) getTargets];
          for (jint j = 0; j < ((IOSObjectArray *) nil_chk(targets))->size_; j++) {
            
#line 175
            if ([((id<JavaUtilCollection>) nil_chk(targetGroups_)) containsWithId:OrgSpongycastleAsn1X509GeneralName_getInstanceWithId_([((OrgSpongycastleAsn1X509Target *) nil_chk(IOSObjectArray_Get(targets, j))) getTargetGroup])]) {
              
#line 178
              found = true;
              break;
            }
          }
        }
        if (!found) {
          
#line 185
          return false;
        }
      }
    }
  }
  return true;
}


#line 198
- (id)java_clone {
  
#line 200
  OrgSpongycastleX509X509AttributeCertStoreSelector *sel = new_OrgSpongycastleX509X509AttributeCertStoreSelector_init();
  sel->attributeCert_ = attributeCert_;
  sel->attributeCertificateValid_ = [self getAttributeCertificateValid];
  sel->holder_ = holder_;
  sel->issuer_ = issuer_;
  sel->serialNumber_ = serialNumber_;
  sel->targetGroups_ = [self getTargetGroups];
  sel->targetNames_ = [self getTargetNames];
  return sel;
}


#line 216
- (id<OrgSpongycastleX509X509AttributeCertificate>)getAttributeCert {
  
#line 218
  return attributeCert_;
}


#line 227
- (void)setAttributeCertWithOrgSpongycastleX509X509AttributeCertificate:(id<OrgSpongycastleX509X509AttributeCertificate>)attributeCert {
  
#line 229
  self->attributeCert_ = attributeCert;
}


#line 237
- (JavaUtilDate *)getAttributeCertificateValid {
  
#line 239
  if (attributeCertificateValid_ != nil) {
    
#line 241
    return new_JavaUtilDate_initWithLong_([attributeCertificateValid_ getTime]);
  }
  
#line 244
  return nil;
}


#line 254
- (void)setAttributeCertificateValidWithJavaUtilDate:(JavaUtilDate *)attributeCertificateValid {
  
#line 256
  if (attributeCertificateValid != nil) {
    
#line 258
    self->attributeCertificateValid_ = new_JavaUtilDate_initWithLong_([attributeCertificateValid getTime]);
  }
  else {
    
#line 263
    self->attributeCertificateValid_ = nil;
  }
}


#line 272
- (OrgSpongycastleX509BCAttributeCertificateHolder *)getHolder {
  
#line 274
  return holder_;
}


#line 282
- (void)setHolderWithOrgSpongycastleX509BCAttributeCertificateHolder:(OrgSpongycastleX509BCAttributeCertificateHolder *)holder {
  
#line 284
  self->holder_ = holder;
}


#line 292
- (OrgSpongycastleX509BCAttributeCertificateIssuer *)getIssuer {
  
#line 294
  return issuer_;
}


#line 303
- (void)setIssuerWithOrgSpongycastleX509BCAttributeCertificateIssuer:(OrgSpongycastleX509BCAttributeCertificateIssuer *)issuer {
  
#line 305
  self->issuer_ = issuer;
}


#line 313
- (JavaMathBigInteger *)getSerialNumber {
  
#line 315
  return serialNumber_;
}


#line 324
- (void)setSerialNumberWithJavaMathBigInteger:(JavaMathBigInteger *)serialNumber {
  
#line 326
  self->serialNumber_ = serialNumber;
}


#line 341
- (void)addTargetNameWithOrgSpongycastleAsn1X509GeneralName:(OrgSpongycastleAsn1X509GeneralName *)name {
  
#line 343
  [((id<JavaUtilCollection>) nil_chk(targetNames_)) addWithId:name];
}


#line 359
- (void)addTargetNameWithByteArray:(IOSByteArray *)name {
  
#line 361
  [self addTargetNameWithOrgSpongycastleAsn1X509GeneralName:OrgSpongycastleAsn1X509GeneralName_getInstanceWithId_(OrgSpongycastleAsn1ASN1Primitive_fromByteArrayWithByteArray_(name))];
}


#line 376
- (void)setTargetNamesWithJavaUtilCollection:(id<JavaUtilCollection>)names {
  
#line 378
  targetNames_ = OrgSpongycastleX509X509AttributeCertStoreSelector_extractGeneralNamesWithJavaUtilCollection_(self, names);
}


#line 390
- (id<JavaUtilCollection>)getTargetNames {
  
#line 392
  return JavaUtilCollections_unmodifiableCollectionWithJavaUtilCollection_(targetNames_);
}


#line 407
- (void)addTargetGroupWithOrgSpongycastleAsn1X509GeneralName:(OrgSpongycastleAsn1X509GeneralName *)group {
  
#line 409
  [((id<JavaUtilCollection>) nil_chk(targetGroups_)) addWithId:group];
}


#line 425
- (void)addTargetGroupWithByteArray:(IOSByteArray *)name {
  
#line 427
  [self addTargetGroupWithOrgSpongycastleAsn1X509GeneralName:OrgSpongycastleAsn1X509GeneralName_getInstanceWithId_(OrgSpongycastleAsn1ASN1Primitive_fromByteArrayWithByteArray_(name))];
}


#line 442
- (void)setTargetGroupsWithJavaUtilCollection:(id<JavaUtilCollection>)names {
  
#line 444
  targetGroups_ = OrgSpongycastleX509X509AttributeCertStoreSelector_extractGeneralNamesWithJavaUtilCollection_(self, names);
}


#line 457
- (id<JavaUtilCollection>)getTargetGroups {
  
#line 459
  return JavaUtilCollections_unmodifiableCollectionWithJavaUtilCollection_(targetGroups_);
}


#line 462
- (id<JavaUtilSet>)extractGeneralNamesWithJavaUtilCollection:(id<JavaUtilCollection>)names {
  return OrgSpongycastleX509X509AttributeCertStoreSelector_extractGeneralNamesWithJavaUtilCollection_(self, names);
}

- (id)clone {
  return [self java_clone];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 0, 1, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 2, -1, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleX509X509AttributeCertificate;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 3, 4, -1, -1, -1, -1 },
    { NULL, "LJavaUtilDate;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 5, 6, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleX509BCAttributeCertificateHolder;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 7, 8, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleX509BCAttributeCertificateIssuer;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 9, 10, -1, -1, -1, -1 },
    { NULL, "LJavaMathBigInteger;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 11, 12, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 13, 14, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 13, 15, 16, -1, -1, -1 },
    { NULL, "V", 0x1, 17, 18, 16, -1, -1, -1 },
    { NULL, "LJavaUtilCollection;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 19, 14, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 19, 15, 16, -1, -1, -1 },
    { NULL, "V", 0x1, 20, 18, 16, -1, -1, -1 },
    { NULL, "LJavaUtilCollection;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x2, 21, 18, 16, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(matchWithId:);
  methods[2].selector = @selector(java_clone);
  methods[3].selector = @selector(getAttributeCert);
  methods[4].selector = @selector(setAttributeCertWithOrgSpongycastleX509X509AttributeCertificate:);
  methods[5].selector = @selector(getAttributeCertificateValid);
  methods[6].selector = @selector(setAttributeCertificateValidWithJavaUtilDate:);
  methods[7].selector = @selector(getHolder);
  methods[8].selector = @selector(setHolderWithOrgSpongycastleX509BCAttributeCertificateHolder:);
  methods[9].selector = @selector(getIssuer);
  methods[10].selector = @selector(setIssuerWithOrgSpongycastleX509BCAttributeCertificateIssuer:);
  methods[11].selector = @selector(getSerialNumber);
  methods[12].selector = @selector(setSerialNumberWithJavaMathBigInteger:);
  methods[13].selector = @selector(addTargetNameWithOrgSpongycastleAsn1X509GeneralName:);
  methods[14].selector = @selector(addTargetNameWithByteArray:);
  methods[15].selector = @selector(setTargetNamesWithJavaUtilCollection:);
  methods[16].selector = @selector(getTargetNames);
  methods[17].selector = @selector(addTargetGroupWithOrgSpongycastleAsn1X509GeneralName:);
  methods[18].selector = @selector(addTargetGroupWithByteArray:);
  methods[19].selector = @selector(setTargetGroupsWithJavaUtilCollection:);
  methods[20].selector = @selector(getTargetGroups);
  methods[21].selector = @selector(extractGeneralNamesWithJavaUtilCollection:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "holder_", "LOrgSpongycastleX509BCAttributeCertificateHolder;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "issuer_", "LOrgSpongycastleX509BCAttributeCertificateIssuer;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "serialNumber_", "LJavaMathBigInteger;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "attributeCertificateValid_", "LJavaUtilDate;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "attributeCert_", "LOrgSpongycastleX509X509AttributeCertificate;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "targetNames_", "LJavaUtilCollection;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "targetGroups_", "LJavaUtilCollection;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "match", "LNSObject;", "clone", "setAttributeCert", "LOrgSpongycastleX509X509AttributeCertificate;", "setAttributeCertificateValid", "LJavaUtilDate;", "setHolder", "LOrgSpongycastleX509BCAttributeCertificateHolder;", "setIssuer", "LOrgSpongycastleX509BCAttributeCertificateIssuer;", "setSerialNumber", "LJavaMathBigInteger;", "addTargetName", "LOrgSpongycastleAsn1X509GeneralName;", "[B", "LJavaIoIOException;", "setTargetNames", "LJavaUtilCollection;", "addTargetGroup", "setTargetGroups", "extractGeneralNames" };
  static const J2ObjcClassInfo _OrgSpongycastleX509X509AttributeCertStoreSelector = { "X509AttributeCertStoreSelector", "org.spongycastle.x509", ptrTable, methods, fields, 7, 0x1, 22, 7, -1, -1, -1, -1, -1 };
  return &_OrgSpongycastleX509X509AttributeCertStoreSelector;
}

- (id)copyWithZone:(NSZone *)zone {
  return [self java_clone];
}

@end


#line 52
void OrgSpongycastleX509X509AttributeCertStoreSelector_init(OrgSpongycastleX509X509AttributeCertStoreSelector *self) {
  NSObject_init(self);
  self->targetNames_ = new_JavaUtilHashSet_init();
  self->targetGroups_ = new_JavaUtilHashSet_init();
}


#line 52
OrgSpongycastleX509X509AttributeCertStoreSelector *new_OrgSpongycastleX509X509AttributeCertStoreSelector_init() {
  J2OBJC_NEW_IMPL(OrgSpongycastleX509X509AttributeCertStoreSelector, init)
}


#line 52
OrgSpongycastleX509X509AttributeCertStoreSelector *create_OrgSpongycastleX509X509AttributeCertStoreSelector_init() {
  J2OBJC_CREATE_IMPL(OrgSpongycastleX509X509AttributeCertStoreSelector, init)
}


#line 462
id<JavaUtilSet> OrgSpongycastleX509X509AttributeCertStoreSelector_extractGeneralNamesWithJavaUtilCollection_(OrgSpongycastleX509X509AttributeCertStoreSelector *self, id<JavaUtilCollection> names) {
  
#line 465
  if (names == nil || [names isEmpty]) {
    
#line 467
    return new_JavaUtilHashSet_init();
  }
  id<JavaUtilSet> temp = new_JavaUtilHashSet_init();
  for (id<JavaUtilIterator> it = [names iterator]; [((id<JavaUtilIterator>) nil_chk(it)) hasNext]; ) {
    
#line 472
    id o = [it next];
    if ([o isKindOfClass:[OrgSpongycastleAsn1X509GeneralName class]]) {
      
#line 475
      [temp addWithId:o];
    }
    else {
      
#line 479
      [temp addWithId:OrgSpongycastleAsn1X509GeneralName_getInstanceWithId_(OrgSpongycastleAsn1ASN1Primitive_fromByteArrayWithByteArray_((IOSByteArray *) cast_chk(o, [IOSByteArray class])))];
    }
  }
  return temp;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgSpongycastleX509X509AttributeCertStoreSelector)
