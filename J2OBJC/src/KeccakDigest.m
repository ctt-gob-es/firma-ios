//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/org/spongycastle/crypto/digests/KeccakDigest.java
//

#include "Arrays.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "KeccakDigest.h"
#include "Pack.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/Math.h"
#include "java/lang/System.h"

#if !__has_feature(objc_arc)
#error "KeccakDigest must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgSpongycastleCryptoDigestsKeccakDigest ()

+ (IOSLongArray *)keccakInitializeRoundConstants;

+ (jboolean)LFSR86540WithByteArray:(IOSByteArray *)LFSR;

+ (IOSIntArray *)keccakInitializeRhoOffsets;

- (void)init__WithInt:(jint)bitLength OBJC_METHOD_FAMILY_NONE;

- (void)initSpongeWithInt:(jint)rate OBJC_METHOD_FAMILY_NONE;

- (void)padAndSwitchToSqueezingPhase;

- (void)KeccakAbsorbWithByteArray:(IOSByteArray *)data
                          withInt:(jint)off;

- (void)KeccakExtract;

- (void)KeccakPermutation;

+ (jlong)leftRotateWithLong:(jlong)v
                    withInt:(jint)r;

+ (void)thetaWithLongArray:(IOSLongArray *)A;

+ (void)rhoWithLongArray:(IOSLongArray *)A;

+ (void)piWithLongArray:(IOSLongArray *)A;

+ (void)chiWithLongArray:(IOSLongArray *)A;

+ (void)iotaWithLongArray:(IOSLongArray *)A
                  withInt:(jint)indexRound;

@end

inline IOSLongArray *OrgSpongycastleCryptoDigestsKeccakDigest_get_KeccakRoundConstants(void);
inline IOSLongArray *OrgSpongycastleCryptoDigestsKeccakDigest_set_KeccakRoundConstants(IOSLongArray *value);
static IOSLongArray *OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRoundConstants;
J2OBJC_STATIC_FIELD_OBJ(OrgSpongycastleCryptoDigestsKeccakDigest, KeccakRoundConstants, IOSLongArray *)

inline IOSIntArray *OrgSpongycastleCryptoDigestsKeccakDigest_get_KeccakRhoOffsets(void);
inline IOSIntArray *OrgSpongycastleCryptoDigestsKeccakDigest_set_KeccakRhoOffsets(IOSIntArray *value);
static IOSIntArray *OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRhoOffsets;
J2OBJC_STATIC_FIELD_OBJ(OrgSpongycastleCryptoDigestsKeccakDigest, KeccakRhoOffsets, IOSIntArray *)

__attribute__((unused)) static IOSLongArray *OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRoundConstants(void);

__attribute__((unused)) static jboolean OrgSpongycastleCryptoDigestsKeccakDigest_LFSR86540WithByteArray_(IOSByteArray *LFSR);

__attribute__((unused)) static IOSIntArray *OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRhoOffsets(void);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_init__WithInt_(OrgSpongycastleCryptoDigestsKeccakDigest *self, jint bitLength);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_initSpongeWithInt_(OrgSpongycastleCryptoDigestsKeccakDigest *self, jint rate);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_padAndSwitchToSqueezingPhase(OrgSpongycastleCryptoDigestsKeccakDigest *self);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_KeccakAbsorbWithByteArray_withInt_(OrgSpongycastleCryptoDigestsKeccakDigest *self, IOSByteArray *data, jint off);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_KeccakExtract(OrgSpongycastleCryptoDigestsKeccakDigest *self);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_KeccakPermutation(OrgSpongycastleCryptoDigestsKeccakDigest *self);

__attribute__((unused)) static jlong OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(jlong v, jint r);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_thetaWithLongArray_(IOSLongArray *A);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_rhoWithLongArray_(IOSLongArray *A);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_piWithLongArray_(IOSLongArray *A);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_chiWithLongArray_(IOSLongArray *A);

__attribute__((unused)) static void OrgSpongycastleCryptoDigestsKeccakDigest_iotaWithLongArray_withInt_(IOSLongArray *A, jint indexRound);

#line 1 "/Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/org/spongycastle/crypto/digests/KeccakDigest.java"

J2OBJC_INITIALIZED_DEFN(OrgSpongycastleCryptoDigestsKeccakDigest)


#line 12
@implementation OrgSpongycastleCryptoDigestsKeccakDigest


#line 19
+ (IOSLongArray *)keccakInitializeRoundConstants {
  return OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRoundConstants();
}


#line 43
+ (jboolean)LFSR86540WithByteArray:(IOSByteArray *)LFSR {
  return OrgSpongycastleCryptoDigestsKeccakDigest_LFSR86540WithByteArray_(LFSR);
}


#line 58
+ (IOSIntArray *)keccakInitializeRhoOffsets {
  return OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRhoOffsets();
}

J2OBJC_IGNORE_DESIGNATED_BEGIN

#line 84
- (instancetype)init {
  OrgSpongycastleCryptoDigestsKeccakDigest_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END


#line 89
- (instancetype)initWithInt:(jint)bitLength {
  OrgSpongycastleCryptoDigestsKeccakDigest_initWithInt_(self, bitLength);
  return self;
}

- (instancetype)initWithOrgSpongycastleCryptoDigestsKeccakDigest:(OrgSpongycastleCryptoDigestsKeccakDigest *)source {
  OrgSpongycastleCryptoDigestsKeccakDigest_initWithOrgSpongycastleCryptoDigestsKeccakDigest_(self, source);
  return self;
}


#line 104
- (NSString *)getAlgorithmName {
  
#line 106
  return JreStrcat("$I", @"Keccak-", fixedOutputLength_);
}


#line 109
- (jint)getDigestSize {
  
#line 111
  return JreIntDiv(fixedOutputLength_, 8);
}


#line 114
- (void)updateWithByte:(jbyte)inArg {
  
#line 116
  [self absorbWithByteArray:[IOSByteArray newArrayWithBytes:(jbyte[]){ inArg } count:1] withInt:0 withInt:1];
}


#line 119
- (void)updateWithByteArray:(IOSByteArray *)inArg
                    withInt:(jint)inOff
                    withInt:(jint)len {
  
#line 121
  [self absorbWithByteArray:inArg withInt:inOff withInt:len];
}


#line 124
- (jint)doFinalWithByteArray:(IOSByteArray *)outArg
                     withInt:(jint)outOff {
  [self squeezeWithByteArray:outArg withInt:outOff withLong:fixedOutputLength_];
  
#line 128
  [self reset];
  
#line 130
  return [self getDigestSize];
}


#line 136
- (jint)doFinalWithByteArray:(IOSByteArray *)outArg
                     withInt:(jint)outOff
                    withByte:(jbyte)partialByte
                     withInt:(jint)partialBits {
  
#line 138
  if (partialBits > 0) {
    
#line 140
    [self absorbBitsWithInt:partialByte withInt:partialBits];
  }
  
#line 143
  [self squeezeWithByteArray:outArg withInt:outOff withLong:fixedOutputLength_];
  
#line 145
  [self reset];
  
#line 147
  return [self getDigestSize];
}


#line 150
- (void)reset {
  
#line 152
  OrgSpongycastleCryptoDigestsKeccakDigest_init__WithInt_(self, fixedOutputLength_);
}


#line 160
- (jint)getByteLength {
  
#line 162
  return JreIntDiv(rate_, 8);
}


#line 165
- (void)init__WithInt:(jint)bitLength {
  OrgSpongycastleCryptoDigestsKeccakDigest_init__WithInt_(self, bitLength);
}


#line 182
- (void)initSpongeWithInt:(jint)rate {
  OrgSpongycastleCryptoDigestsKeccakDigest_initSpongeWithInt_(self, rate);
}


#line 200
- (void)absorbWithByteArray:(IOSByteArray *)data
                    withInt:(jint)off
                    withInt:(jint)len {
  
#line 202
  if ((JreIntMod(bitsInQueue_, 8)) != 0) {
    
#line 204
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"attempt to absorb with odd length queue");
  }
  if (squeezing_) {
    
#line 208
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"attempt to absorb while squeezing");
  }
  
#line 211
  jint bytesInQueue = JreRShift32(bitsInQueue_, 3);
  jint rateBytes = JreRShift32(rate_, 3);
  
#line 214
  jint count = 0;
  while (count < len) {
    
#line 217
    if (bytesInQueue == 0 && count <= (len - rateBytes)) {
      
#line 219
      do {
        
#line 221
        OrgSpongycastleCryptoDigestsKeccakDigest_KeccakAbsorbWithByteArray_withInt_(self, data, off + count);
        count += rateBytes;
      }
      while (count <= (len - rateBytes));
    }
    else {
      
#line 228
      jint partialBlock = JavaLangMath_minWithInt_withInt_(rateBytes - bytesInQueue, len - count);
      JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(data, off + count, dataQueue_, bytesInQueue, partialBlock);
      
#line 231
      bytesInQueue += partialBlock;
      count += partialBlock;
      
#line 234
      if (bytesInQueue == rateBytes) {
        
#line 236
        OrgSpongycastleCryptoDigestsKeccakDigest_KeccakAbsorbWithByteArray_withInt_(self, dataQueue_, 0);
        bytesInQueue = 0;
      }
    }
  }
  
#line 242
  bitsInQueue_ = JreLShift32(bytesInQueue, 3);
}


#line 245
- (void)absorbBitsWithInt:(jint)data
                  withInt:(jint)bits {
  if (bits < 1 || bits > 7) {
    
#line 249
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"'bits' must be in the range 1 to 7");
  }
  if ((JreIntMod(bitsInQueue_, 8)) != 0) {
    
#line 253
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"attempt to absorb with odd length queue");
  }
  if (squeezing_) {
    
#line 257
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"attempt to absorb while squeezing");
  }
  
#line 260
  jint mask = (JreLShift32(1, bits)) - 1;
  *IOSByteArray_GetRef(nil_chk(dataQueue_), JreRShift32(bitsInQueue_, 3)) = (jbyte) (data & mask);
  
#line 264
  bitsInQueue_ += bits;
}


#line 267
- (void)padAndSwitchToSqueezingPhase {
  OrgSpongycastleCryptoDigestsKeccakDigest_padAndSwitchToSqueezingPhase(self);
}


#line 303
- (void)squeezeWithByteArray:(IOSByteArray *)output
                     withInt:(jint)offset
                    withLong:(jlong)outputLength {
  
#line 305
  if (!squeezing_) {
    
#line 307
    OrgSpongycastleCryptoDigestsKeccakDigest_padAndSwitchToSqueezingPhase(self);
  }
  if ((JreLongMod(outputLength, 8)) != 0) {
    
#line 311
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"outputLength not a multiple of 8");
  }
  
#line 314
  jlong i = 0;
  while (i < outputLength) {
    
#line 317
    if (bitsInQueue_ == 0) {
      
#line 319
      OrgSpongycastleCryptoDigestsKeccakDigest_KeccakPermutation(self);
      OrgSpongycastleCryptoDigestsKeccakDigest_KeccakExtract(self);
      bitsInQueue_ = rate_;
    }
    
#line 324
    jint partialBlock = (jint) JavaLangMath_minWithLong_withLong_((jlong) bitsInQueue_, outputLength - i);
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(dataQueue_, JreIntDiv((rate_ - bitsInQueue_), 8), output, offset + (jint) (JreLongDiv(i, 8)), JreIntDiv(partialBlock, 8));
    bitsInQueue_ -= partialBlock;
    i += partialBlock;
  }
}


#line 331
- (void)KeccakAbsorbWithByteArray:(IOSByteArray *)data
                          withInt:(jint)off {
  OrgSpongycastleCryptoDigestsKeccakDigest_KeccakAbsorbWithByteArray_withInt_(self, data, off);
}


#line 343
- (void)KeccakExtract {
  OrgSpongycastleCryptoDigestsKeccakDigest_KeccakExtract(self);
}


#line 348
- (void)KeccakPermutation {
  OrgSpongycastleCryptoDigestsKeccakDigest_KeccakPermutation(self);
}


#line 373
+ (jlong)leftRotateWithLong:(jlong)v
                    withInt:(jint)r {
  return OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(v, r);
}

+ (void)thetaWithLongArray:(IOSLongArray *)A {
  OrgSpongycastleCryptoDigestsKeccakDigest_thetaWithLongArray_(A);
}


#line 427
+ (void)rhoWithLongArray:(IOSLongArray *)A {
  OrgSpongycastleCryptoDigestsKeccakDigest_rhoWithLongArray_(A);
}


#line 436
+ (void)piWithLongArray:(IOSLongArray *)A {
  OrgSpongycastleCryptoDigestsKeccakDigest_piWithLongArray_(A);
}


#line 465
+ (void)chiWithLongArray:(IOSLongArray *)A {
  OrgSpongycastleCryptoDigestsKeccakDigest_chiWithLongArray_(A);
}


#line 485
+ (void)iotaWithLongArray:(IOSLongArray *)A
                  withInt:(jint)indexRound {
  OrgSpongycastleCryptoDigestsKeccakDigest_iotaWithLongArray_withInt_(A, indexRound);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "[J", 0xa, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0xa, 0, 1, -1, -1, -1, -1 },
    { NULL, "[I", 0xa, -1, -1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 2, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 3, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 6, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 7, 8, -1, -1, -1, -1 },
    { NULL, "I", 0x4, 7, 9, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 10, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 11, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 12, 6, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 13, 14, -1, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 15, 16, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 17, 8, -1, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "J", 0xa, 18, 19, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 20, 21, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 22, 21, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 23, 21, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 24, 21, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 25, 26, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(keccakInitializeRoundConstants);
  methods[1].selector = @selector(LFSR86540WithByteArray:);
  methods[2].selector = @selector(keccakInitializeRhoOffsets);
  methods[3].selector = @selector(init);
  methods[4].selector = @selector(initWithInt:);
  methods[5].selector = @selector(initWithOrgSpongycastleCryptoDigestsKeccakDigest:);
  methods[6].selector = @selector(getAlgorithmName);
  methods[7].selector = @selector(getDigestSize);
  methods[8].selector = @selector(updateWithByte:);
  methods[9].selector = @selector(updateWithByteArray:withInt:withInt:);
  methods[10].selector = @selector(doFinalWithByteArray:withInt:);
  methods[11].selector = @selector(doFinalWithByteArray:withInt:withByte:withInt:);
  methods[12].selector = @selector(reset);
  methods[13].selector = @selector(getByteLength);
  methods[14].selector = @selector(init__WithInt:);
  methods[15].selector = @selector(initSpongeWithInt:);
  methods[16].selector = @selector(absorbWithByteArray:withInt:withInt:);
  methods[17].selector = @selector(absorbBitsWithInt:withInt:);
  methods[18].selector = @selector(padAndSwitchToSqueezingPhase);
  methods[19].selector = @selector(squeezeWithByteArray:withInt:withLong:);
  methods[20].selector = @selector(KeccakAbsorbWithByteArray:withInt:);
  methods[21].selector = @selector(KeccakExtract);
  methods[22].selector = @selector(KeccakPermutation);
  methods[23].selector = @selector(leftRotateWithLong:withInt:);
  methods[24].selector = @selector(thetaWithLongArray:);
  methods[25].selector = @selector(rhoWithLongArray:);
  methods[26].selector = @selector(piWithLongArray:);
  methods[27].selector = @selector(chiWithLongArray:);
  methods[28].selector = @selector(iotaWithLongArray:withInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "KeccakRoundConstants", "[J", .constantValue.asLong = 0, 0xa, -1, 27, -1, -1 },
    { "KeccakRhoOffsets", "[I", .constantValue.asLong = 0, 0xa, -1, 28, -1, -1 },
    { "state_", "[J", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "dataQueue_", "[B", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "rate_", "I", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "bitsInQueue_", "I", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "fixedOutputLength_", "I", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "squeezing_", "Z", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LFSR86540", "[B", "I", "LOrgSpongycastleCryptoDigestsKeccakDigest;", "update", "B", "[BII", "doFinal", "[BI", "[BIBI", "init", "initSponge", "absorb", "absorbBits", "II", "squeeze", "[BIJ", "KeccakAbsorb", "leftRotate", "JI", "theta", "[J", "rho", "pi", "chi", "iota", "[JI", &OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRoundConstants, &OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRhoOffsets };
  static const J2ObjcClassInfo _OrgSpongycastleCryptoDigestsKeccakDigest = { "KeccakDigest", "org.spongycastle.crypto.digests", ptrTable, methods, fields, 7, 0x1, 29, 8, -1, -1, -1, -1, -1 };
  return &_OrgSpongycastleCryptoDigestsKeccakDigest;
}

+ (void)initialize {
  if (self == [OrgSpongycastleCryptoDigestsKeccakDigest class]) {
    OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRoundConstants = OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRoundConstants();
    OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRhoOffsets = OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRhoOffsets();
    J2OBJC_SET_INITIALIZED(OrgSpongycastleCryptoDigestsKeccakDigest)
  }
}

@end


#line 19
IOSLongArray *OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRoundConstants() {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  IOSLongArray *keccakRoundConstants = [IOSLongArray newArrayWithLength:24];
  IOSByteArray *LFSRstate = [IOSByteArray newArrayWithLength:1];
  
#line 24
  *IOSByteArray_GetRef(LFSRstate, 0) = (jint) 0x01;
  jint i;
  
#line 25
  jint j;
  
#line 25
  jint bitPosition;
  
#line 27
  for (i = 0; i < 24; i++) {
    
#line 29
    *IOSLongArray_GetRef(keccakRoundConstants, i) = 0;
    for (j = 0; j < 7; j++) {
      
#line 32
      bitPosition = (JreLShift32(1, j)) - 1;
      if (OrgSpongycastleCryptoDigestsKeccakDigest_LFSR86540WithByteArray_(LFSRstate)) {
        
#line 35
        *IOSLongArray_GetRef(keccakRoundConstants, i) ^= JreLShift64(1LL, bitPosition);
      }
    }
  }
  
#line 40
  return keccakRoundConstants;
}


#line 43
jboolean OrgSpongycastleCryptoDigestsKeccakDigest_LFSR86540WithByteArray_(IOSByteArray *LFSR) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  jboolean result = (((IOSByteArray_Get(nil_chk(LFSR), 0)) & (jint) 0x01) != 0);
  if (((IOSByteArray_Get(LFSR, 0)) & (jint) 0x80) != 0) {
    
#line 48
    *IOSByteArray_GetRef(LFSR, 0) = (jbyte) ((JreLShift32((IOSByteArray_Get(LFSR, 0)), 1)) ^ (jint) 0x71);
  }
  else {
    
#line 52
    JreLShiftAssignByte(IOSByteArray_GetRef(LFSR, 0), 1);
  }
  
#line 55
  return result;
}


#line 58
IOSIntArray *OrgSpongycastleCryptoDigestsKeccakDigest_keccakInitializeRhoOffsets() {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  IOSIntArray *keccakRhoOffsets = [IOSIntArray newArrayWithLength:25];
  jint x;
  
#line 61
  jint y;
  
#line 61
  jint t;
  
#line 61
  jint newX;
  
#line 61
  jint newY;
  
#line 63
  *IOSIntArray_GetRef(keccakRhoOffsets, ((JreIntMod((0), 5)) + 5 * (JreIntMod((0), 5)))) = 0;
  x = 1;
  y = 0;
  for (t = 0; t < 24; t++) {
    
#line 68
    *IOSIntArray_GetRef(keccakRhoOffsets, ((JreIntMod((x), 5)) + 5 * (JreIntMod((y), 5)))) = JreIntMod((JreIntDiv((t + 1) * (t + 2), 2)), 64);
    newX = JreIntMod((0 * x + 1 * y), 5);
    newY = JreIntMod((2 * x + 3 * y), 5);
    x = newX;
    y = newY;
  }
  return keccakRhoOffsets;
}


#line 84
void OrgSpongycastleCryptoDigestsKeccakDigest_init(OrgSpongycastleCryptoDigestsKeccakDigest *self) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initWithInt_(self,
#line 86
  288);
}


#line 84
OrgSpongycastleCryptoDigestsKeccakDigest *new_OrgSpongycastleCryptoDigestsKeccakDigest_init() {
  J2OBJC_NEW_IMPL(OrgSpongycastleCryptoDigestsKeccakDigest, init)
}


#line 84
OrgSpongycastleCryptoDigestsKeccakDigest *create_OrgSpongycastleCryptoDigestsKeccakDigest_init() {
  J2OBJC_CREATE_IMPL(OrgSpongycastleCryptoDigestsKeccakDigest, init)
}


#line 89
void OrgSpongycastleCryptoDigestsKeccakDigest_initWithInt_(OrgSpongycastleCryptoDigestsKeccakDigest *self, jint bitLength) {
  NSObject_init(self);
  self->state_ = [IOSLongArray newArrayWithLength:
#line 77
  (JreIntDiv(1600, 64))];
  self->dataQueue_ = [IOSByteArray newArrayWithLength:(JreIntDiv(1536, 8))];
  
#line 91
  OrgSpongycastleCryptoDigestsKeccakDigest_init__WithInt_(self, bitLength);
}


#line 89
OrgSpongycastleCryptoDigestsKeccakDigest *new_OrgSpongycastleCryptoDigestsKeccakDigest_initWithInt_(jint bitLength) {
  J2OBJC_NEW_IMPL(OrgSpongycastleCryptoDigestsKeccakDigest, initWithInt_, bitLength)
}


#line 89
OrgSpongycastleCryptoDigestsKeccakDigest *create_OrgSpongycastleCryptoDigestsKeccakDigest_initWithInt_(jint bitLength) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleCryptoDigestsKeccakDigest, initWithInt_, bitLength)
}


#line 94
void OrgSpongycastleCryptoDigestsKeccakDigest_initWithOrgSpongycastleCryptoDigestsKeccakDigest_(OrgSpongycastleCryptoDigestsKeccakDigest *self, OrgSpongycastleCryptoDigestsKeccakDigest *source) {
  NSObject_init(self);
  self->state_ = [IOSLongArray newArrayWithLength:
#line 77
  (JreIntDiv(1600, 64))];
  self->dataQueue_ = [IOSByteArray newArrayWithLength:(JreIntDiv(1536, 8))];
  
#line 96
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(((OrgSpongycastleCryptoDigestsKeccakDigest *) nil_chk(source))->state_, 0, self->state_, 0, source->state_->size_);
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(source->dataQueue_, 0, self->dataQueue_, 0, ((IOSByteArray *) nil_chk(source->dataQueue_))->size_);
  self->rate_ = source->rate_;
  self->bitsInQueue_ = source->bitsInQueue_;
  self->fixedOutputLength_ = source->fixedOutputLength_;
  self->squeezing_ = source->squeezing_;
}


#line 94
OrgSpongycastleCryptoDigestsKeccakDigest *new_OrgSpongycastleCryptoDigestsKeccakDigest_initWithOrgSpongycastleCryptoDigestsKeccakDigest_(OrgSpongycastleCryptoDigestsKeccakDigest *source) {
  J2OBJC_NEW_IMPL(OrgSpongycastleCryptoDigestsKeccakDigest, initWithOrgSpongycastleCryptoDigestsKeccakDigest_, source)
}


#line 94
OrgSpongycastleCryptoDigestsKeccakDigest *create_OrgSpongycastleCryptoDigestsKeccakDigest_initWithOrgSpongycastleCryptoDigestsKeccakDigest_(OrgSpongycastleCryptoDigestsKeccakDigest *source) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleCryptoDigestsKeccakDigest, initWithOrgSpongycastleCryptoDigestsKeccakDigest_, source)
}


#line 165
void OrgSpongycastleCryptoDigestsKeccakDigest_init__WithInt_(OrgSpongycastleCryptoDigestsKeccakDigest *self, jint bitLength) {
  
#line 167
  switch (bitLength) {
    
#line 169
    case 128:
    case 224:
    case 256:
    case 288:
    case 384:
    case 512:
    OrgSpongycastleCryptoDigestsKeccakDigest_initSpongeWithInt_(self, 1600 - (JreLShift32(bitLength, 1)));
    break;
    default:
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"bitLength must be one of 128, 224, 256, 288, 384, or 512.");
  }
}


#line 182
void OrgSpongycastleCryptoDigestsKeccakDigest_initSpongeWithInt_(OrgSpongycastleCryptoDigestsKeccakDigest *self, jint rate) {
  
#line 184
  if ((rate <= 0) || (rate >= 1600) || ((JreIntMod(rate, 64)) != 0)) {
    
#line 186
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"invalid rate value");
  }
  
#line 189
  self->rate_ = rate;
  for (jint i = 0; i < ((IOSLongArray *) nil_chk(self->state_))->size_; ++i) {
    
#line 192
    *IOSLongArray_GetRef(self->state_, i) = 0LL;
  }
  OrgSpongycastleUtilArrays_fillWithByteArray_withByte_(self->dataQueue_, (jbyte) 0);
  self->bitsInQueue_ = 0;
  self->squeezing_ = false;
  self->fixedOutputLength_ = JreIntDiv((1600 - rate), 2);
}


#line 267
void OrgSpongycastleCryptoDigestsKeccakDigest_padAndSwitchToSqueezingPhase(OrgSpongycastleCryptoDigestsKeccakDigest *self) {
  
#line 269
  *IOSByteArray_GetRef(nil_chk(self->dataQueue_), JreRShift32(self->bitsInQueue_, 3)) |= (jbyte) (JreLShift64(1LL, (self->bitsInQueue_ & 7)));
  
#line 271
  if (++self->bitsInQueue_ == self->rate_) {
    
#line 273
    OrgSpongycastleCryptoDigestsKeccakDigest_KeccakAbsorbWithByteArray_withInt_(self, self->dataQueue_, 0);
    self->bitsInQueue_ = 0;
  }
  {
    
#line 278
    jint full = JreRShift32(self->bitsInQueue_, 6);
    
#line 278
    jint partial = self->bitsInQueue_ & 63;
    jint off = 0;
    for (jint i = 0; i < full; ++i) {
      
#line 282
      *IOSLongArray_GetRef(nil_chk(self->state_), i) ^= OrgSpongycastleUtilPack_littleEndianToLongWithByteArray_withInt_(self->dataQueue_, off);
      off += 8;
    }
    if (partial > 0) {
      
#line 287
      jlong mask = (JreLShift64(1LL, partial)) - 1LL;
      *IOSLongArray_GetRef(nil_chk(self->state_), full) ^= OrgSpongycastleUtilPack_littleEndianToLongWithByteArray_withInt_(self->dataQueue_, off) & mask;
    }
    *IOSLongArray_GetRef(nil_chk(self->state_), JreRShift32((self->rate_ - 1), 6)) ^= (JreLShift64(1LL, 63));
  }
  
#line 293
  OrgSpongycastleCryptoDigestsKeccakDigest_KeccakPermutation(self);
  
#line 296
  OrgSpongycastleCryptoDigestsKeccakDigest_KeccakExtract(self);
  self->bitsInQueue_ = self->rate_;
  
#line 300
  self->squeezing_ = true;
}


#line 331
void OrgSpongycastleCryptoDigestsKeccakDigest_KeccakAbsorbWithByteArray_withInt_(OrgSpongycastleCryptoDigestsKeccakDigest *self, IOSByteArray *data, jint off) {
  
#line 333
  jint count = JreRShift32(self->rate_, 6);
  for (jint i = 0; i < count; ++i) {
    
#line 336
    *IOSLongArray_GetRef(nil_chk(self->state_), i) ^= OrgSpongycastleUtilPack_littleEndianToLongWithByteArray_withInt_(data, off);
    off += 8;
  }
  
#line 340
  OrgSpongycastleCryptoDigestsKeccakDigest_KeccakPermutation(self);
}


#line 343
void OrgSpongycastleCryptoDigestsKeccakDigest_KeccakExtract(OrgSpongycastleCryptoDigestsKeccakDigest *self) {
  
#line 345
  OrgSpongycastleUtilPack_longToLittleEndianWithLongArray_withInt_withInt_withByteArray_withInt_(self->state_, 0, JreRShift32(self->rate_, 6), self->dataQueue_, 0);
}


#line 348
void OrgSpongycastleCryptoDigestsKeccakDigest_KeccakPermutation(OrgSpongycastleCryptoDigestsKeccakDigest *self) {
  
#line 352
  for (jint i = 0; i < 24; i++) {
    
#line 356
    OrgSpongycastleCryptoDigestsKeccakDigest_thetaWithLongArray_(self->state_);
    
#line 359
    OrgSpongycastleCryptoDigestsKeccakDigest_rhoWithLongArray_(self->state_);
    
#line 362
    OrgSpongycastleCryptoDigestsKeccakDigest_piWithLongArray_(self->state_);
    
#line 365
    OrgSpongycastleCryptoDigestsKeccakDigest_chiWithLongArray_(self->state_);
    
#line 368
    OrgSpongycastleCryptoDigestsKeccakDigest_iotaWithLongArray_withInt_(self->state_, i);
  }
}


#line 373
jlong OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(jlong v, jint r) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  return (JreLShift64(v, r)) | (JreURShift64(v, -r));
}

void OrgSpongycastleCryptoDigestsKeccakDigest_thetaWithLongArray_(IOSLongArray *A) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  jlong C0 = IOSLongArray_Get(nil_chk(A), 0 + 0) ^ IOSLongArray_Get(A, 0 + 5) ^ IOSLongArray_Get(A, 0 + 10) ^ IOSLongArray_Get(A, 0 + 15) ^ IOSLongArray_Get(A, 0 + 20);
  jlong C1 = IOSLongArray_Get(A, 1 + 0) ^ IOSLongArray_Get(A, 1 + 5) ^ IOSLongArray_Get(A, 1 + 10) ^ IOSLongArray_Get(A, 1 + 15) ^ IOSLongArray_Get(A, 1 + 20);
  jlong C2 = IOSLongArray_Get(A, 2 + 0) ^ IOSLongArray_Get(A, 2 + 5) ^ IOSLongArray_Get(A, 2 + 10) ^ IOSLongArray_Get(A, 2 + 15) ^ IOSLongArray_Get(A, 2 + 20);
  jlong C3 = IOSLongArray_Get(A, 3 + 0) ^ IOSLongArray_Get(A, 3 + 5) ^ IOSLongArray_Get(A, 3 + 10) ^ IOSLongArray_Get(A, 3 + 15) ^ IOSLongArray_Get(A, 3 + 20);
  jlong C4 = IOSLongArray_Get(A, 4 + 0) ^ IOSLongArray_Get(A, 4 + 5) ^ IOSLongArray_Get(A, 4 + 10) ^ IOSLongArray_Get(A, 4 + 15) ^ IOSLongArray_Get(A, 4 + 20);
  
#line 386
  jlong dX = OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(C1, 1) ^ C4;
  
#line 388
  *IOSLongArray_GetRef(A, 0) ^= dX;
  *IOSLongArray_GetRef(A, 5) ^= dX;
  *IOSLongArray_GetRef(A, 10) ^= dX;
  *IOSLongArray_GetRef(A, 15) ^= dX;
  *IOSLongArray_GetRef(A, 20) ^= dX;
  
#line 394
  dX = OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(C2, 1) ^ C0;
  
#line 396
  *IOSLongArray_GetRef(A, 1) ^= dX;
  *IOSLongArray_GetRef(A, 6) ^= dX;
  *IOSLongArray_GetRef(A, 11) ^= dX;
  *IOSLongArray_GetRef(A, 16) ^= dX;
  *IOSLongArray_GetRef(A, 21) ^= dX;
  
#line 402
  dX = OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(C3, 1) ^ C1;
  
#line 404
  *IOSLongArray_GetRef(A, 2) ^= dX;
  *IOSLongArray_GetRef(A, 7) ^= dX;
  *IOSLongArray_GetRef(A, 12) ^= dX;
  *IOSLongArray_GetRef(A, 17) ^= dX;
  *IOSLongArray_GetRef(A, 22) ^= dX;
  
#line 410
  dX = OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(C4, 1) ^ C2;
  
#line 412
  *IOSLongArray_GetRef(A, 3) ^= dX;
  *IOSLongArray_GetRef(A, 8) ^= dX;
  *IOSLongArray_GetRef(A, 13) ^= dX;
  *IOSLongArray_GetRef(A, 18) ^= dX;
  *IOSLongArray_GetRef(A, 23) ^= dX;
  
#line 418
  dX = OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(C0, 1) ^ C3;
  
#line 420
  *IOSLongArray_GetRef(A, 4) ^= dX;
  *IOSLongArray_GetRef(A, 9) ^= dX;
  *IOSLongArray_GetRef(A, 14) ^= dX;
  *IOSLongArray_GetRef(A, 19) ^= dX;
  *IOSLongArray_GetRef(A, 24) ^= dX;
}


#line 427
void OrgSpongycastleCryptoDigestsKeccakDigest_rhoWithLongArray_(IOSLongArray *A) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  
#line 430
  for (jint x = 1; x < 25; x++) {
    
#line 432
    *IOSLongArray_GetRef(nil_chk(A), x) = OrgSpongycastleCryptoDigestsKeccakDigest_leftRotateWithLong_withInt_(IOSLongArray_Get(A, x), IOSIntArray_Get(nil_chk(OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRhoOffsets), x));
  }
}


#line 436
void OrgSpongycastleCryptoDigestsKeccakDigest_piWithLongArray_(IOSLongArray *A) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  jlong a1 = IOSLongArray_Get(nil_chk(A), 1);
  *IOSLongArray_GetRef(A, 1) = IOSLongArray_Get(A, 6);
  *IOSLongArray_GetRef(A, 6) = IOSLongArray_Get(A, 9);
  *IOSLongArray_GetRef(A, 9) = IOSLongArray_Get(A, 22);
  *IOSLongArray_GetRef(A, 22) = IOSLongArray_Get(A, 14);
  *IOSLongArray_GetRef(A, 14) = IOSLongArray_Get(A, 20);
  *IOSLongArray_GetRef(A, 20) = IOSLongArray_Get(A, 2);
  *IOSLongArray_GetRef(A, 2) = IOSLongArray_Get(A, 12);
  *IOSLongArray_GetRef(A, 12) = IOSLongArray_Get(A, 13);
  *IOSLongArray_GetRef(A, 13) = IOSLongArray_Get(A, 19);
  *IOSLongArray_GetRef(A, 19) = IOSLongArray_Get(A, 23);
  *IOSLongArray_GetRef(A, 23) = IOSLongArray_Get(A, 15);
  *IOSLongArray_GetRef(A, 15) = IOSLongArray_Get(A, 4);
  *IOSLongArray_GetRef(A, 4) = IOSLongArray_Get(A, 24);
  *IOSLongArray_GetRef(A, 24) = IOSLongArray_Get(A, 21);
  *IOSLongArray_GetRef(A, 21) = IOSLongArray_Get(A, 8);
  *IOSLongArray_GetRef(A, 8) = IOSLongArray_Get(A, 16);
  *IOSLongArray_GetRef(A, 16) = IOSLongArray_Get(A, 5);
  *IOSLongArray_GetRef(A, 5) = IOSLongArray_Get(A, 3);
  *IOSLongArray_GetRef(A, 3) = IOSLongArray_Get(A, 18);
  *IOSLongArray_GetRef(A, 18) = IOSLongArray_Get(A, 17);
  *IOSLongArray_GetRef(A, 17) = IOSLongArray_Get(A, 11);
  *IOSLongArray_GetRef(A, 11) = IOSLongArray_Get(A, 7);
  *IOSLongArray_GetRef(A, 7) = IOSLongArray_Get(A, 10);
  *IOSLongArray_GetRef(A, 10) = a1;
}

void OrgSpongycastleCryptoDigestsKeccakDigest_chiWithLongArray_(IOSLongArray *A) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  jlong chiC0;
  
#line 467
  jlong chiC1;
  
#line 467
  jlong chiC2;
  
#line 467
  jlong chiC3;
  
#line 467
  jlong chiC4;
  
#line 469
  for (jint yBy5 = 0; yBy5 < 25; yBy5 += 5) {
    
#line 471
    chiC0 = IOSLongArray_Get(nil_chk(A), 0 + yBy5) ^ ((~IOSLongArray_Get(A, ((JreIntMod((0 + 1), 5)) + yBy5))) & IOSLongArray_Get(A, ((JreIntMod((0 + 2), 5)) + yBy5)));
    chiC1 = IOSLongArray_Get(A, 1 + yBy5) ^ ((~IOSLongArray_Get(A, ((JreIntMod((1 + 1), 5)) + yBy5))) & IOSLongArray_Get(A, ((JreIntMod((1 + 2), 5)) + yBy5)));
    chiC2 = IOSLongArray_Get(A, 2 + yBy5) ^ ((~IOSLongArray_Get(A, ((JreIntMod((2 + 1), 5)) + yBy5))) & IOSLongArray_Get(A, ((JreIntMod((2 + 2), 5)) + yBy5)));
    chiC3 = IOSLongArray_Get(A, 3 + yBy5) ^ ((~IOSLongArray_Get(A, ((JreIntMod((3 + 1), 5)) + yBy5))) & IOSLongArray_Get(A, ((JreIntMod((3 + 2), 5)) + yBy5)));
    chiC4 = IOSLongArray_Get(A, 4 + yBy5) ^ ((~IOSLongArray_Get(A, ((JreIntMod((4 + 1), 5)) + yBy5))) & IOSLongArray_Get(A, ((JreIntMod((4 + 2), 5)) + yBy5)));
    
#line 477
    *IOSLongArray_GetRef(A, 0 + yBy5) = chiC0;
    *IOSLongArray_GetRef(A, 1 + yBy5) = chiC1;
    *IOSLongArray_GetRef(A, 2 + yBy5) = chiC2;
    *IOSLongArray_GetRef(A, 3 + yBy5) = chiC3;
    *IOSLongArray_GetRef(A, 4 + yBy5) = chiC4;
  }
}


#line 485
void OrgSpongycastleCryptoDigestsKeccakDigest_iotaWithLongArray_withInt_(IOSLongArray *A, jint indexRound) {
  OrgSpongycastleCryptoDigestsKeccakDigest_initialize();
  *IOSLongArray_GetRef(nil_chk(A), 0) ^= IOSLongArray_Get(nil_chk(OrgSpongycastleCryptoDigestsKeccakDigest_KeccakRoundConstants), indexRound);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgSpongycastleCryptoDigestsKeccakDigest)
