//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/es/gob/afirma/core/misc/protocol/ProtocolInvocationUriParserUtil.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "ParameterException.h"
#include "ProtocolConstants.h"
#include "ProtocolInvocationUriParserUtil.h"
#include "SecureXmlBuilder.h"
#include "UrlParametersForBatch.h"
#include "UrlParametersToGetCurrentLog.h"
#include "UrlParametersToLoad.h"
#include "UrlParametersToSave.h"
#include "UrlParametersToSelectCert.h"
#include "UrlParametersToSign.h"
#include "UrlParametersToSignAndSave.h"
#include "java/io/ByteArrayInputStream.h"
#include "java/io/UnsupportedEncodingException.h"
#include "java/lang/Exception.h"
#include "java/net/URLDecoder.h"
#include "java/nio/charset/Charset.h"
#include "java/nio/charset/StandardCharsets.h"
#include "java/util/HashMap.h"
#include "java/util/Map.h"
#include "java/util/logging/Logger.h"
#include "javax/xml/parsers/DocumentBuilder.h"
#include "org/w3c/dom/Document.h"
#include "org/w3c/dom/Element.h"
#include "org/w3c/dom/NamedNodeMap.h"
#include "org/w3c/dom/Node.h"
#include "org/w3c/dom/NodeList.h"

#if !__has_feature(objc_arc)
#error "ProtocolInvocationUriParserUtil must be compiled with ARC (-fobjc-arc)"
#endif

@interface EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil ()

- (instancetype)init;

@end

inline NSString *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_get_DEFAULT_OPERATION(void);
static NSString *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_OPERATION = @"SIGN";
J2OBJC_STATIC_FIELD_OBJ_FINAL(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil, DEFAULT_OPERATION, NSString *)

__attribute__((unused)) static void EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_init(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil *self);

__attribute__((unused)) static EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil *new_EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_init(void) NS_RETURNS_RETAINED;

__attribute__((unused)) static EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil *create_EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_init(void);

#line 1 "/Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/es/gob/afirma/core/misc/protocol/ProtocolInvocationUriParserUtil.java"

J2OBJC_INITIALIZED_DEFN(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil)

NSString *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_URL_ENCODING;


#line 28
@implementation EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil

J2OBJC_IGNORE_DESIGNATED_BEGIN

#line 34
- (instancetype)init {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END


#line 46
+ (EsGobAfirmaCoreMiscProtocolUrlParametersToSave *)getParametersToSaveWithJavaUtilMap:(id<JavaUtilMap>)params
                                                                           withBoolean:(jboolean)servicesRequired {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSaveWithJavaUtilMap_withBoolean_(params, servicesRequired);
}


#line 64
+ (EsGobAfirmaCoreMiscProtocolUrlParametersForBatch *)getParametersToBatchWithJavaUtilMap:(id<JavaUtilMap>)params
                                                                              withBoolean:(jboolean)servicesRequired {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToBatchWithJavaUtilMap_withBoolean_(params, servicesRequired);
}


#line 78
+ (EsGobAfirmaCoreMiscProtocolUrlParametersToLoad *)getParametersToLoadWithJavaUtilMap:(id<JavaUtilMap>)params {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToLoadWithJavaUtilMap_(params);
}


#line 92
+ (EsGobAfirmaCoreMiscProtocolUrlParametersToGetCurrentLog *)getParametersToGetCurrentLogWithJavaUtilMap:(id<JavaUtilMap>)params {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToGetCurrentLogWithJavaUtilMap_(params);
}


#line 104
+ (id<JavaUtilMap>)parseXmlWithByteArray:(IOSByteArray *)xml {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_parseXmlWithByteArray_(xml);
}


#line 153
+ (EsGobAfirmaCoreMiscProtocolUrlParametersToSign *)getParametersToSignWithJavaUtilMap:(id<JavaUtilMap>)params
                                                                           withBoolean:(jboolean)servicesRequired {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSignWithJavaUtilMap_withBoolean_(params, servicesRequired);
}


#line 169
+ (EsGobAfirmaCoreMiscProtocolUrlParametersToSignAndSave *)getParametersToSignAndSaveWithJavaUtilMap:(id<JavaUtilMap>)params
                                                                                         withBoolean:(jboolean)servicesRequired {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSignAndSaveWithJavaUtilMap_withBoolean_(params, servicesRequired);
}


#line 184
+ (EsGobAfirmaCoreMiscProtocolUrlParametersToSelectCert *)getParametersToSelectCertWithJavaUtilMap:(id<JavaUtilMap>)params
                                                                                       withBoolean:(jboolean)servicesRequired {
  return EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSelectCertWithJavaUtilMap_withBoolean_(params, servicesRequired);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "LEsGobAfirmaCoreMiscProtocolUrlParametersToSave;", 0x9, 0, 1, 2, 3, -1, -1 },
    { NULL, "LEsGobAfirmaCoreMiscProtocolUrlParametersForBatch;", 0x9, 4, 1, 2, 5, -1, -1 },
    { NULL, "LEsGobAfirmaCoreMiscProtocolUrlParametersToLoad;", 0x9, 6, 7, 2, 8, -1, -1 },
    { NULL, "LEsGobAfirmaCoreMiscProtocolUrlParametersToGetCurrentLog;", 0x9, 9, 7, 2, 10, -1, -1 },
    { NULL, "LJavaUtilMap;", 0x9, 11, 12, 2, 13, -1, -1 },
    { NULL, "LEsGobAfirmaCoreMiscProtocolUrlParametersToSign;", 0x9, 14, 1, 2, 15, -1, -1 },
    { NULL, "LEsGobAfirmaCoreMiscProtocolUrlParametersToSignAndSave;", 0x9, 16, 1, 2, 17, -1, -1 },
    { NULL, "LEsGobAfirmaCoreMiscProtocolUrlParametersToSelectCert;", 0x9, 18, 1, 2, 19, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(getParametersToSaveWithJavaUtilMap:withBoolean:);
  methods[2].selector = @selector(getParametersToBatchWithJavaUtilMap:withBoolean:);
  methods[3].selector = @selector(getParametersToLoadWithJavaUtilMap:);
  methods[4].selector = @selector(getParametersToGetCurrentLogWithJavaUtilMap:);
  methods[5].selector = @selector(parseXmlWithByteArray:);
  methods[6].selector = @selector(getParametersToSignWithJavaUtilMap:withBoolean:);
  methods[7].selector = @selector(getParametersToSignAndSaveWithJavaUtilMap:withBoolean:);
  methods[8].selector = @selector(getParametersToSelectCertWithJavaUtilMap:withBoolean:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "DEFAULT_URL_ENCODING", "LNSString;", .constantValue.asLong = 0, 0x18, -1, 20, -1, -1 },
    { "DEFAULT_OPERATION", "LNSString;", .constantValue.asLong = 0, 0x1a, -1, 21, -1, -1 },
  };
  static const void *ptrTable[] = { "getParametersToSave", "LJavaUtilMap;Z", "LEsGobAfirmaCoreMiscProtocolParameterException;", "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;Z)Les/gob/afirma/core/misc/protocol/UrlParametersToSave;", "getParametersToBatch", "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;Z)Les/gob/afirma/core/misc/protocol/UrlParametersForBatch;", "getParametersToLoad", "LJavaUtilMap;", "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;)Les/gob/afirma/core/misc/protocol/UrlParametersToLoad;", "getParametersToGetCurrentLog", "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;)Les/gob/afirma/core/misc/protocol/UrlParametersToGetCurrentLog;", "parseXml", "[B", "([B)Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;", "getParametersToSign", "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;Z)Les/gob/afirma/core/misc/protocol/UrlParametersToSign;", "getParametersToSignAndSave", "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;Z)Les/gob/afirma/core/misc/protocol/UrlParametersToSignAndSave;", "getParametersToSelectCert", "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;Z)Les/gob/afirma/core/misc/protocol/UrlParametersToSelectCert;", &EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_URL_ENCODING, &EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_OPERATION };
  static const J2ObjcClassInfo _EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil = { "ProtocolInvocationUriParserUtil", "es.gob.afirma.core.misc.protocol", ptrTable, methods, fields, 7, 0x11, 9, 2, -1, -1, -1, -1, -1 };
  return &_EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil;
}

+ (void)initialize {
  if (self == [EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil class]) {
    EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_URL_ENCODING =
#line 30
    [((JavaNioCharsetCharset *) nil_chk(JreLoadStatic(JavaNioCharsetStandardCharsets, UTF_8))) name];
    J2OBJC_SET_INITIALIZED(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil)
  }
}

@end


#line 34
void EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_init(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil *self) {
  NSObject_init(self);
}


#line 34
EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil *new_EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_init() {
  J2OBJC_NEW_IMPL(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil, init)
}


#line 34
EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil *create_EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_init() {
  J2OBJC_CREATE_IMPL(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil, init)
}


#line 46
EsGobAfirmaCoreMiscProtocolUrlParametersToSave *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSaveWithJavaUtilMap_withBoolean_(id<JavaUtilMap> params, jboolean servicesRequired) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  EsGobAfirmaCoreMiscProtocolUrlParametersToSave *ret = new_EsGobAfirmaCoreMiscProtocolUrlParametersToSave_initWithBoolean_(servicesRequired);
  
#line 50
  [ret setCommonParametersWithJavaUtilMap:params];
  [ret setSaveParametersWithJavaUtilMap:params];
  
#line 53
  return ret;
}


#line 64
EsGobAfirmaCoreMiscProtocolUrlParametersForBatch *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToBatchWithJavaUtilMap_withBoolean_(id<JavaUtilMap> params, jboolean servicesRequired) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  EsGobAfirmaCoreMiscProtocolUrlParametersForBatch *ret = new_EsGobAfirmaCoreMiscProtocolUrlParametersForBatch_initWithBoolean_(servicesRequired);
  [ret setCommonParametersWithJavaUtilMap:params];
  [ret setBatchParametersWithJavaUtilMap:params];
  return ret;
}


#line 78
EsGobAfirmaCoreMiscProtocolUrlParametersToLoad *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToLoadWithJavaUtilMap_(id<JavaUtilMap> params) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  
#line 79
  EsGobAfirmaCoreMiscProtocolUrlParametersToLoad *ret = new_EsGobAfirmaCoreMiscProtocolUrlParametersToLoad_init();
  
#line 81
  [ret setCommonParametersWithJavaUtilMap:params];
  [ret setLoadParametersWithJavaUtilMap:params];
  
#line 84
  return ret;
}

EsGobAfirmaCoreMiscProtocolUrlParametersToGetCurrentLog *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToGetCurrentLogWithJavaUtilMap_(id<JavaUtilMap> params) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  
#line 93
  EsGobAfirmaCoreMiscProtocolUrlParametersToGetCurrentLog *ret = new_EsGobAfirmaCoreMiscProtocolUrlParametersToGetCurrentLog_init();
  [ret setCommonParametersWithJavaUtilMap:params];
  [ret setGetCurrentLogParametersWithJavaUtilMap:params];
  
#line 97
  return ret;
}

id<JavaUtilMap> EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_parseXmlWithByteArray_(IOSByteArray *xml) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  
#line 105
  id<JavaUtilMap> params = new_JavaUtilHashMap_init();
  id<OrgW3cDomNodeList> elems;
  
#line 108
  @try {
    id<OrgW3cDomElement> docElement = [((id<OrgW3cDomDocument>) nil_chk([((JavaxXmlParsersDocumentBuilder *) nil_chk(EsGobAfirmaCoreMiscSecureXmlBuilder_getSecureDocumentBuilder())) parseWithJavaIoInputStream:new_JavaIoByteArrayInputStream_initWithByteArray_(
#line 110
    xml)])) getDocumentElement];
    
#line 113
    (void) [params putWithId:
#line 114
    EsGobAfirmaCoreMiscProtocolProtocolConstants_OPERATION_PARAM withId:
#line 115
    [((NSString *) nil_chk(EsGobAfirmaCoreMiscProtocolProtocolConstants_OPERATION_PARAM)) java_equalsIgnoreCase:[((id<OrgW3cDomElement>) nil_chk(docElement)) getNodeName]] ?
#line 116
    EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_OPERATION : [docElement getNodeName]];
    
#line 118
    elems = [docElement getChildNodes];
  }
  @catch (JavaLangException *e) {
    @throw new_EsGobAfirmaCoreMiscProtocolParameterException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@", @"Error grave durante el analisis del XML: ", e), e);
  }
  
#line 124
  for (jint i = 0; i < [((id<OrgW3cDomNodeList>) nil_chk(elems)) getLength]; i++) {
    id<OrgW3cDomNode> element = [elems itemWithInt:i];
    if (![@"e" isEqual:[((id<OrgW3cDomNode>) nil_chk(element)) getNodeName]]) {
      @throw new_EsGobAfirmaCoreMiscProtocolParameterException_initWithNSString_(@"El XML no tiene la forma esperada");
    }
    id<OrgW3cDomNamedNodeMap> attrs = [element getAttributes];
    id<OrgW3cDomNode> keyNode = [((id<OrgW3cDomNamedNodeMap>) nil_chk(attrs)) getNamedItemWithNSString:@"k"];
    id<OrgW3cDomNode> valueNode = [attrs getNamedItemWithNSString:@"v"];
    if (keyNode == nil || valueNode == nil) {
      @throw new_EsGobAfirmaCoreMiscProtocolParameterException_initWithNSString_(@"El XML no tiene la forma esperada");
    }
    @try {
      (void) [params putWithId:[keyNode getNodeValue] withId:JavaNetURLDecoder_decodeWithNSString_withNSString_([valueNode getNodeValue], EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_URL_ENCODING)];
    }
    @catch (JavaIoUnsupportedEncodingException *e) {
      [((JavaUtilLoggingLogger *) nil_chk(JavaUtilLoggingLogger_getLoggerWithNSString_(@"es.gob.afirma"))) warningWithNSString:JreStrcat("$$$@", @"Codificacion no soportada para la URL (", EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_DEFAULT_URL_ENCODING, @"): ", e)];
      (void) [params putWithId:[keyNode getNodeValue] withId:[valueNode getNodeValue]];
    }
  }
  return params;
}


#line 153
EsGobAfirmaCoreMiscProtocolUrlParametersToSign *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSignWithJavaUtilMap_withBoolean_(id<JavaUtilMap> params, jboolean servicesRequired) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  EsGobAfirmaCoreMiscProtocolUrlParametersToSign *ret = new_EsGobAfirmaCoreMiscProtocolUrlParametersToSign_initWithBoolean_(servicesRequired);
  [ret setCommonParametersWithJavaUtilMap:params];
  [ret setSignParametersWithJavaUtilMap:params];
  [ret setAnotherParamsWithJavaUtilMap:params];
  return ret;
}


#line 169
EsGobAfirmaCoreMiscProtocolUrlParametersToSignAndSave *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSignAndSaveWithJavaUtilMap_withBoolean_(id<JavaUtilMap> params, jboolean servicesRequired) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  EsGobAfirmaCoreMiscProtocolUrlParametersToSignAndSave *ret = new_EsGobAfirmaCoreMiscProtocolUrlParametersToSignAndSave_initWithBoolean_(servicesRequired);
  [ret setCommonParametersWithJavaUtilMap:params];
  [ret setSignAndSaveParametersWithJavaUtilMap:params];
  return ret;
}


#line 184
EsGobAfirmaCoreMiscProtocolUrlParametersToSelectCert *EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_getParametersToSelectCertWithJavaUtilMap_withBoolean_(id<JavaUtilMap> params, jboolean servicesRequired) {
  EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil_initialize();
  EsGobAfirmaCoreMiscProtocolUrlParametersToSelectCert *ret = new_EsGobAfirmaCoreMiscProtocolUrlParametersToSelectCert_initWithBoolean_(servicesRequired);
  [ret setCommonParametersWithJavaUtilMap:params];
  [ret setSelectCertParametersWithJavaUtilMap:params];
  return ret;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EsGobAfirmaCoreMiscProtocolProtocolInvocationUriParserUtil)
