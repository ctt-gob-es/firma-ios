//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/es/gob/afirma/signers/cades/GenCAdESEPESSignedData.java
//

#include "AOPkcs1Signer.h"
#include "CAdESParameters.h"
#include "CAdESTriPhaseSigner.h"
#include "GenCAdESEPESSignedData.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/security/PrivateKey.h"
#include "java/security/cert/Certificate.h"
#include "java/util/Date.h"
#include "java/util/Properties.h"

#if !__has_feature(objc_arc)
#error "GenCAdESEPESSignedData must be compiled with ARC (-fobjc-arc)"
#endif

@interface EsGobAfirmaSignersCadesGenCAdESEPESSignedData ()

- (instancetype)init;

@end

__attribute__((unused)) static void EsGobAfirmaSignersCadesGenCAdESEPESSignedData_init(EsGobAfirmaSignersCadesGenCAdESEPESSignedData *self);

__attribute__((unused)) static EsGobAfirmaSignersCadesGenCAdESEPESSignedData *new_EsGobAfirmaSignersCadesGenCAdESEPESSignedData_init(void) NS_RETURNS_RETAINED;

__attribute__((unused)) static EsGobAfirmaSignersCadesGenCAdESEPESSignedData *create_EsGobAfirmaSignersCadesGenCAdESEPESSignedData_init(void);

#line 1 "/Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/es/gob/afirma/signers/cades/GenCAdESEPESSignedData.java"


#line 47
@implementation EsGobAfirmaSignersCadesGenCAdESEPESSignedData

J2OBJC_IGNORE_DESIGNATED_BEGIN

#line 49
- (instancetype)init {
  EsGobAfirmaSignersCadesGenCAdESEPESSignedData_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END


#line 60
+ (IOSByteArray *)generateSignedDataWithNSString:(NSString *)signatureAlgorithm
                      withJavaSecurityPrivateKey:(id<JavaSecurityPrivateKey>)key
            withJavaSecurityCertCertificateArray:(IOSObjectArray *)certChain
      withEsGobAfirmaSignersCadesCAdESParameters:(EsGobAfirmaSignersCadesCAdESParameters *)config {
  return EsGobAfirmaSignersCadesGenCAdESEPESSignedData_generateSignedDataWithNSString_withJavaSecurityPrivateKey_withJavaSecurityCertCertificateArray_withEsGobAfirmaSignersCadesCAdESParameters_(signatureAlgorithm, key, certChain, config);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x9, 0, 1, 2, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(generateSignedDataWithNSString:withJavaSecurityPrivateKey:withJavaSecurityCertCertificateArray:withEsGobAfirmaSignersCadesCAdESParameters:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "generateSignedData", "LNSString;LJavaSecurityPrivateKey;[LJavaSecurityCertCertificate;LEsGobAfirmaSignersCadesCAdESParameters;", "LEsGobAfirmaCoreAOException;" };
  static const J2ObjcClassInfo _EsGobAfirmaSignersCadesGenCAdESEPESSignedData = { "GenCAdESEPESSignedData", "es.gob.afirma.signers.cades", ptrTable, methods, NULL, 7, 0x11, 2, 0, -1, -1, -1, -1, -1 };
  return &_EsGobAfirmaSignersCadesGenCAdESEPESSignedData;
}

@end


#line 49
void EsGobAfirmaSignersCadesGenCAdESEPESSignedData_init(EsGobAfirmaSignersCadesGenCAdESEPESSignedData *self) {
  NSObject_init(self);
}


#line 49
EsGobAfirmaSignersCadesGenCAdESEPESSignedData *new_EsGobAfirmaSignersCadesGenCAdESEPESSignedData_init() {
  J2OBJC_NEW_IMPL(EsGobAfirmaSignersCadesGenCAdESEPESSignedData, init)
}


#line 49
EsGobAfirmaSignersCadesGenCAdESEPESSignedData *create_EsGobAfirmaSignersCadesGenCAdESEPESSignedData_init() {
  J2OBJC_CREATE_IMPL(EsGobAfirmaSignersCadesGenCAdESEPESSignedData, init)
}


#line 60
IOSByteArray *EsGobAfirmaSignersCadesGenCAdESEPESSignedData_generateSignedDataWithNSString_withJavaSecurityPrivateKey_withJavaSecurityCertCertificateArray_withEsGobAfirmaSignersCadesCAdESParameters_(NSString *signatureAlgorithm, id<JavaSecurityPrivateKey> key, IOSObjectArray *certChain, EsGobAfirmaSignersCadesCAdESParameters *config) {
  EsGobAfirmaSignersCadesGenCAdESEPESSignedData_initialize();
  
#line 66
  if (config == nil) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"No se ha introducido configuracion para la construccion de la firma");
  }
  
#line 70
  JavaUtilDate *signDate = new_JavaUtilDate_init();
  
#line 72
  IOSObjectArray *aplicableCertificateChain = [config isIncludedOnlySigningCertificate] ? [IOSObjectArray newArrayWithObjects:(id[]){ IOSObjectArray_Get(nil_chk(
#line 73
  certChain), 0) } count:1 type:JavaSecurityCertCertificate_class_()] : certChain;
  
#line 76
  IOSByteArray *preSignature = EsGobAfirmaSignersCadesCAdESTriPhaseSigner_preSignWithJavaSecurityCertCertificateArray_withJavaUtilDate_withEsGobAfirmaSignersCadesCAdESParameters_(
#line 77
  aplicableCertificateChain,
#line 78
  signDate,
#line 79
  config);
  
#line 83
  IOSByteArray *signatureValue = [new_EsGobAfirmaCoreSignersAOPkcs1Signer_init() signWithByteArray:
#line 84
  preSignature withNSString:
#line 85
  signatureAlgorithm withJavaSecurityPrivateKey:
#line 86
  key withJavaSecurityCertCertificateArray:
#line 87
  aplicableCertificateChain withJavaUtilProperties:
#line 88
  [config getExtraParams]];
  
#line 92
  return EsGobAfirmaSignersCadesCAdESTriPhaseSigner_postSignWithNSString_withByteArray_withJavaSecurityCertCertificateArray_withByteArray_withByteArray_(
#line 93
  signatureAlgorithm,
#line 94
  [config getContentData],
#line 95
  aplicableCertificateChain,
#line 96
  signatureValue,
#line 97
  preSignature);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EsGobAfirmaSignersCadesGenCAdESEPESSignedData)
