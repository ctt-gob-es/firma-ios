//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/org/spongycastle/asn1/ASN1OutputStream.java
//

#include "ASN1Encodable.h"
#include "ASN1OutputStream.h"
#include "ASN1Primitive.h"
#include "BERTags.h"
#include "DEROutputStream.h"
#include "DLOutputStream.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/io/OutputStream.h"

#if !__has_feature(objc_arc)
#error "ASN1OutputStream must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgSpongycastleAsn1ASN1OutputStream () {
 @public
  JavaIoOutputStream *os_;
}

@end

J2OBJC_FIELD_SETTER(OrgSpongycastleAsn1ASN1OutputStream, os_, JavaIoOutputStream *)

__attribute__((unused)) static void OrgSpongycastleAsn1ASN1OutputStream_writeWithInt_(OrgSpongycastleAsn1ASN1OutputStream *self, jint b);

@interface OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream : OrgSpongycastleAsn1ASN1OutputStream {
 @public
  jboolean first_;
}

- (instancetype)initWithOrgSpongycastleAsn1ASN1OutputStream:(OrgSpongycastleAsn1ASN1OutputStream *)outer$
                                     withJavaIoOutputStream:(JavaIoOutputStream *)os;

- (void)writeWithInt:(jint)b;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream)

__attribute__((unused)) static void OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream *self, OrgSpongycastleAsn1ASN1OutputStream *outer$, JavaIoOutputStream *os);

__attribute__((unused)) static OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream *new_OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(OrgSpongycastleAsn1ASN1OutputStream *outer$, JavaIoOutputStream *os) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream *create_OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(OrgSpongycastleAsn1ASN1OutputStream *outer$, JavaIoOutputStream *os);

J2OBJC_TYPE_LITERAL_HEADER(OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream)

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/org/spongycastle/asn1/ASN1OutputStream.java"


#line 9
@implementation OrgSpongycastleAsn1ASN1OutputStream


#line 13
- (instancetype)initWithJavaIoOutputStream:(JavaIoOutputStream *)os {
  OrgSpongycastleAsn1ASN1OutputStream_initWithJavaIoOutputStream_(self, os);
  return self;
}


#line 19
- (void)writeLengthWithInt:(jint)length {
  
#line 23
  if (length > 127) {
    
#line 25
    jint size = 1;
    jint val = length;
    
#line 28
    while ((JreURShiftAssignInt(&val, 8)) != 0) {
      
#line 30
      size++;
    }
    
#line 33
    [self writeWithInt:(jbyte) (size | (jint) 0x80)];
    
#line 35
    for (jint i = (size - 1) * 8; i >= 0; i -= 8) {
      
#line 37
      [self writeWithInt:(jbyte) (JreRShift32(length, i))];
    }
  }
  else {
    
#line 42
    [self writeWithInt:(jbyte) length];
  }
}


#line 46
- (void)writeWithInt:(jint)b {
  OrgSpongycastleAsn1ASN1OutputStream_writeWithInt_(self, b);
}


#line 52
- (void)writeWithByteArray:(IOSByteArray *)bytes {
  
#line 55
  [((JavaIoOutputStream *) nil_chk(os_)) writeWithByteArray:bytes];
}

- (void)writeWithByteArray:(IOSByteArray *)bytes
                   withInt:(jint)off
                   withInt:(jint)len {
  [((JavaIoOutputStream *) nil_chk(os_)) writeWithByteArray:bytes withInt:off withInt:len];
}

- (void)writeEncodedWithInt:(jint)tag
              withByteArray:(IOSByteArray *)bytes {
  
#line 69
  [self writeWithInt:tag];
  [self writeLengthWithInt:((IOSByteArray *) nil_chk(bytes))->size_];
  [self writeWithByteArray:bytes];
}


#line 74
- (void)writeTagWithInt:(jint)flags
                withInt:(jint)tagNo {
  
#line 77
  if (tagNo < 31) {
    
#line 79
    [self writeWithInt:flags | tagNo];
  }
  else {
    
#line 83
    [self writeWithInt:flags | (jint) 0x1f];
    if (tagNo < 128) {
      
#line 86
      [self writeWithInt:tagNo];
    }
    else {
      
#line 90
      IOSByteArray *stack = [IOSByteArray newArrayWithLength:5];
      jint pos = stack->size_;
      
#line 93
      *IOSByteArray_GetRef(stack, --pos) = (jbyte) (tagNo & (jint) 0x7F);
      
#line 95
      do {
        
#line 97
        JreRShiftAssignInt(&tagNo, 7);
        *IOSByteArray_GetRef(stack, --pos) = (jbyte) ((tagNo & (jint) 0x7F) | (jint) 0x80);
      }
      while (tagNo > 127);
      
#line 102
      [self writeWithByteArray:stack withInt:pos withInt:stack->size_ - pos];
    }
  }
}


#line 107
- (void)writeEncodedWithInt:(jint)flags
                    withInt:(jint)tagNo
              withByteArray:(IOSByteArray *)bytes {
  [self writeTagWithInt:flags withInt:tagNo];
  [self writeLengthWithInt:((IOSByteArray *) nil_chk(bytes))->size_];
  [self writeWithByteArray:bytes];
}

- (void)writeNull {
  
#line 118
  [((JavaIoOutputStream *) nil_chk(os_)) writeWithInt:OrgSpongycastleAsn1BERTags_NULL];
  [((JavaIoOutputStream *) nil_chk(os_)) writeWithInt:(jint) 0x00];
}

- (void)writeObjectWithOrgSpongycastleAsn1ASN1Encodable:(id<OrgSpongycastleAsn1ASN1Encodable>)obj {
  
#line 126
  if (obj != nil) {
    
#line 128
    [((OrgSpongycastleAsn1ASN1Primitive *) nil_chk([obj toASN1Primitive])) encodeWithOrgSpongycastleAsn1ASN1OutputStream:self];
  }
  else {
    
#line 132
    @throw new_JavaIoIOException_initWithNSString_(@"null object detected");
  }
}


#line 136
- (void)writeImplicitObjectWithOrgSpongycastleAsn1ASN1Primitive:(OrgSpongycastleAsn1ASN1Primitive *)obj {
  
#line 139
  if (obj != nil) {
    
#line 141
    [obj encodeWithOrgSpongycastleAsn1ASN1OutputStream:new_OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(self, os_)];
  }
  else {
    
#line 145
    @throw new_JavaIoIOException_initWithNSString_(@"null object detected");
  }
}


#line 149
- (void)close {
  
#line 152
  [((JavaIoOutputStream *) nil_chk(os_)) close];
}

- (void)flush {
  
#line 158
  [((JavaIoOutputStream *) nil_chk(os_)) flush];
}

- (OrgSpongycastleAsn1ASN1OutputStream *)getDERSubStream {
  
#line 163
  return new_OrgSpongycastleAsn1DEROutputStream_initWithJavaIoOutputStream_(os_);
}


#line 166
- (OrgSpongycastleAsn1ASN1OutputStream *)getDLSubStream {
  
#line 168
  return new_OrgSpongycastleAsn1DLOutputStream_initWithJavaIoOutputStream_(os_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 1, 2, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 4, 2, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 4, 5, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 4, 6, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 7, 8, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 9, 10, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 7, 11, 3, -1, -1, -1 },
    { NULL, "V", 0x4, -1, -1, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 12, 13, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 14, 15, 3, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, 3, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, 3, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1ASN1OutputStream;", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1ASN1OutputStream;", 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithJavaIoOutputStream:);
  methods[1].selector = @selector(writeLengthWithInt:);
  methods[2].selector = @selector(writeWithInt:);
  methods[3].selector = @selector(writeWithByteArray:);
  methods[4].selector = @selector(writeWithByteArray:withInt:withInt:);
  methods[5].selector = @selector(writeEncodedWithInt:withByteArray:);
  methods[6].selector = @selector(writeTagWithInt:withInt:);
  methods[7].selector = @selector(writeEncodedWithInt:withInt:withByteArray:);
  methods[8].selector = @selector(writeNull);
  methods[9].selector = @selector(writeObjectWithOrgSpongycastleAsn1ASN1Encodable:);
  methods[10].selector = @selector(writeImplicitObjectWithOrgSpongycastleAsn1ASN1Primitive:);
  methods[11].selector = @selector(close);
  methods[12].selector = @selector(flush);
  methods[13].selector = @selector(getDERSubStream);
  methods[14].selector = @selector(getDLSubStream);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "os_", "LJavaIoOutputStream;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaIoOutputStream;", "writeLength", "I", "LJavaIoIOException;", "write", "[B", "[BII", "writeEncoded", "I[B", "writeTag", "II", "II[B", "writeObject", "LOrgSpongycastleAsn1ASN1Encodable;", "writeImplicitObject", "LOrgSpongycastleAsn1ASN1Primitive;", "LOrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream;" };
  static const J2ObjcClassInfo _OrgSpongycastleAsn1ASN1OutputStream = { "ASN1OutputStream", "org.spongycastle.asn1", ptrTable, methods, fields, 7, 0x1, 15, 1, -1, 16, -1, -1, -1 };
  return &_OrgSpongycastleAsn1ASN1OutputStream;
}

@end


#line 13
void OrgSpongycastleAsn1ASN1OutputStream_initWithJavaIoOutputStream_(OrgSpongycastleAsn1ASN1OutputStream *self, JavaIoOutputStream *os) {
  NSObject_init(self);
  
#line 16
  self->os_ = os;
}


#line 13
OrgSpongycastleAsn1ASN1OutputStream *new_OrgSpongycastleAsn1ASN1OutputStream_initWithJavaIoOutputStream_(JavaIoOutputStream *os) {
  J2OBJC_NEW_IMPL(OrgSpongycastleAsn1ASN1OutputStream, initWithJavaIoOutputStream_, os)
}


#line 13
OrgSpongycastleAsn1ASN1OutputStream *create_OrgSpongycastleAsn1ASN1OutputStream_initWithJavaIoOutputStream_(JavaIoOutputStream *os) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleAsn1ASN1OutputStream, initWithJavaIoOutputStream_, os)
}


#line 46
void OrgSpongycastleAsn1ASN1OutputStream_writeWithInt_(OrgSpongycastleAsn1ASN1OutputStream *self, jint b) {
  
#line 49
  [((JavaIoOutputStream *) nil_chk(self->os_)) writeWithInt:b];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgSpongycastleAsn1ASN1OutputStream)

#line 1 "/Users/desarrolloabamobile/Documents/JAVA/pades-ios/src/main/java/org/spongycastle/asn1/ASN1OutputStream.java"


#line 171
@implementation OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream


#line 176
- (instancetype)initWithOrgSpongycastleAsn1ASN1OutputStream:(OrgSpongycastleAsn1ASN1OutputStream *)outer$
                                     withJavaIoOutputStream:(JavaIoOutputStream *)os {
  OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(self, outer$, os);
  return self;
}


#line 181
- (void)writeWithInt:(jint)b {
  
#line 184
  if (first_) {
    
#line 186
    first_ = false;
  }
  else {
    
#line 190
    OrgSpongycastleAsn1ASN1OutputStream_writeWithInt_(self, b);
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgSpongycastleAsn1ASN1OutputStream:withJavaIoOutputStream:);
  methods[1].selector = @selector(writeWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "first_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgSpongycastleAsn1ASN1OutputStream;LJavaIoOutputStream;", "write", "I", "LJavaIoIOException;", "LOrgSpongycastleAsn1ASN1OutputStream;" };
  static const J2ObjcClassInfo _OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream = { "ImplicitOutputStream", "org.spongycastle.asn1", ptrTable, methods, fields, 7, 0x2, 2, 1, 4, -1, -1, -1, -1 };
  return &_OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream;
}

@end


#line 176
void OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream *self, OrgSpongycastleAsn1ASN1OutputStream *outer$, JavaIoOutputStream *os) {
  OrgSpongycastleAsn1ASN1OutputStream_initWithJavaIoOutputStream_(self,
#line 178
  os);
  self->first_ =
#line 174
  true;
}


#line 176
OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream *new_OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(OrgSpongycastleAsn1ASN1OutputStream *outer$, JavaIoOutputStream *os) {
  J2OBJC_NEW_IMPL(OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream, initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_, outer$, os)
}


#line 176
OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream *create_OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream_initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_(OrgSpongycastleAsn1ASN1OutputStream *outer$, JavaIoOutputStream *os) {
  J2OBJC_CREATE_IMPL(OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream, initWithOrgSpongycastleAsn1ASN1OutputStream_withJavaIoOutputStream_, outer$, os)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgSpongycastleAsn1ASN1OutputStream_ImplicitOutputStream)
