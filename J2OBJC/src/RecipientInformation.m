//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/org/spongycastle/cms/RecipientInformation.java
//

#include "ASN1Encodable.h"
#include "ASN1Encoding.h"
#include "ASN1ObjectIdentifier.h"
#include "ASN1Primitive.h"
#include "ASN1Set.h"
#include "AlgorithmIdentifier.h"
#include "AuthAttributesProvider.h"
#include "CMSEnvelopedHelper.h"
#include "CMSException.h"
#include "CMSSecureReadable.h"
#include "CMSTypedStream.h"
#include "CMSUtils.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "Recipient.h"
#include "RecipientId.h"
#include "RecipientInformation.h"
#include "RecipientOperator.h"
#include "Streams.h"
#include "java/io/ByteArrayInputStream.h"
#include "java/io/IOException.h"
#include "java/io/InputStream.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/RuntimeException.h"

#if !__has_feature(objc_arc)
#error "RecipientInformation must be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgSpongycastleCmsRecipientInformation () {
 @public
  id<OrgSpongycastleCmsAuthAttributesProvider> additionalData_;
  IOSByteArray *resultMac_;
  OrgSpongycastleCmsRecipientOperator *operator__;
}

- (IOSByteArray *)encodeObjWithOrgSpongycastleAsn1ASN1Encodable:(id<OrgSpongycastleAsn1ASN1Encodable>)obj;

@end

J2OBJC_FIELD_SETTER(OrgSpongycastleCmsRecipientInformation, additionalData_, id<OrgSpongycastleCmsAuthAttributesProvider>)
J2OBJC_FIELD_SETTER(OrgSpongycastleCmsRecipientInformation, resultMac_, IOSByteArray *)
J2OBJC_FIELD_SETTER(OrgSpongycastleCmsRecipientInformation, operator__, OrgSpongycastleCmsRecipientOperator *)

__attribute__((unused)) static IOSByteArray *OrgSpongycastleCmsRecipientInformation_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(OrgSpongycastleCmsRecipientInformation *self, id<OrgSpongycastleAsn1ASN1Encodable> obj);

#line 1 "/Users/desarrolloabamobile/Downloads/pades-ios-mini/src/main/java/org/spongycastle/cms/RecipientInformation.java"


#line 11
@implementation OrgSpongycastleCmsRecipientInformation


#line 23
- (instancetype)initWithOrgSpongycastleAsn1X509AlgorithmIdentifier:(OrgSpongycastleAsn1X509AlgorithmIdentifier *)keyEncAlg
                    withOrgSpongycastleAsn1X509AlgorithmIdentifier:(OrgSpongycastleAsn1X509AlgorithmIdentifier *)messageAlgorithm
                           withOrgSpongycastleCmsCMSSecureReadable:(id<OrgSpongycastleCmsCMSSecureReadable>)secureReadable
                      withOrgSpongycastleCmsAuthAttributesProvider:(id<OrgSpongycastleCmsAuthAttributesProvider>)additionalData {
  OrgSpongycastleCmsRecipientInformation_initWithOrgSpongycastleAsn1X509AlgorithmIdentifier_withOrgSpongycastleAsn1X509AlgorithmIdentifier_withOrgSpongycastleCmsCMSSecureReadable_withOrgSpongycastleCmsAuthAttributesProvider_(self, keyEncAlg, messageAlgorithm, secureReadable, additionalData);
  return self;
}


#line 35
- (OrgSpongycastleCmsRecipientId *)getRID {
  
#line 37
  return rid_;
}


#line 40
- (IOSByteArray *)encodeObjWithOrgSpongycastleAsn1ASN1Encodable:(id<OrgSpongycastleAsn1ASN1Encodable>)obj {
  return OrgSpongycastleCmsRecipientInformation_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(self, obj);
}


#line 57
- (OrgSpongycastleAsn1X509AlgorithmIdentifier *)getKeyEncryptionAlgorithm {
  
#line 59
  return keyEncAlg_;
}


#line 67
- (NSString *)getKeyEncryptionAlgOID {
  
#line 69
  return [((OrgSpongycastleAsn1ASN1ObjectIdentifier *) nil_chk([((OrgSpongycastleAsn1X509AlgorithmIdentifier *) nil_chk(keyEncAlg_)) getAlgorithm])) getId];
}


#line 78
- (IOSByteArray *)getKeyEncryptionAlgParams {
  
#line 80
  @try {
    
#line 82
    return OrgSpongycastleCmsRecipientInformation_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(self, [((OrgSpongycastleAsn1X509AlgorithmIdentifier *) nil_chk(keyEncAlg_)) getParameters]);
  }
  @catch (JavaLangException *e) {
    
#line 86
    @throw new_JavaLangRuntimeException_initWithNSString_(JreStrcat("$@", @"exception getting encryption parameters ", e));
  }
}


#line 96
- (IOSByteArray *)getContentDigest {
  
#line 98
  if ([secureReadable_ isKindOfClass:[OrgSpongycastleCmsCMSEnvelopedHelper_CMSDigestAuthenticatedSecureReadable class]]) {
    
#line 100
    return [((OrgSpongycastleCmsCMSEnvelopedHelper_CMSDigestAuthenticatedSecureReadable *) nil_chk(((OrgSpongycastleCmsCMSEnvelopedHelper_CMSDigestAuthenticatedSecureReadable *) secureReadable_))) getDigest];
  }
  
#line 103
  return nil;
}


#line 112
- (IOSByteArray *)getMac {
  
#line 114
  if (resultMac_ == nil) {
    
#line 116
    if ([((OrgSpongycastleCmsRecipientOperator *) nil_chk(operator__)) isMacBased]) {
      
#line 118
      if (additionalData_ != nil) {
        
#line 120
        @try {
          
#line 122
          OrgSpongycastleUtilIoStreams_drainWithJavaIoInputStream_([((OrgSpongycastleCmsRecipientOperator *) nil_chk(operator__)) getInputStreamWithJavaIoInputStream:new_JavaIoByteArrayInputStream_initWithByteArray_([((OrgSpongycastleAsn1ASN1Set *) nil_chk([additionalData_ getAuthAttributes])) getEncodedWithNSString:OrgSpongycastleAsn1ASN1Encoding_DER])]);
        }
        @catch (JavaIoIOException *e) {
          
#line 126
          @throw new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$", @"unable to drain input: ", [e getMessage]));
        }
      }
      resultMac_ = [((OrgSpongycastleCmsRecipientOperator *) nil_chk(operator__)) getMac];
    }
  }
  
#line 133
  return resultMac_;
}


#line 144
- (IOSByteArray *)getContentWithOrgSpongycastleCmsRecipient:(id<OrgSpongycastleCmsRecipient>)recipient {
  
#line 148
  @try {
    
#line 150
    return OrgSpongycastleCmsCMSUtils_streamToByteArrayWithJavaIoInputStream_([((OrgSpongycastleCmsCMSTypedStream *) nil_chk([self getContentStreamWithOrgSpongycastleCmsRecipient:recipient])) getContentStream]);
  }
  @catch (JavaIoIOException *e) {
    
#line 154
    @throw new_OrgSpongycastleCmsCMSException_initWithNSString_withJavaLangException_(JreStrcat("$$", @"unable to parse internal stream: ", [e getMessage]), e);
  }
}


#line 166
- (OrgSpongycastleCmsCMSTypedStream *)getContentStreamWithOrgSpongycastleCmsRecipient:(id<OrgSpongycastleCmsRecipient>)recipient {
  
#line 169
  operator__ = [self getRecipientOperatorWithOrgSpongycastleCmsRecipient:recipient];
  
#line 171
  if (additionalData_ != nil) {
    
#line 173
    return new_OrgSpongycastleCmsCMSTypedStream_initWithJavaIoInputStream_([((id<OrgSpongycastleCmsCMSSecureReadable>) nil_chk(secureReadable_)) getInputStream]);
  }
  
#line 176
  return new_OrgSpongycastleCmsCMSTypedStream_initWithJavaIoInputStream_([((OrgSpongycastleCmsRecipientOperator *) nil_chk(operator__)) getInputStreamWithJavaIoInputStream:[((id<OrgSpongycastleCmsCMSSecureReadable>) nil_chk(secureReadable_)) getInputStream]]);
}


#line 179
- (OrgSpongycastleCmsRecipientOperator *)getRecipientOperatorWithOrgSpongycastleCmsRecipient:(id<OrgSpongycastleCmsRecipient>)recipient {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "LOrgSpongycastleCmsRecipientId;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x2, 1, 2, 3, -1, -1, -1 },
    { NULL, "LOrgSpongycastleAsn1X509AlgorithmIdentifier;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, 4, 5, 6, -1, -1, -1 },
    { NULL, "LOrgSpongycastleCmsCMSTypedStream;", 0x1, 7, 5, 8, -1, -1, -1 },
    { NULL, "LOrgSpongycastleCmsRecipientOperator;", 0x404, 9, 5, 8, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgSpongycastleAsn1X509AlgorithmIdentifier:withOrgSpongycastleAsn1X509AlgorithmIdentifier:withOrgSpongycastleCmsCMSSecureReadable:withOrgSpongycastleCmsAuthAttributesProvider:);
  methods[1].selector = @selector(getRID);
  methods[2].selector = @selector(encodeObjWithOrgSpongycastleAsn1ASN1Encodable:);
  methods[3].selector = @selector(getKeyEncryptionAlgorithm);
  methods[4].selector = @selector(getKeyEncryptionAlgOID);
  methods[5].selector = @selector(getKeyEncryptionAlgParams);
  methods[6].selector = @selector(getContentDigest);
  methods[7].selector = @selector(getMac);
  methods[8].selector = @selector(getContentWithOrgSpongycastleCmsRecipient:);
  methods[9].selector = @selector(getContentStreamWithOrgSpongycastleCmsRecipient:);
  methods[10].selector = @selector(getRecipientOperatorWithOrgSpongycastleCmsRecipient:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "rid_", "LOrgSpongycastleCmsRecipientId;", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "keyEncAlg_", "LOrgSpongycastleAsn1X509AlgorithmIdentifier;", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "messageAlgorithm_", "LOrgSpongycastleAsn1X509AlgorithmIdentifier;", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "secureReadable_", "LOrgSpongycastleCmsCMSSecureReadable;", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "additionalData_", "LOrgSpongycastleCmsAuthAttributesProvider;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "resultMac_", "[B", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "operator__", "LOrgSpongycastleCmsRecipientOperator;", .constantValue.asLong = 0, 0x2, 10, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgSpongycastleAsn1X509AlgorithmIdentifier;LOrgSpongycastleAsn1X509AlgorithmIdentifier;LOrgSpongycastleCmsCMSSecureReadable;LOrgSpongycastleCmsAuthAttributesProvider;", "encodeObj", "LOrgSpongycastleAsn1ASN1Encodable;", "LJavaIoIOException;", "getContent", "LOrgSpongycastleCmsRecipient;", "LOrgSpongycastleCmsCMSException;", "getContentStream", "LOrgSpongycastleCmsCMSException;LJavaIoIOException;", "getRecipientOperator", "operator" };
  static const J2ObjcClassInfo _OrgSpongycastleCmsRecipientInformation = { "RecipientInformation", "org.spongycastle.cms", ptrTable, methods, fields, 7, 0x401, 11, 7, -1, -1, -1, -1, -1 };
  return &_OrgSpongycastleCmsRecipientInformation;
}

@end


#line 23
void OrgSpongycastleCmsRecipientInformation_initWithOrgSpongycastleAsn1X509AlgorithmIdentifier_withOrgSpongycastleAsn1X509AlgorithmIdentifier_withOrgSpongycastleCmsCMSSecureReadable_withOrgSpongycastleCmsAuthAttributesProvider_(OrgSpongycastleCmsRecipientInformation *self, OrgSpongycastleAsn1X509AlgorithmIdentifier *keyEncAlg, OrgSpongycastleAsn1X509AlgorithmIdentifier *messageAlgorithm, id<OrgSpongycastleCmsCMSSecureReadable> secureReadable, id<OrgSpongycastleCmsAuthAttributesProvider> additionalData) {
  NSObject_init(self);
  
#line 29
  self->keyEncAlg_ = keyEncAlg;
  self->messageAlgorithm_ = messageAlgorithm;
  self->secureReadable_ = secureReadable;
  self->additionalData_ = additionalData;
}


#line 40
IOSByteArray *OrgSpongycastleCmsRecipientInformation_encodeObjWithOrgSpongycastleAsn1ASN1Encodable_(OrgSpongycastleCmsRecipientInformation *self, id<OrgSpongycastleAsn1ASN1Encodable> obj) {
  
#line 44
  if (obj != nil) {
    
#line 46
    return [((OrgSpongycastleAsn1ASN1Primitive *) nil_chk([obj toASN1Primitive])) getEncoded];
  }
  
#line 49
  return nil;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgSpongycastleCmsRecipientInformation)
